[{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\api\\auth\\forgot-password\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6413,6416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6413,6416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { Resend } from 'resend';\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const { email } = await request.json();\r\n\r\n        if (!email) {\r\n            return NextResponse.json({ error: 'Email ├® obrigat├│rio' }, { status: 400 });\r\n        }\r\n\r\n        // Check required environment variables\r\n        const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n        const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\r\n        const resendApiKey = process.env.RESEND_API_KEY;\r\n        const appUrl = process.env.NEXT_PUBLIC_APP_URL || 'https://iapromptly.com.br';\r\n\r\n        if (!supabaseUrl || !supabaseServiceKey) {\r\n            console.error('Missing Supabase config:', { supabaseUrl: !!supabaseUrl, serviceKey: !!supabaseServiceKey });\r\n            return NextResponse.json({ error: 'Configura├º├úo do servidor incompleta' }, { status: 500 });\r\n        }\r\n\r\n        if (!resendApiKey) {\r\n            console.error('Missing RESEND_API_KEY');\r\n            return NextResponse.json({ error: 'Configura├º├úo de email incompleta' }, { status: 500 });\r\n        }\r\n\r\n        // Create Supabase admin client for password reset\r\n        const supabase = createClient(supabaseUrl, supabaseServiceKey, {\r\n            auth: { autoRefreshToken: false, persistSession: false }\r\n        });\r\n\r\n        // Generate password reset link\r\n        const { data, error } = await supabase.auth.admin.generateLink({\r\n            type: 'recovery',\r\n            email: email,\r\n            options: {\r\n                redirectTo: `${appUrl}/reset-password`,\r\n            }\r\n        });\r\n\r\n        if (error) {\r\n            console.error('Supabase generateLink error:', error);\r\n            // Don't reveal if email exists or not for security - return success\r\n            return NextResponse.json({ success: true });\r\n        }\r\n\r\n        const resetLink = data.properties?.action_link;\r\n\r\n        if (!resetLink) {\r\n            console.error('No reset link generated - user may not exist');\r\n            // Still return success to prevent email enumeration\r\n            return NextResponse.json({ success: true });\r\n        }\r\n\r\n        console.log('Reset link generated, sending email to:', email);\r\n\r\n        // Initialize Resend directly with the API key\r\n        const resend = new Resend(resendApiKey);\r\n\r\n        // Send email via Resend\r\n        const { data: emailData, error: emailError } = await resend.emails.send({\r\n            from: 'Promptly <noreply@iapromptly.com.br>',\r\n            to: email,\r\n            subject: 'Recupera├º├úo de Senha - Promptly',\r\n            html: `\r\n                <!DOCTYPE html>\r\n                <html>\r\n                <head>\r\n                    <meta charset=\"utf-8\">\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                </head>\r\n                <body style=\"margin: 0; padding: 0; background-color: #0A0A0A; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\">\r\n                    <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color: #0A0A0A; padding: 40px 20px;\">\r\n                        <tr>\r\n                            <td align=\"center\">\r\n                                <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 480px; background-color: #1C1C1E; border-radius: 24px; padding: 40px;\">\r\n                                    <tr>\r\n                                        <td align=\"center\" style=\"padding-bottom: 24px;\">\r\n                                            <span style=\"font-size: 24px; font-weight: 700; color: #FF9F0A;\">Promptly</span>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td align=\"center\" style=\"padding-bottom: 16px;\">\r\n                                            <h1 style=\"margin: 0; color: #F5F5F7; font-size: 28px; font-weight: 700;\">Recuperar Senha</h1>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td align=\"center\" style=\"padding-bottom: 32px;\">\r\n                                            <p style=\"margin: 0; color: #86868B; font-size: 16px; line-height: 1.5;\">\r\n                                                Voc├¬ solicitou a recupera├º├úo de senha da sua conta Promptly. Clique no bot├úo abaixo para criar uma nova senha.\r\n                                            </p>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td align=\"center\" style=\"padding-bottom: 32px;\">\r\n                                            <a href=\"${resetLink}\" style=\"display: inline-block; background: linear-gradient(135deg, #FF9F0A 0%, #FFB340 100%); color: #000; text-decoration: none; padding: 16px 32px; border-radius: 50px; font-size: 16px; font-weight: 600;\">\r\n                                                Redefinir Senha\r\n                                            </a>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td align=\"center\">\r\n                                            <p style=\"margin: 0; color: #48484A; font-size: 14px;\">\r\n                                                Se voc├¬ n├úo solicitou esta recupera├º├úo, pode ignorar este email.\r\n                                            </p>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </body>\r\n                </html>\r\n            `,\r\n        });\r\n\r\n        if (emailError) {\r\n            console.error('Resend error:', emailError);\r\n            return NextResponse.json({ error: 'Erro ao enviar email. Tente novamente.' }, { status: 500 });\r\n        }\r\n\r\n        console.log('Email sent successfully:', emailData?.id);\r\n        return NextResponse.json({ success: true });\r\n\r\n    } catch (error: any) {\r\n        console.error('Password reset error:', error.message || error);\r\n        return NextResponse.json({ error: 'Erro ao processar solicita├º├úo' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\api\\checkout\\process\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2219,2222],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2219,2222],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":67,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":67,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":140,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5643,5646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5643,5646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":266,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":266,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10591,10594],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10591,10594],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        // 1. Auth Check with Supabase (Server-Side)\r\n        const cookieStore = await cookies();\r\n        const supabase = createServerClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n            {\r\n                cookies: {\r\n                    getAll() {\r\n                        return cookieStore.getAll()\r\n                    },\r\n                    setAll(cookiesToSet) {\r\n                        try {\r\n                            cookiesToSet.forEach(({ name, value, options }) =>\r\n                                cookieStore.set(name, value, options)\r\n                            )\r\n                        } catch {\r\n                            // Ignored\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        );\r\n\r\n        const { data: { user }, error: authError } = await supabase.auth.getUser();\r\n\r\n        if (authError || !user) {\r\n            return NextResponse.json({ error: \"Usu├írio n├úo autenticado.\" }, { status: 401 });\r\n        }\r\n\r\n        // 2. Load Environment Variables (API Keys)\r\n        const ASAAS_API_KEY = process.env.ASAAS_API_KEY;\r\n        const ASAAS_BASE_URL = process.env.ASAAS_BASE_URL;\r\n\r\n        console.log(\"DEBUG: Env Check\");\r\n        console.log(\"typeof ASAAS_API_KEY:\", typeof process.env.ASAAS_API_KEY);\r\n        console.log(\"Raw process.env.ASAAS_API_KEY:\", process.env.ASAAS_API_KEY);\r\n\r\n        if (!ASAAS_API_KEY || !ASAAS_BASE_URL) {\r\n            console.error(\"Missing Asaas Keys in .env.local\");\r\n            return NextResponse.json({\r\n                error: \"Configura├º├úo de pagamento incompleta no servidor. (ASAAS_API_KEY missing)\"\r\n            }, { status: 500 });\r\n        }\r\n\r\n        // 3. Parse Body\r\n        const body = await req.json();\r\n        const { plan, method, cardDetails, billingDetails } = body;\r\n\r\n        // Helper for safe fetching\r\n        const safeFetch = async (url: string, options: any) => {\r\n            const response = await fetch(url, options);\r\n            const text = await response.text();\r\n            try {\r\n                return {\r\n                    ok: response.ok,\r\n                    status: response.status,\r\n                    data: JSON.parse(text)\r\n                };\r\n            } catch (e) {\r\n                console.error(`Starting fetch to ${url}`);\r\n                console.error(`Failed to parse JSON from ${url}. Status: ${response.status}`);\r\n                console.error(\"Raw response:\", text.substring(0, 500)); // Log first 500 chars\r\n                throw new Error(`Resposta inv├ílida do Asaas (HTML/Non-JSON). Status: ${response.status}`);\r\n            }\r\n        };\r\n\r\n        // 4. Get/Create Asaas Customer\r\n        const { data: userProfile, error: profileError } = await supabase\r\n            .from('users')\r\n            .select('*')\r\n            .eq('id', user.id)\r\n            .maybeSingle();\r\n\r\n        if (profileError) {\r\n            return NextResponse.json({ error: \"Erro ao buscar perfil do usu├írio.\" }, { status: 500 });\r\n        }\r\n\r\n        let asaasCustomerId = userProfile?.asaas_customer_id;\r\n\r\n        if (!asaasCustomerId) {\r\n            // Create customer in Asaas\r\n            const customerRes = await safeFetch(`${ASAAS_BASE_URL}/customers`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'access_token': ASAAS_API_KEY\r\n                },\r\n                body: JSON.stringify({\r\n                    name: billingDetails.name,\r\n                    cpfCnpj: billingDetails.cpf,\r\n                    email: billingDetails.email,\r\n                    mobilePhone: billingDetails.whatsapp,\r\n                    address: billingDetails.endereco,\r\n                    addressNumber: billingDetails.numero,\r\n                    complement: billingDetails.complemento,\r\n                    province: billingDetails.bairro,\r\n                    postalCode: billingDetails.cep,\r\n                    externalReference: user.id\r\n                })\r\n            });\r\n\r\n            if (!customerRes.ok || customerRes.data.errors) {\r\n                return NextResponse.json({ error: `Erro no Asaas (Cliente): ${JSON.stringify(customerRes.data.errors || customerRes.data)}` }, { status: 400 });\r\n            }\r\n\r\n            asaasCustomerId = customerRes.data.id;\r\n\r\n            // Update user profile\r\n            await supabase\r\n                .from('users')\r\n                .upsert({\r\n                    id: user.id,\r\n                    email: user.email,\r\n                    asaas_customer_id: asaasCustomerId,\r\n                    billing_name: billingDetails.name,\r\n                    cpf: billingDetails.cpf,\r\n                    whatsapp: billingDetails.whatsapp,\r\n                    endereco: billingDetails.endereco,\r\n                    numero: billingDetails.numero,\r\n                    complemento: billingDetails.complemento,\r\n                    bairro: billingDetails.bairro,\r\n                    cep: billingDetails.cep,\r\n                    cidade: billingDetails.cidade,\r\n                    estado: billingDetails.estado\r\n                });\r\n        }\r\n\r\n        // 5. Create Subscription\r\n        const value = plan === 'PRO' ? 27.90 : 9.90;\r\n        const description = `Assinatura Plano ${plan}`;\r\n\r\n        const subscriptionBody: any = {\r\n            customer: asaasCustomerId,\r\n            billingType: method,\r\n            value,\r\n            cycle: 'MONTHLY',\r\n            description,\r\n            externalReference: plan\r\n        };\r\n\r\n        if (method === 'CREDIT_CARD') {\r\n            subscriptionBody.creditCard = {\r\n                holderName: cardDetails.holderName,\r\n                number: cardDetails.number.replace(/\\D/g, ''),\r\n                expiryMonth: cardDetails.expiryMonth,\r\n                expiryYear: cardDetails.expiryYear,\r\n                ccv: cardDetails.ccv.replace(/\\D/g, '')\r\n            };\r\n            subscriptionBody.creditCardHolderInfo = {\r\n                name: billingDetails.name,\r\n                email: billingDetails.email,\r\n                cpfCnpj: billingDetails.cpf,\r\n                postalCode: billingDetails.cep,\r\n                addressNumber: billingDetails.numero,\r\n                mobilePhone: billingDetails.whatsapp\r\n            };\r\n        }\r\n\r\n        const subRes = await safeFetch(`${ASAAS_BASE_URL}/subscriptions`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'access_token': ASAAS_API_KEY\r\n            },\r\n            body: JSON.stringify(subscriptionBody)\r\n        });\r\n\r\n        if (!subRes.ok || subRes.data.errors) {\r\n            return NextResponse.json({ error: `Erro no Asaas (Assinatura): ${JSON.stringify(subRes.data.errors || subRes.data)}` }, { status: 400 });\r\n        }\r\n\r\n        const subData = subRes.data; // Correctly typed as any/json\r\n        const subscriptionId = subData.id;\r\n        let pixQrCode = null;\r\n        let pixQRCodeText = null;\r\n        let paymentId = '';\r\n\r\n        // 6. Handle Payments (PIX needs fetching the generated payment)\r\n        if (method === 'PIX') {\r\n            // Fetch payments for this subscription\r\n            const paymentsResponse = await fetch(`${ASAAS_BASE_URL}/subscriptions/${subscriptionId}/payments`, {\r\n                headers: { 'access_token': ASAAS_API_KEY }\r\n            });\r\n            const paymentsData = await paymentsResponse.json();\r\n            const firstPayment = paymentsData.data && paymentsData.data[0];\r\n\r\n            if (!firstPayment) {\r\n                return NextResponse.json({ error: \"Pagamento n├úo gerado pelo Asaas.\" }, { status: 500 });\r\n            }\r\n\r\n            paymentId = firstPayment.id;\r\n\r\n            // Get QR Code\r\n            const qrResponse = await fetch(`${ASAAS_BASE_URL}/payments/${paymentId}/pixQrCode`, {\r\n                headers: { 'access_token': ASAAS_API_KEY }\r\n            });\r\n            const qrData = await qrResponse.json();\r\n            pixQrCode = qrData.encodedImage;\r\n            pixQRCodeText = qrData.payload;\r\n        } else {\r\n            // For Credit Card, try to find the payment ID as well\r\n            const paymentsResponse = await fetch(`${ASAAS_BASE_URL}/subscriptions/${subscriptionId}/payments`, {\r\n                headers: { 'access_token': ASAAS_API_KEY }\r\n            });\r\n            const paymentsData = await paymentsResponse.json();\r\n            if (paymentsData.data && paymentsData.data.length > 0) {\r\n                paymentId = paymentsData.data[0].id;\r\n            }\r\n        }\r\n\r\n        // 7. Save to Database\r\n        const { error: dbError } = await supabase\r\n            .from('payments')\r\n            .insert({\r\n                user_id: user.id,\r\n                plan,\r\n                amount: value,\r\n                method,\r\n                status: subData.status,\r\n                asaas_payment_id: paymentId,\r\n                asaas_subscription_id: subscriptionId,\r\n                pix_qr_code: pixQRCodeText\r\n            });\r\n\r\n        if (dbError) {\r\n            console.error(\"DB Save Error:\", dbError);\r\n            // Don't fail request, payment is made\r\n        }\r\n\r\n        // 8. Grant Access (If Credit Card Approved Immediately)\r\n        const validStatuses = ['ACTIVE', 'CONFIRMED', 'RECEIVED'];\r\n        if (method === 'CREDIT_CARD' && validStatuses.includes(subData.status)) {\r\n            const expirationDate = new Date()\r\n            expirationDate.setMonth(expirationDate.getMonth() + 1)\r\n\r\n            await supabase\r\n                .from('users')\r\n                .upsert({\r\n                    id: user.id,\r\n                    email: user.email,\r\n                    status: 'ativo',\r\n                    plano_ativo: plan,\r\n                    prompts_used: 0,\r\n                    data_expiracao: expirationDate.toISOString()\r\n                }, { onConflict: 'id' });\r\n        }\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            subscriptionId,\r\n            paymentId,\r\n            pixQrCodeBase64: pixQrCode,\r\n            pixCopyPaste: pixQRCodeText,\r\n            debugStatus: subData.status,\r\n            environment: ASAAS_BASE_URL.includes('sandbox') ? 'sandbox' : 'production'\r\n        });\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Internal Error:\", error);\r\n        return NextResponse.json({\r\n            error: error.message || \"Erro interno no servidor.\"\r\n        }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\api\\emails\\welcome\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\api\\extract-design\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":56,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":92,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3383,3386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3383,3386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prefer-const","severity":2,"message":"'markdownReport' is never reassigned. Use 'const' instead.","line":109,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":109,"endColumn":27,"fix":{"range":[4004,4038],"text":"const markdownReport = responseText;"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":144,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5717,5720],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5717,5720],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        // --- AUTH CHECK ---\r\n        const cookieStore = await cookies();\r\n        const supabase = createServerClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n            {\r\n                cookies: {\r\n                    getAll() { return cookieStore.getAll() },\r\n                    setAll(cookiesToSet) {\r\n                        try {\r\n                            cookiesToSet.forEach(({ name, value, options }) =>\r\n                                cookieStore.set(name, value, options)\r\n                            )\r\n                        } catch { }\r\n                    },\r\n                },\r\n            }\r\n        );\r\n\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n        if (!session) {\r\n            return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\r\n        }\r\n\r\n        // --- INPUT HANDLING ---\r\n        const formData = await req.formData();\r\n        const file = formData.get(\"image\") as File;\r\n\r\n        if (!file) {\r\n            return NextResponse.json({ error: \"No image uploaded\" }, { status: 400 });\r\n        }\r\n\r\n        // Convert File to Base64\r\n        const arrayBuffer = await file.arrayBuffer();\r\n        const buffer = Buffer.from(arrayBuffer);\r\n        const base64Image = buffer.toString(\"base64\");\r\n        const mimeType = file.type;\r\n\r\n        // --- READ PROMPT INSTRUCTION ---\r\n        const promptPath = path.join(process.cwd(), 'prompts/design-varibles/variaveis-de-design.md');\r\n        let systemInstruction = \"\";\r\n\r\n        try {\r\n            systemInstruction = fs.readFileSync(promptPath, 'utf-8');\r\n        } catch (e) {\r\n            console.warn(\"Could not read variable agent file, using fallback.\");\r\n            systemInstruction = \"Analyze this image and extract design variables (colors, typography, style) in JSON format.\";\r\n        }\r\n\r\n        // --- CALL GEMINI ---\r\n        const apiKey = process.env.GEMINI_API_KEY?.trim();\r\n        if (!apiKey) {\r\n            return NextResponse.json({ error: \"Server Error: API Key missing\" }, { status: 500 });\r\n        }\r\n\r\n        // Models aligned with api/generate/route.ts\r\n        const modelsToTry = [\r\n            \"gemini-2.0-flash\",\r\n            \"gemini-2.0-flash-001\",\r\n            \"gemini-flash-latest\",\r\n            \"gemini-pro-latest\"\r\n        ];\r\n\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n        let result = null;\r\n        let lastError = null;\r\n\r\n        for (const modelId of modelsToTry) {\r\n            try {\r\n                const model = genAI.getGenerativeModel({ model: modelId });\r\n                result = await model.generateContent([\r\n                    systemInstruction,\r\n                    {\r\n                        inlineData: {\r\n                            data: base64Image,\r\n                            mimeType: mimeType\r\n                        }\r\n                    }\r\n                ]);\r\n                if (result) break; // Success\r\n            } catch (e: any) {\r\n                console.warn(`Extraction failed with ${modelId}:`, e.message);\r\n                lastError = e;\r\n            }\r\n        }\r\n\r\n        if (!result) {\r\n            return NextResponse.json({ error: \"All extraction models failed. Last error: \" + lastError?.message }, { status: 500 });\r\n        }\r\n\r\n        const responseText = result.response.text();\r\n\r\n        // --- PARSE MULTI-SECTION OUTPUT ---\r\n        // The UDTE agent returns: Markdown Report + JSON Tokens + Guide\r\n        // We need to extract the JSON section and also preserve the full report.\r\n\r\n        let jsonTokens = null;\r\n        let markdownReport = responseText;\r\n\r\n        // Try to extract JSON block from the response\r\n        const jsonMatch = responseText.match(/```json\\s*([\\s\\S]*?)\\s*```/);\r\n        if (jsonMatch && jsonMatch[1]) {\r\n            try {\r\n                jsonTokens = JSON.parse(jsonMatch[1].trim());\r\n            } catch (e) {\r\n                console.warn(\"Could not parse JSON tokens block:\", e);\r\n            }\r\n        }\r\n\r\n        // Extract key sections for quick access\r\n        const sections = {\r\n            metadata: extractSection(responseText, \"# 1) Metadados\", \"# 2)\"),\r\n            direction: extractSection(responseText, \"# 2) Dire├º├úo Visual\", \"# 3)\"),\r\n            colors: extractSection(responseText, \"# 3) Paleta de Cores\", \"# 4)\"),\r\n            typography: extractSection(responseText, \"# 4) Tipografia\", \"# 5)\"),\r\n            layout: extractSection(responseText, \"# 5) Layout e Grid\", \"# 6)\"),\r\n            spacing: extractSection(responseText, \"# 6) Spacing Scale\", \"# 7)\"),\r\n            radius: extractSection(responseText, \"# 7) Radius\", \"# 8)\"),\r\n            shadows: extractSection(responseText, \"# 8) Shadows\", \"# 9)\"),\r\n            borders: extractSection(responseText, \"# 9) Bordas\", \"# 10)\"),\r\n            components: extractSection(responseText, \"# 10) Componentes\", \"# 11)\"),\r\n            patterns: extractSection(responseText, \"# 11) Padr├Áes de UI\", \"# 12)\"),\r\n            replicationGuide: extractSection(responseText, \"# 12) Checklist de Replica├º├úo\", \"========\"),\r\n        };\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            fullReport: markdownReport,\r\n            tokens: jsonTokens,\r\n            sections: sections\r\n        });\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Extraction Error:\", error);\r\n        return NextResponse.json({ error: \"Extraction Failed: \" + error.message }, { status: 500 });\r\n    }\r\n}\r\n\r\n// Helper to extract a section from markdown\r\nfunction extractSection(text: string, startMarker: string, endMarker: string): string {\r\n    const startIndex = text.indexOf(startMarker);\r\n    if (startIndex === -1) return \"\";\r\n\r\n    const endIndex = text.indexOf(endMarker, startIndex + startMarker.length);\r\n    if (endIndex === -1) return text.substring(startIndex);\r\n\r\n    return text.substring(startIndex, endIndex).trim();\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\api\\generate\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'businessModel' is assigned a value but never used.","line":118,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":118,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'chargingModel' is assigned a value but never used.","line":118,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":118,"endColumn":52},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'planNames' is assigned a value but never used.","line":118,"column":54,"nodeType":null,"messageId":"unusedVar","endLine":118,"endColumn":63},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'coreEntity' is assigned a value but never used.","line":119,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":119,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'coreView' is assigned a value but never used.","line":119,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":119,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'dataInputType' is assigned a value but never used.","line":119,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":119,"endColumn":48},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userRoles' is assigned a value but never used.","line":120,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":120,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loginMethod' is assigned a value but never used.","line":120,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":120,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'registrationPolicy' is assigned a value but never used.","line":120,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":120,"endColumn":55},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'notificationChannels' is assigned a value but never used.","line":121,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":121,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'integrations' is assigned a value but never used.","line":121,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":121,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'supportChannels' is assigned a value but never used.","line":121,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":121,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'marketingHeadline' is assigned a value but never used.","line":122,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":122,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'colorPalette' is assigned a value but never used.","line":124,"column":29,"nodeType":null,"messageId":"unusedVar","endLine":124,"endColumn":41},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'wizardMode' is assigned a value but never used.","line":126,"column":52,"nodeType":null,"messageId":"unusedVar","endLine":126,"endColumn":62}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { generateSaasV4Prompt, SaasBuilderInput } from '../../builder/saas-prompts-v4';\r\nimport { LANDING_PAGE_AGENT_V2_PROMPT, LANDING_PAGE_GOOGLE_STUDIO_PROMPT } from '../../landing-builder/agentPrompts';\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        // --- AUTH & LIMITS CHECK ---\r\n        const cookieStore = await cookies();\r\n\r\n        const supabase = createServerClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n            {\r\n                cookies: {\r\n                    getAll() {\r\n                        return cookieStore.getAll()\r\n                    },\r\n                    setAll(cookiesToSet) {\r\n                        try {\r\n                            cookiesToSet.forEach(({ name, value, options }) =>\r\n                                cookieStore.set(name, value, options)\r\n                            )\r\n                        } catch {\r\n                            // The `setAll` method was called from a Server Component.\r\n                            // This can be ignored if you have middleware refreshing\r\n                            // user sessions.\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        );\r\n\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n\r\n        if (!session) {\r\n            return NextResponse.json({ error: \"Unauthorized: Fa├ºa login para continuar.\" }, { status: 401 });\r\n        }\r\n\r\n        const user = session.user;\r\n        const isDeveloper = user.email === 'talesscavalacanti006@gmail.com';\r\n\r\n        // Fetch profile\r\n        // Fetch profile from 'users' table (which matches the rest of the system)\r\n        let { data: profile, error: profileError } = await supabase\r\n            .from('users')\r\n            .select('plano_ativo, prompts_used')\r\n            .eq('id', user.id)\r\n            .maybeSingle();\r\n\r\n        // Self-healing: If profile doesn't exist, create it\r\n        if (!profile && !profileError) {\r\n            console.log(\"Profile missing for user, creating default entry...\");\r\n            const { error: insertError } = await supabase\r\n                .from('users')\r\n                .insert({\r\n                    id: user.id,\r\n                    email: user.email,\r\n                    name: user.user_metadata?.name || user.email?.split('@')[0] || 'User',\r\n                    prompts_used: 0,\r\n                    plano_ativo: 'free'\r\n                });\r\n\r\n            if (insertError) {\r\n                console.error(\"Failed to create missing profile:\", insertError);\r\n                return NextResponse.json({ error: \"Erro cr├¡tico ao criar perfil de usu├írio.\" }, { status: 500 });\r\n            }\r\n\r\n            // Retry fetch\r\n            const retry = await supabase\r\n                .from('users')\r\n                .select('plano_ativo, prompts_used')\r\n                .eq('id', user.id)\r\n                .single();\r\n\r\n            profile = retry.data;\r\n            profileError = retry.error;\r\n        }\r\n\r\n        if (profileError || !profile) {\r\n            console.error(\"Profile error:\", profileError);\r\n            return NextResponse.json({\r\n                error: \"Erro ao carregar perfil de usu├írio.\",\r\n                details: profileError?.message || \"Perfil n├úo encontrado\",\r\n                code: profileError?.code\r\n            }, { status: 500 });\r\n        }\r\n\r\n        const PLAN_LIMITS: Record<string, number> = {\r\n            'free': 5,\r\n            'starter': 100,\r\n            'pro': 400\r\n        };\r\n\r\n        // Map database value (STARTER/PRO) to limit keys\r\n        const userPlan = profile.plano_ativo ? profile.plano_ativo.toLowerCase() : 'free';\r\n\r\n        const limit = PLAN_LIMITS[userPlan] || 5;\r\n        const currentUsage = profile.prompts_used || 0;\r\n\r\n        if (!isDeveloper && currentUsage >= limit) {\r\n            return NextResponse.json({\r\n                error: `Limite de ${limit} prompts atingido no plano ${userPlan}. Fa├ºa o upgrade para continuar.`\r\n            }, { status: 403 });\r\n        }\r\n\r\n        // --- GENERATION LOGIC ---\r\n        const body = await req.json();\r\n        const {\r\n            // Common\r\n            promptMode, objective, context, targetPlatform,\r\n            // SaaS Wizard Specifics\r\n            saasName, saasColor, saasFont, logoStyle, voiceTone,\r\n            saasNiche, businessModel, chargingModel, planNames,\r\n            coreEntity, coreView, dataInputType,\r\n            userRoles, loginMethod, registrationPolicy,\r\n            notificationChannels, integrations, supportChannels,\r\n            problemSolved, marketingHeadline, cta,\r\n            // Landing Builder Specifics\r\n            targetAudience, colorPalette, typography,\r\n            primaryColor, secondaryColor, fontWeight, useSingleFont,\r\n            geometry, layout, brandName, sections, wizardMode\r\n        } = body;\r\n\r\n        const apiKey = process.env.GEMINI_API_KEY?.trim();\r\n\r\n        if (!apiKey) {\r\n            return NextResponse.json({ error: \"ERRO: GEMINI_API_KEY n├úo encontrada no servidor (.env.local)\" }, { status: 500 });\r\n        }\r\n\r\n        let prompt = \"\";\r\n\r\n        if (promptMode === 'feature_builder') {\r\n            // Feature Builder - Uses Gemini to expand user description into full technical spec\r\n            const { featureName, description, context, robustness, includeTests } = body;\r\n\r\n            const robustnessConfig = {\r\n                fast: {\r\n                    label: 'R├ípido (Prot├│tipo)',\r\n                    validations: 'Valida├º├Áes b├ísicas apenas',\r\n                    security: 'Nenhuma medida extra',\r\n                    tests: 'Sem testes'\r\n                },\r\n                secure: {\r\n                    label: 'Seguro (Recomendado)',\r\n                    validations: 'Valida├º├úo completa de inputs, tratamento de nulls e tipos incorretos',\r\n                    security: 'Prote├º├úo XSS, SQL Injection, valida├º├úo de permiss├Áes',\r\n                    tests: 'Testes unit├írios para happy path, valida├º├Áes e cen├írios de erro'\r\n                },\r\n                bulletproof: {\r\n                    label: 'Blindado (Produ├º├úo)',\r\n                    validations: 'Valida├º├úo exaustiva incluindo limites de tamanho, concorr├¬ncia e timeouts',\r\n                    security: 'XSS, SQL Injection, CSRF, Rate Limiting, Audit Trail, valida├º├úo de permiss├Áes',\r\n                    tests: 'Cobertura 100%: unit, integration, edge cases, performance, security testing'\r\n                }\r\n            };\r\n\r\n            const config = robustnessConfig[robustness as keyof typeof robustnessConfig] || robustnessConfig.secure;\r\n\r\n            const contextLabels: Record<string, string> = {\r\n                frontend: 'Frontend (React/Next.js components, hooks, state management)',\r\n                backend: 'Backend (API routes, services, business logic)',\r\n                database: 'Database (Schema, migrations, queries, indexes)',\r\n                integration: 'Integration (External APIs, webhooks, third-party services)',\r\n                auth: 'Authentication (Login, sessions, permissions, security)'\r\n            };\r\n\r\n            prompt = `\r\nVoc├¬ ├® um Arquiteto de Software S├¬nior e Engenheiro de Prompts especializado em desenvolvimento com IA.\r\n\r\nSua tarefa ├® EXPANDIR a descri├º├úo simples do usu├írio em um PROMPT T├ëCNICO COMPLETO e DETALHADO que ser├í usado em plataformas como Lovable, GPT-Engineer, ou Google AI Studio.\r\n\r\n---\r\n### ENTRADA DO USU├üRIO\r\n\r\n**Nome da Funcionalidade:** ${featureName}\r\n**Contexto:** ${contextLabels[context] || context}\r\n**N├¡vel de Robustez:** ${config.label}\r\n**Incluir Testes:** ${includeTests ? 'Sim' : 'N├úo'}\r\n\r\n**Descri├º├úo do Usu├írio:**\r\n${description}\r\n\r\n---\r\n### SUA MISS├âO\r\n\r\nTransforme a descri├º├úo acima em um prompt PROFISSIONAL seguindo esta estrutura:\r\n\r\n1. **OBJETIVO CLARO**\r\n   - Reescreva o objetivo de forma t├®cnica e precisa\r\n   - Identifique o problema que est├í sendo resolvido\r\n\r\n2. **ESPECIFICA├ç├âO T├ëCNICA**\r\n   - Inputs necess├írios (nome, tipo, valida├º├úo)\r\n   - Outputs esperados (estrutura de resposta)\r\n   - Fluxo de dados\r\n\r\n3. **REGRAS DE NEG├ôCIO**\r\n   - Liste TODAS as regras impl├¡citas e expl├¡citas\r\n   - Numere cada regra (RN01, RN02, etc.)\r\n\r\n4. **EDGE CASES E VALIDA├ç├òES**\r\n   - ${config.validations}\r\n   - Liste cen├írios de erro que devem ser tratados\r\n\r\n5. **SEGURAN├çA**\r\n   - ${config.security}\r\n\r\n${includeTests ? `6. **TESTES**\r\n   - ${config.tests}\r\n   - Descreva os cen├írios de teste necess├írios` : ''}\r\n\r\n7. **IMPLEMENTA├ç├âO**\r\n   - Stack t├®cnica recomendada\r\n   - Estrutura de arquivos sugerida\r\n   - C├│digo inicial ou pseudo-c├│digo\r\n\r\n---\r\n### REGRAS DE SA├ìDA\r\n\r\n1. Gere APENAS o prompt final. N├úo adicione explica├º├Áes ou meta-coment├írios.\r\n2. O prompt deve ser LONGO e DETALHADO (m├¡nimo 500 palavras)\r\n3. Use formata├º├úo Markdown para organizar se├º├Áes\r\n4. Adicione detalhes que o usu├írio pode ter esquecido mas s├úo importantes\r\n5. O prompt deve poder ser COPIADO E COLADO diretamente em uma IA\r\n\r\nGERE O PROMPT T├ëCNICO AGORA:\r\n`;\r\n        } else if (promptMode === 'suggest_saas_details') {\r\n            prompt = `\r\n                Atue como um Especialista de Produto e Designer de SaaS S├¬nior.\r\n                Analise o contexto abaixo e sugira detalhes criativos e t├®cnicos para o projeto.\r\n                \r\n                NOME DO APP: ${saasName || 'Indefinido'}\r\n                CONTEXTO ATUAL: ${saasNiche ? `Nicho: ${saasNiche}` : 'Nicho Desconhecido'}\r\n\r\n                RETORNE APENAS UM JSON V├üLIDO (sem markdown, sem \\`\\`\\`) com o seguinte formato:\r\n                {\r\n                    \"niche\": \"Sugest├úo de nicho espec├¡fico e lucrativo\",\r\n                    \"targetAudience\": \"Sugest├úo de p├║blico-alvo detalhado\",\r\n                    \"features\": [\"Feature 1\", \"Feature 2\", \"Feature 3\", \"Feature 4\", \"Feature 5\"],\r\n                    \"visualStyle\": \"Sugest├úo de estilo (ex: Minimalista, Cyberpunk, Corporativo)\",\r\n                    \"primaryColor\": \"C├│digo HEX\",\r\n                    \"secondaryColor\": \"C├│digo HEX\",\r\n                    \"typography\": \"Nome da fonte (ex: Inter, Poppins, Roboto)\"\r\n                }\r\n            `;\r\n        } else if (promptMode === 'saas_builder') {\r\n            // V4: Clean PRD format - no verbose headers\r\n            const saasInput: SaasBuilderInput = {\r\n                appName: saasName || 'New SaaS',\r\n                niche: saasNiche || '',\r\n                targetAudience: body.targetAudience || '',\r\n                features: body.features || [],\r\n                visualStyle: logoStyle || 'Modern & Clean',\r\n                primaryColor: saasColor || '#3b82f6',\r\n                secondaryColor: body.secondaryColor || '#ffffff',\r\n                typography: body.typography?.split(' (')[0] || 'Inter',\r\n                typographyWeight: body.typographyWeight || 600,\r\n                targetPlatform: targetPlatform || 'Lovable',\r\n                monetization: body.monetization || {\r\n                    enabled: false,\r\n                    model: 'subscription',\r\n                    provider: 'stripe',\r\n                    plans: ['Free', 'Pro', 'Enterprise'],\r\n                    trialDays: 7\r\n                }\r\n            };\r\n\r\n            const { systemPrompt, userPrompt } = generateSaasV4Prompt(saasInput);\r\n\r\n            prompt = `${systemPrompt}\\n\\n---\\n\\n${userPrompt}`;\r\n\r\n        } else if (promptMode === 'optimize_prompt') {\r\n            prompt = `\r\n                Atue como um ** Engenheiro de Prompts S├¬nior ** especializado em desenvolvimento de software com IA para ${targetPlatform || 'Lovable, GPT-Engineer, v0'}.\r\n                \r\n                SEU OBJETIVO: Escrever um prompt FINAL, t├®cnico e extremamente detalhado que o usu├írio ir├í enviar para uma IA construtora de software.\r\n                \r\n                ### CONTEXTO DO PROJETO(Dados fornecidos pelo usu├írio):\r\n                - ** Nome do SaaS **: ${saasName || 'Novo Projeto'}\r\n                - ** Nicho de Mercado **: ${saasNiche}\r\n                - ** P├║blico Alvo **: ${body.targetAudience}\r\n                - ** Identidade Visual **: Cores ${saasColor}, Fonte ${saasFont} (Peso: ${body.fontWeight || 'Padr├úo'\r\n                }), Estilo ${logoStyle}\r\n                - ** Tom de Voz **: ${voiceTone}\r\n                - ** Widgets do Dashboard **: ${body.dashboardWidgets ? body.dashboardWidgets.join(', ') : 'Padr├úo de mercado'}\r\n                - ** Funcionalidades Chave **: ${body.features ? body.features.join(', ') : 'Essenciais para o nicho'}\r\n\r\n                ### SUA TAREFA:\r\n                Escreva o prompt abaixo completando TODAS as lacunas com sua expertise t├®cnica.N├úo deixe nada como \"A definir\".Invente os detalhes faltantes(Planos de pre├ºo, Schema do banco, Estrutura de arquivos) para que o projeto seja vi├ível e profissional.\r\n\r\n                ### ESTRUTURA DO PROMPT QUE VOC├è DEVE GERAR(Copie e preencha):\r\n\r\n    ---\r\n        \"Atue como um CTO e Product Manager Experiente.\r\n                Estou criando um novo SaaS chamado ** ${saasName || 'Novo Projeto'}** focado em ** ${saasNiche}**.\r\n\r\n                ### 1. Identidade & Visual\r\n        - Cores: ${saasColor}\r\n    - Tipografia: ${saasFont} (Peso: ${body.fontWeight || 'Padr├úo'\r\n                })\r\n- Estilo: ${logoStyle}\r\n- Tom de Voz: ${voiceTone}\r\n                - ** Diretriz de Design **: Crie uma interface limpa, moderna e responsiva(Mobile - First) usando Shadcn UI e Tailwind CSS.Use anima├º├Áes sutis(Framer Motion) para uma sensa├º├úo premium.\r\n\r\n                ### 2. Modelo de Neg├│cio & Estrat├®gia\r\n    - Nicho: ${saasNiche} para ${body.targetAudience}\r\n                - ** Planos Sugeridos **: [Crie 3 nomes de planos e pre├ºos compat├¡veis com o mercado de ${saasNiche}]\r\n    - ** Diferencial Competitivo **: [Descreva um diferencial t├®cnico ou de UX para este projeto]\r\n\r\n                ### 3. Core do Produto(MVP)\r\n    - ** Fluxo Principal **: O usu├írio entra, [Descreva o fluxo principal de uso do ${saasNiche}].\r\n                - ** Dashboard **: Deve conter widgets de ${body.dashboardWidgets ? body.dashboardWidgets.join(', ') : 'M├®tricas principais'}.\r\n                - ** Input de Dados **: Otimize para[Desktop / Mobile] com formul├írios intuitivos.\r\n\r\n                ### 4. Arquitetura T├®cnica(Mandat├│rio)\r\n    - ** Frontend **: React(Vite), TypeScript, Tailwind CSS, Shadcn UI, Lucide React.\r\n                - ** Backend / BaaS **: Supabase(Auth, Postgres, Storage, Edge Functions).\r\n                - ** State Management **: TanStack Query(React Query) + Context API.\r\n                - ** Seguran├ºa **: Implemente RLS(Row Level Security) em TODAS as tabelas.Pol├¡tica padr├úo: usu├írios s├│ veem seus pr├│prios dados.\r\n\r\n                ### 5. Funcionalidades(Implementa├º├úo Imediata)\r\n                ${body.features ? body.features.map((f: string) => `- ${f}`).join('\\n') : '- CRUD completo da entidade principal'}\r\n-[Adicione 2 funcionalidades t├®cnicas essenciais para este nicho que o usu├írio esqueceu]\r\n\r\n                ### 6. Schema do Banco de Dados(Sugest├úo Inicial)\r\n[Crie um esquema SQL simplificado para as tabelas principais: users, subscriptions, e a entidade principal de ${saasNiche}]\r\n\r\n                ** INSTRU├ç├âO FINAL **: Implemente o c├│digo inicial focado no Dashboard e na funcionalidade principal.Crie os arquivos necess├írios e a estrutura de pastas.\"\r\n---\r\n\r\n                ** IMPORTANTE **:\r\n1. Sua resposta deve ser APENAS o prompt gerado acima. \r\n                2. Mantenha os dados do usu├írio FIXOS. \r\n                3. Seja criativo nos detalhes que faltam.\"\r\n    `;\r\n\r\n        } else if (promptMode === 'design') {\r\n            prompt = `\r\n                Atue como um Designer UI / UX S├¬nior e Especialista em Interfaces Modernas para ${targetPlatform || 'Web'}. \r\n                Gere um Guia de Design ultra - detalhado para o seguinte objetivo:\r\n                \r\n                OBJETIVO VISUAL: ${objective}\r\n                DETALHES DE UI: ${context}\r\n\r\n                O prompt deve focar EXCLUSIVAMENTE em:\r\n1. Paleta de Cores, Tipografia e Design System.\r\n                2. Estilos de componentes(bot├Áes, inputs, cards) e estados de intera├º├úo.\r\n                3. Layout, Grids e Componentes React + Tailwind.\r\n\r\n                N├âO inclua informa├º├Áes sobre backend ou banco de dados.\r\n            `;\r\n        } else if (promptMode === 'logic') {\r\n            prompt = `\r\n                Atue como um Engenheiro de Software S├¬nior Especialista em Backend e Infraestrutura. \r\n                Gere uma Especifica├º├úo T├®cnica focada EXCLUSIVAMENTE em L├│gica e Dados para ${targetPlatform || 'Web'}:\r\n                \r\n                OBJETIVO T├ëCNICO: ${objective}\r\n                REGRAS E FLUXOS: ${context}\r\n                \r\n                Foque em: Schema do Banco de Dados, Documenta├º├úo de Rotas API, Fluxos de Seguran├ºa(JWT, Auth) e Arquitetura de Servidor.\r\n                N├âO inclua nenhuma informa├º├úo sobre interface visual, cores, fontes ou CSS.\r\n            `;\r\n        } else if (promptMode === 'feature') {\r\n            prompt = `\r\nAct as a ** Senior Frontend Engineer & Component Architect ** specialized in ${targetPlatform || 'Web Frameworks'}.\r\n                Create a ** Frontend Implementation Roadmap ** for the following FEATURE:\r\n                \r\n                REQUESTED FEATURE: ${objective}\r\n                PROJECT CONTEXT: ${context}\r\n                \r\n                Generate a practical guide strictly following this structure:\r\n1. ** Routes & Application Structure **: Define new client - side routes and the component hierarchy.\r\n                2. ** Component Details **: Props, State, and Interactions.\r\n                3. ** Integration **: Data fetching and API mocking.\r\n                \r\n                ** Golden Rules:**\r\n                - ** NO BACKEND CODE **: Do not generate SQL or Server logic.\r\n                - Assume the API exists or tell the user to mock it.\r\n            `;\r\n        } else if (promptMode === 'landing_page') {\r\n            if (targetPlatform === 'Google AI Studio') {\r\n                prompt = `\r\n                ${LANDING_PAGE_GOOGLE_STUDIO_PROMPT}\r\n\r\n                ÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöü\r\n                *** COMANDO DE EXECU├ç├âO: GERAR PROMPT FINAL ***\r\n                ÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöü\r\n\r\n                CONTEXTO DO PROJETO (INPUT DO USU├üRIO):\r\n                \r\n                1. IDENTIDADE DO PROJETO:\r\n                   - Nome da Marca: ${brandName || 'Projeto SaaS (Nome a definir)'}\r\n                   - Nicho de Mercado: ${saasNiche || 'N├úo especificado (Inferir o mais rent├ível compat├¡vel)'}\r\n                   - Objetivo Principal: ${objective || 'Convers├úo e Credibilidade'}\r\n                   - P├║blico-Alvo: ${targetAudience || 'Geral/B2B'}\r\n\r\n                2. DIRETRIZES DE DESIGN APONTADAS:\r\n                   - Estilo Arquitetural: ${logoStyle || 'Premium Modern (Clean & Bold)'}\r\n                   - Geometria (Bordas): ${geometry || 'Mixed (Estrat├®gico)'}\r\n                   - Layout (Grid): ${layout || 'Standard (Com ritmo visual)'}\r\n                   - Paleta de Cores: \r\n                     * Prim├íria (Brand): ${primaryColor}\r\n                     * Secund├íria (Fundo): ${secondaryColor}\r\n                   - Tipografia: ${typography} (Peso: ${fontWeight})\r\n                   - Modo Fonte ├Ünica: ${useSingleFont ? 'ATIVADO (Use a mesma fonte para tudo)' : 'DESATIVADO (Use paring recomendado)'}\r\n\r\n                3. TOM E CONTE├ÜDO:\r\n                   - Tom de Voz: ${voiceTone || 'Profissional, Confidente e T├®cnico'}\r\n                   - Oferta / Problema: ${problemSolved || 'Inferir headline de alto impacto'}\r\n                   - Call-to-Action (CTA): ${cta || 'Come├ºar Agora'}\r\n\r\n                4. ARQUITETURA DE SE├ç├òES SOLICITADA:\r\n                   ${sections ? sections.map((s: string) => `- ${s}`).join('\\n                   ') : '- (Defina a estrutura ideal para alta convers├úo)'}\r\n\r\n                ÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöüÔöü\r\n                SUA MISS├âO AGORA:\r\n                \r\n                Atue como o Senior Prompt Engineer definido acima e gere o \"PROMPT FINAL ├ÜNICO\" para este projeto espec├¡fico.\r\n                \r\n                REGRAS R├ìGIDAS DE SA├ìDA (OVERRIDE TOTAL):\r\n                1. O usu├írio quer COPIAR E COLAR. N├úo entregue \"Especifica├º├Áes\", \"Dicas\" ou \"An├ílises\".\r\n                2. Entregue APENAS o TEXTO DO PROMPT.\r\n                3. O prompt gerado deve ser LONGO, T├ëCNICO e EXAUSTIVO, seguindo seu template de \"Qualidade Premium\".\r\n                4. Garanta que o prompt gerado pro├¡ba explicitamente o \"Vibe Coding\" (design gen├®rico).\r\n\r\n                [IN├ìCIO DO PROMPT GERADO]\r\n                `;\r\n            } else {\r\n                // Nova l├│gica simplificada e inteligente usando o \"Master Architect\" Prompt (Lovable/Default)\r\n                prompt = `\r\n                ${LANDING_PAGE_AGENT_V2_PROMPT}\r\n\r\n            AGORA, GERE A LANDING PAGE PARA O SEGUINTE PROJETO:\r\n\r\n            1. NICHO: ${saasNiche || 'Geral'}\r\n            2. NOME DA MARCA: ${brandName || '(Invente um nome tech/moderno)'}\r\n            3. OBJETIVO: ${objective || 'Convers├úo'}\r\n            4. P├ÜBLICO ALVO: ${targetAudience || 'Geral'}\r\n            \r\n            DIRETRIZES VISUAIS (RIGOROSAS):\r\n            - ESTILO ARQUITETURAL: ${logoStyle || 'Premium Modern'}\r\n            - GEOMETRIA (BORDAS): ${geometry || 'Mixed'}\r\n            - LAYOUT (GRID): ${layout || 'Standard'}\r\n            - COR PRIM├üRIA: ${primaryColor || '#000000'}\r\n            - COR SECUND├üRIA (FUNDO): ${secondaryColor || '#ffffff'}\r\n            - TIPOGRAFIA: ${typography || 'Sans'} (Peso: ${fontWeight || 'Regular'}) ${useSingleFont ? '(USAR APENAS UMA FONTE PARA TUDO)' : ''}\r\n\r\n            CONTE├ÜDO E TOM:\r\n            - TOM DE VOZ: ${voiceTone || 'Profissional e Direto'}\r\n            - OFERTA PRINCIPAL: ${problemSolved || 'Resolver o problema do cliente'}\r\n            - CTA: ${cta || 'Agendar Agora'}\r\n\r\n            SE├ç├òES OBRIGAT├ôRIAS (NA ORDEM):\r\n            ${sections ? sections.join(', ') : 'Hero, Proof, Features, Testimonials, FAQ, Footer'}\r\n            \r\n            (Se o usu├írio n├úo pediu alguma se├º├úo essencial como Hero ou Footer, inclua mesmo assim para integridade).\r\n            `;\r\n            }\r\n\r\n        } else {\r\n            // Fallback\r\n            prompt = `Atue como Especialista em Software para ${targetPlatform || 'Web'}.Objetivo: ${objective}.Contexto: ${context}.`;\r\n        }\r\n\r\n        // Mandatory Footer\r\n        prompt += `\\n\\n ** IMPORTANTE **: implemente tudo isso de imediato, sem me fazer mais perguntas, s├│ me fa├ºa uma sugest├úo depois de implementar TUDO que eu te falei.`;\r\n\r\n        // Modelos identificados na lista do usu├írio\r\n        const modelsToTry = [\r\n            \"gemini-2.0-flash\",       // Fallback R├ípido (Top Tier)\r\n            \"gemini-2.0-flash-001\",   // Varia├º├úo dispon├¡vel\r\n            \"gemini-flash-latest\",    // Alias dispon├¡vel\r\n            \"gemini-pro-latest\"       // Fallback est├ível\r\n        ];\r\n\r\n        const genAI = new GoogleGenerativeAI(apiKey);\r\n        let lastErrorMsg = \"\";\r\n\r\n        for (const modelId of modelsToTry) {\r\n            try {\r\n                console.log(`Tentando modelo identificado: ${modelId} `);\r\n                const model = genAI.getGenerativeModel({ model: modelId });\r\n                console.log(`[DEBUG] Prompt Length for ${modelId}:`, prompt.length);\r\n\r\n                const result = await model.generateContent(prompt);\r\n                const response = await result.response;\r\n                const text = response.text();\r\n\r\n                if (text) {\r\n                    // --- SUCCESS: INCREMENT USAGE & SAVE PROJECT ---\r\n                    await supabase.rpc('increment_prompts');\r\n\r\n                    // Save to projects - use app name from SaaS or brand name from Landing\r\n                    const title = body.appName || body.brandName || body.objective?.substring(0, 30) || \"Projeto Sem T├¡tulo\";\r\n                    const { error: saveError } = await supabase\r\n                        .from('projects')\r\n                        .insert({\r\n                            user_id: user.id,\r\n                            title: title,\r\n                            inputs: body,\r\n                            generated_content: text\r\n                        });\r\n\r\n                    if (saveError) {\r\n                        console.error(\"Erro ao salvar projeto:\", saveError);\r\n                        // Non-blocking error, but worth logging\r\n                    }\r\n\r\n                    return NextResponse.json({ result: text });\r\n                }\r\n            } catch (err: unknown) {\r\n                const error = err as Error;\r\n                console.warn(`Falha no modelo ${modelId}: `, error.message);\r\n                lastErrorMsg += `[${modelId}]: ${error.message}.`;\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({\r\n            error: `N├úo foi poss├¡vel gerar com os modelos da sua lista.Erros: ${lastErrorMsg} `\r\n        }, { status: 500 });\r\n\r\n    } catch (error: unknown) {\r\n        const err = error as Error;\r\n        return NextResponse.json({\r\n            error: `Erro fatal no servidor: ${err.message || err.toString()} `\r\n        }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\auth\\verify-email\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\builder\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Rocket' is defined but never used.","line":6,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Target' is defined but never used.","line":6,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronUp' is defined but never used.","line":6,"column":60,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":69},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":6,"column":76,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":84},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lightbulb' is defined but never used.","line":6,"column":86,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":95},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Layers' is defined but never used.","line":6,"column":97,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":103},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Feather' is defined but never used.","line":6,"column":108,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":115},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Smartphone' is defined but never used.","line":6,"column":117,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":127},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Globe' is defined but never used.","line":6,"column":129,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":134},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Palette' is defined but never used.","line":6,"column":136,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":143},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Type' is defined but never used.","line":6,"column":145,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":149},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Image' is defined but never used.","line":12,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":13},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":292,"column":49,"nodeType":"JSXOpeningElement","endLine":296,"endColumn":51},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":467,"column":74,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23906,23932],"text":"Qual a &quot;vibe\" do seu SaaS?"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23906,23932],"text":"Qual a &ldquo;vibe\" do seu SaaS?"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23906,23932],"text":"Qual a &#34;vibe\" do seu SaaS?"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23906,23932],"text":"Qual a &rdquo;vibe\" do seu SaaS?"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":467,"column":79,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23906,23932],"text":"Qual a \"vibe&quot; do seu SaaS?"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23906,23932],"text":"Qual a \"vibe&ldquo; do seu SaaS?"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23906,23932],"text":"Qual a \"vibe&#34; do seu SaaS?"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23906,23932],"text":"Qual a \"vibe&rdquo; do seu SaaS?"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    Rocket, Target, Zap, Layout, Check, Copy, ChevronDown, ChevronUp, Bot, Sparkles, Lightbulb, Layers, X, Feather, Smartphone, Globe, Palette, Type, Briefcase, Monitor\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport styles from './saas-builder.module.css';\r\nimport { TARGET_PLATFORMS } from '../../lib/saas_constants';\r\nimport { TextShimmer } from '@/components/ui/text-shimmer';\r\nimport Image from 'next/image';\r\n\r\n// --- Types ---\r\ntype SaasBuilderState = {\r\n    appName: string;\r\n    niche: string;\r\n    targetAudience: string;\r\n    features: string[];\r\n    visualStyle: string;\r\n    primaryColor: string;\r\n    secondaryColor: string;\r\n    typography: string;\r\n    typographyWeight: number;\r\n    targetPlatform: string;\r\n    monetization: {\r\n        enabled: boolean;\r\n        model: 'subscription' | 'one-time' | 'freemium' | 'usage-based';\r\n        provider: 'stripe' | 'asaas' | 'mercadopago' | 'demo';\r\n        plans: string[];\r\n        trialDays: number;\r\n    };\r\n};\r\n\r\nconst INITIAL_STATE: SaasBuilderState = {\r\n    appName: '',\r\n    niche: '',\r\n    targetAudience: '',\r\n    features: [],\r\n    visualStyle: 'Moderno & Clean',\r\n    primaryColor: '#3b82f6',\r\n    secondaryColor: '#ffffff',\r\n    typography: 'Inter',\r\n    typographyWeight: 400,\r\n    targetPlatform: 'Lovable',\r\n    monetization: {\r\n        enabled: false,\r\n        model: 'subscription',\r\n        provider: 'stripe',\r\n        plans: ['Free', 'Pro', 'Enterprise'],\r\n        trialDays: 7,\r\n    },\r\n};\r\n\r\n// --- Preset Suggestions ---\r\nconst NICHE_SUGGESTIONS = [\r\n    { id: 'productivity', label: 'Produtividade', desc: 'Gest├úo de tarefas, notas, projetos' },\r\n    { id: 'crm', label: 'CRM & Vendas', desc: 'Gest├úo de clientes e pipeline' },\r\n    { id: 'finance', label: 'Finan├ºas', desc: 'Controle financeiro, faturas, cobran├ºas' },\r\n    { id: 'health', label: 'Sa├║de & Fitness', desc: 'Agendamentos, prontu├írios, treinos' },\r\n    { id: 'education', label: 'Educa├º├úo & Cursos', desc: 'LMS, aulas online, certificados' },\r\n    { id: 'ecommerce', label: 'E-commerce', desc: 'Cat├ílogo, carrinho, checkout' },\r\n    { id: 'booking', label: 'Agendamentos', desc: 'Reservas, calend├írio, confirma├º├Áes' },\r\n    { id: 'analytics', label: 'Analytics & BI', desc: 'Dashboards, relat├│rios, m├®tricas' },\r\n];\r\n\r\nconst AUDIENCE_SUGGESTIONS = [\r\n    { id: 'freelancers', label: 'Freelancers', desc: 'Profissionais aut├┤nomos' },\r\n    { id: 'startups', label: 'Startups', desc: 'Empresas em est├ígio inicial' },\r\n    { id: 'smb', label: 'PMEs', desc: 'Pequenas e m├®dias empresas' },\r\n    { id: 'enterprise', label: 'Enterprise', desc: 'Grandes corpora├º├Áes' },\r\n    { id: 'creators', label: 'Criadores de Conte├║do', desc: 'YouTubers, influencers' },\r\n    { id: 'developers', label: 'Desenvolvedores', desc: 'Devs e times t├®cnicos' },\r\n    { id: 'students', label: 'Estudantes', desc: 'Universit├írios e vestibulandos' },\r\n    { id: 'agencies', label: 'Ag├¬ncias', desc: 'Marketing, design, desenvolvimento' },\r\n];\r\n\r\nconst PAYMENT_PROVIDERS = [\r\n    { id: 'stripe', label: 'Stripe', desc: 'Global - Cart├úo, PIX (via Stripe)', icon: '­ƒÆ│', region: 'Global' },\r\n    { id: 'asaas', label: 'Asaas', desc: 'Brasil - PIX, Boleto, Cart├úo', icon: '­ƒçº­ƒçÀ', region: 'Brasil' },\r\n    { id: 'mercadopago', label: 'Mercado Pago', desc: 'LATAM - PIX, Boleto, Cart├úo', icon: '­ƒîÄ', region: 'LATAM' },\r\n    { id: 'demo', label: 'Demo Mode', desc: 'Sem pagamentos reais (teste)', icon: '­ƒº¬', region: 'Teste' },\r\n];\r\n\r\nconst MONETIZATION_MODELS = [\r\n    { id: 'subscription', label: 'Assinatura', desc: 'Cobran├ºa mensal/anual recorrente' },\r\n    { id: 'freemium', label: 'Freemium', desc: 'Gr├ítis + planos premium' },\r\n    { id: 'one-time', label: 'Pagamento ├Ünico', desc: 'Licen├ºa vital├¡cia' },\r\n    { id: 'usage-based', label: 'Por Uso', desc: 'Cobra conforme consumo' },\r\n];\r\n\r\nconst STYLES = [\r\n    { id: 'modern', label: 'Moderno & Clean', desc: 'Minimalista, muito espa├ºo em branco, foco no conte├║do.', icon: Layout, color: '#3b82f6' }, // Blue\r\n    { id: 'corporate', label: 'Corporativo & S├®rio', desc: 'Cores s├│brias, tipografia densa, dados confi├íveis.', icon: Briefcase, color: '#64748b' }, // Slate\r\n    { id: 'creative', label: 'Criativo & Vibrante', desc: 'Gradientes, cores fortes e formas org├ónicas.', icon: Zap, color: '#ec4899' }, // Pink\r\n    { id: 'tech', label: 'Tech & Dark Mode', desc: 'Fundo escuro, neon, futurista e high-tech.', icon: Monitor, color: '#10b981' }, // Emerald\r\n];\r\n\r\nconst COLORS = [\r\n    { id: 'blue', label: 'Azul Tech', color: '#3b82f6' },\r\n    { id: 'indigo', label: 'Indigo Profundo', color: '#6366f1' },\r\n    { id: 'violet', label: 'Violeta M├¡stico', color: '#8b5cf6' },\r\n    { id: 'purple', label: 'Roxo Criativo', color: '#a855f7' },\r\n    { id: 'fuchsia', label: 'Fuchsia Vibrante', color: '#d946ef' },\r\n    { id: 'pink', label: 'Rosa Shock', color: '#ec4899' },\r\n    { id: 'rose', label: 'Rose Elegante', color: '#f43f5e' },\r\n    { id: 'red', label: 'Vermelho Bold', color: '#ef4444' },\r\n    { id: 'orange', label: 'Laranja Energia', color: '#f97316' },\r\n    { id: 'amber', label: 'Amber Ouro', color: '#f59e0b' },\r\n    { id: 'yellow', label: 'Amarelo Sol', color: '#eab308' },\r\n    { id: 'lime', label: 'Lime ├ücido', color: '#84cc16' },\r\n    { id: 'emerald', label: 'Verde Sa├║de', color: '#10b981' },\r\n    { id: 'teal', label: 'Teal Moderno', color: '#14b8a6' },\r\n    { id: 'cyan', label: 'Ciano Futuro', color: '#06b6d4' },\r\n    { id: 'sky', label: 'Sky Claro', color: '#0ea5e9' },\r\n    { id: 'slate', label: 'Cinza Neutro', color: '#64748b' },\r\n    { id: 'zinc', label: 'Zinc Industrial', color: '#71717a' },\r\n    { id: 'neutral', label: 'Neutral', color: '#737373' },\r\n    { id: 'stone', label: 'Stone Earth', color: '#78716c' },\r\n    { id: 'black', label: 'Preto Luxo', color: '#000000' },\r\n    { id: 'white', label: 'Branco Clean', color: '#ffffff' },\r\n];\r\n\r\nconst FONTS = [\r\n    { id: 'Inter', label: 'Inter', category: 'Sans-Serif' },\r\n    { id: 'Poppins', label: 'Poppins', category: 'Sans-Serif' },\r\n    { id: 'Roboto', label: 'Roboto', category: 'Sans-Serif' },\r\n    { id: 'Open Sans', label: 'Open Sans', category: 'Sans-Serif' },\r\n    { id: 'Montserrat', label: 'Montserrat', category: 'Sans-Serif' },\r\n    { id: 'Playfair Display', label: 'Playfair', category: 'Serif' },\r\n    { id: 'Lora', label: 'Lora', category: 'Serif' },\r\n    { id: 'Merriweather', label: 'Merriweather', category: 'Serif' },\r\n    { id: 'JetBrains Mono', label: 'JetBrains', category: 'Monospace' },\r\n    { id: 'Oswald', label: 'Oswald', category: 'Condensed' },\r\n];\r\n\r\nexport default function SaasBuilderPage() {\r\n    const [step, setStep] = useState(0);\r\n    const [state, setState] = useState<SaasBuilderState>(INITIAL_STATE);\r\n    const [generatedPrompt, setGeneratedPrompt] = useState('');\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [isSuggesting, setIsSuggesting] = useState(false);\r\n    const [copied, setCopied] = useState(false);\r\n    const [featureInput, setFeatureInput] = useState('');\r\n\r\n    const updateState = (key: keyof SaasBuilderState, value: string | string[] | number) => {\r\n        setState(prev => ({ ...prev, [key]: value }));\r\n    };\r\n\r\n    const toggleFeature = (feat: string) => {\r\n        setState(prev => ({\r\n            ...prev,\r\n            features: prev.features.includes(feat)\r\n                ? prev.features.filter(f => f !== feat)\r\n                : [...prev.features, feat]\r\n        }));\r\n    };\r\n\r\n    const addFeature = () => {\r\n        if (featureInput.trim()) {\r\n            if (!state.features.includes(featureInput.trim())) {\r\n                toggleFeature(featureInput.trim());\r\n            }\r\n            setFeatureInput('');\r\n        }\r\n    };\r\n\r\n    const nextStep = () => {\r\n        if (step < 8) setStep(step + 1); // Steps: 0-7 wizard, 8 result\r\n        else handleGeneratePrompt();\r\n    };\r\n\r\n    const prevStep = () => {\r\n        if (step > 0) setStep(step - 1);\r\n    };\r\n\r\n    // --- AI Suggestion Logic ---\r\n    const handleMagicSuggest = async () => {\r\n        if (!state.appName) return;\r\n        setIsSuggesting(true);\r\n        try {\r\n            const response = await fetch('/api/generate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    promptMode: 'suggest_saas_details',\r\n                    saasName: state.appName,\r\n                    saasNiche: state.niche\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Erro na sugest├úo IA');\r\n            const data = await response.json();\r\n\r\n            // Clean markdown if present - more robust regex\r\n            const jsonMatch = data.result.match(/```json\\n?([\\s\\S]*?)\\n?```/) || data.result.match(/(\\{[\\s\\S]*\\})/);\r\n            const cleanJson = jsonMatch ? jsonMatch[1] : data.result.trim();\r\n            const suggestions = JSON.parse(cleanJson);\r\n\r\n            setState(prev => ({\r\n                ...prev,\r\n                niche: suggestions.niche || prev.niche,\r\n                targetAudience: suggestions.targetAudience || prev.targetAudience,\r\n                features: [...prev.features, ...(suggestions.features || [])],\r\n                primaryColor: suggestions.primaryColor || prev.primaryColor,\r\n                secondaryColor: suggestions.secondaryColor || prev.secondaryColor,\r\n                typography: suggestions.typography || prev.typography,\r\n                visualStyle: suggestions.visualStyle || prev.visualStyle\r\n            }));\r\n\r\n        } catch (error) {\r\n            console.error(\"Magic Suggest Error:\", error);\r\n            // Optional: Show toast\r\n        } finally {\r\n            setIsSuggesting(false);\r\n        }\r\n    };\r\n\r\n    const handleGeneratePrompt = async () => {\r\n        setStep(8); // Result screen\r\n        setIsGenerating(true);\r\n        setGeneratedPrompt('');\r\n\r\n        try {\r\n            const response = await fetch('/api/generate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    promptMode: 'saas_builder',\r\n                    saasName: state.appName,\r\n                    saasNiche: state.niche,\r\n                    targetAudience: state.targetAudience,\r\n                    features: state.features,\r\n                    saasColor: state.primaryColor,\r\n                    secondaryColor: state.secondaryColor,\r\n                    typography: `${state.typography} (Weight: ${state.typographyWeight})`,\r\n                    typographyWeight: state.typographyWeight,\r\n                    targetPlatform: state.targetPlatform,\r\n                    logoStyle: state.visualStyle,\r\n                    voiceTone: 'Profissional e Persuasivo',\r\n                    monetization: state.monetization\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errData = await response.json();\r\n                throw new Error(errData.error || 'Erro ao gerar prompt');\r\n            }\r\n\r\n            const data = await response.json();\r\n            setGeneratedPrompt(data.result);\r\n\r\n        } catch (error: unknown) {\r\n            const err = error as Error;\r\n            console.error(err);\r\n            setGeneratedPrompt(`Erro: ${err.message || 'Falha na conex├úo'}. Tente novamente.`);\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(generatedPrompt);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    // --- Render Steps ---\r\n    const renderStepContent = () => {\r\n        switch (step) {\r\n            case 0: // App Name & Platform\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Identidade do Projeto</h2>\r\n                            <p className={styles.stepDescription}>Comece definindo o nome e onde voc├¬ vai construir.</p>\r\n                        </div>\r\n\r\n                        <div className={styles.formGroup}>\r\n                            <label className={styles.label} style={{ width: '100%', textAlign: 'center', display: 'block' }}>\r\n                                Plataforma de IA (Onde voc├¬ vai colar o prompt?)\r\n                            </label>\r\n                            <div className={styles.platformGrid}>\r\n                                {TARGET_PLATFORMS.map(platform => {\r\n                                    return (\r\n                                        <div\r\n                                            key={platform.id}\r\n                                            className={`${styles.platformCard} ${state.targetPlatform === platform.id ? styles.active : ''}`}\r\n                                            onClick={() => updateState('targetPlatform', platform.id)}\r\n                                        >\r\n                                            <div className={styles.platformIcon}>\r\n                                                <img\r\n                                                    src={platform.logo}\r\n                                                    alt={platform.label}\r\n                                                    className={styles.platformLogoImg}\r\n                                                />\r\n                                            </div>\r\n                                            <div className={styles.platformInfo}>\r\n                                                <span className={styles.platformName}>{platform.label}</span>\r\n                                                <span className={styles.platformDomain}>{platform.value}</span>\r\n                                            </div>\r\n                                            {state.targetPlatform === platform.id && (\r\n                                                <motion.div\r\n                                                    layoutId=\"active-platform\"\r\n                                                    className={styles.platformActiveIndicator}\r\n                                                    initial={{ opacity: 0 }}\r\n                                                    animate={{ opacity: 1 }}\r\n                                                />\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.formGroup} style={{ marginTop: '2rem' }}>\r\n                            <label className={styles.label}>Nome do SaaS</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: TaskFlow, FinanceAI...\"\r\n                                value={state.appName}\r\n                                onChange={(e) => updateState('appName', e.target.value)}\r\n                                autoFocus\r\n                            />\r\n                        </div>\r\n\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} style={{ visibility: 'hidden' }}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep} disabled={!state.appName.trim()}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 1: // Niche & AI Magic\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader} style={{ marginBottom: '1rem' }}>\r\n                            <div className=\"flex flex-col md:flex-row justify-between items-start gap-8\">\r\n                                <div>\r\n                                    <h2 className={styles.stepTitle}>Nicho e P├║blico</h2>\r\n                                    <p className={`${styles.stepDescription} whitespace-nowrap`}>Defina o mercado. Ou deixe a IA sugerir.</p>\r\n                                </div>\r\n                                <button\r\n                                    className={styles.copyActionResult}\r\n                                    onClick={handleMagicSuggest}\r\n                                    disabled={isSuggesting || !state.appName}\r\n                                >\r\n                                    {isSuggesting && (\r\n                                        <div className={styles.spinner} style={{ width: 16, height: 16, borderWidth: 2 }} />\r\n                                    )}\r\n                                    {isSuggesting ? 'Pensando...' : 'Preencher com IA'}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.formGroup}>\r\n                            <label className={styles.label}>Nicho de Mercado</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: Gest├úo e Projetos...\"\r\n                                value={state.niche}\r\n                                onChange={(e) => updateState('niche', e.target.value)}\r\n                            />\r\n                            <div className={styles.suggestionsGrid} style={{ marginTop: '0.75rem' }}>\r\n                                {NICHE_SUGGESTIONS.map(n => (\r\n                                    <div\r\n                                        key={n.id}\r\n                                        className={styles.suggestionpill}\r\n                                        onClick={() => updateState('niche', n.label)}\r\n                                        title={n.desc}\r\n                                        style={{ opacity: state.niche === n.label ? 1 : 0.7 }}\r\n                                    >\r\n                                        {state.niche === n.label ? 'Ô£ô ' : '+ '}{n.label}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.formGroup} style={{ marginTop: '1.5rem' }}>\r\n                            <label className={styles.label}>P├║blico Alvo</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: Freelancers, Startups...\"\r\n                                value={state.targetAudience}\r\n                                onChange={(e) => updateState('targetAudience', e.target.value)}\r\n                            />\r\n                            <div className={styles.suggestionsGrid} style={{ marginTop: '0.75rem' }}>\r\n                                {AUDIENCE_SUGGESTIONS.map(a => (\r\n                                    <div\r\n                                        key={a.id}\r\n                                        className={styles.suggestionpill}\r\n                                        onClick={() => updateState('targetAudience', a.label)}\r\n                                        title={a.desc}\r\n                                        style={{ opacity: state.targetAudience === a.label ? 1 : 0.7 }}\r\n                                    >\r\n                                        {state.targetAudience === a.label ? 'Ô£ô ' : '+ '}{a.label}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 2: // Features\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <div className=\"flex justify-between items-start\">\r\n                                <div>\r\n                                    <h2 className={styles.stepTitle}>Funcionalidades</h2>\r\n                                    <p className={styles.stepDescription}>O que seu app vai fazer?</p>\r\n                                </div>\r\n                                {!state.features.length && state.appName && (\r\n                                    <button\r\n                                        className={styles.backButton}\r\n                                        style={{ fontSize: '0.8rem', padding: '0.4rem 1rem' }}\r\n                                        onClick={handleMagicSuggest}\r\n                                        disabled={isSuggesting}\r\n                                    >\r\n                                        <Bot size={16} className=\"mr-2\" /> Sugerir Features\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.inputWithButton}>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Digite uma feature...\"\r\n                                value={featureInput}\r\n                                onChange={(e) => setFeatureInput(e.target.value)}\r\n                                onKeyDown={(e) => { if (e.key === 'Enter') addFeature(); }}\r\n                            />\r\n                            <button className={styles.addButton} onClick={addFeature}>+</button>\r\n                        </div>\r\n                        <div className={styles.chipGrid}>\r\n                            {state.features.map((feat, idx) => (\r\n                                <div key={idx} className={styles.chip} onClick={() => toggleFeature(feat)}>\r\n                                    {feat} <X size={14} style={{ marginLeft: 6 }} />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className={styles.suggestionsGrid}>\r\n                            {['Auth', 'Dashboard', 'Pagamentos', 'Admin', 'Relat├│rios'].map(sug => (\r\n                                <div key={sug} className={styles.suggestionpill} onClick={() => {\r\n                                    if (!state.features.includes(sug)) toggleFeature(sug);\r\n                                }}>+ {sug}</div>\r\n                            ))}\r\n                        </div>\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 3: // Visual Style Only\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Estilo Visual</h2>\r\n                            <p className={styles.stepDescription}>Qual a \"vibe\" do seu SaaS?</p>\r\n                        </div>\r\n                        <div className={styles.grid2} style={{ marginTop: '1rem' }}>\r\n                            {STYLES.map(s => (\r\n                                <div\r\n                                    key={s.id}\r\n                                    className={`${styles.card} ${state.visualStyle === s.label ? styles.selected : ''}`}\r\n                                    onClick={() => updateState('visualStyle', s.label)}\r\n                                    style={{ '--primary': s.color } as React.CSSProperties}\r\n                                >\r\n                                    <div className={styles.cardIcon}><s.icon size={24} /></div>\r\n                                    <span className={styles.cardTitle}>{s.label}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 4: // Colors Only (Synced with Landing Builder)\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader} style={{ marginBottom: '1.5rem' }}>\r\n                            <h2 className={styles.stepTitle}>Paleta de Cores</h2>\r\n                            <p className={styles.stepDescription}>Defina as cores da sua marca.</p>\r\n                        </div>\r\n\r\n                        {/* Colors */}\r\n                        <div className={styles.grid2} style={{ marginBottom: '2rem' }}>\r\n                            {/* Primary Color */}\r\n                            <div>\r\n                                <label className={styles.label} style={{ marginBottom: '0.8rem', display: 'block' }}>Cor Prim├íria (Destaques)</label>\r\n                                <div className={styles.featuresGrid} style={{ gridTemplateColumns: 'repeat(auto-fill, minmax(36px, 1fr))', gap: '8px' }}>\r\n                                    {COLORS.filter(c => c.id !== 'white').map(c => (\r\n                                        <div\r\n                                            key={`p-${c.id}`}\r\n                                            onClick={() => updateState('primaryColor', c.color)}\r\n                                            style={{\r\n                                                width: '36px', height: '36px', borderRadius: '50%',\r\n                                                background: c.color,\r\n                                                cursor: 'pointer',\r\n                                                border: state.primaryColor === c.color ? '3px solid white' : '1px solid rgba(255,255,255,0.1)',\r\n                                                boxShadow: state.primaryColor === c.color ? `0 0 15px ${c.color}aa` : 'none',\r\n                                                transform: state.primaryColor === c.color ? 'scale(1.1)' : 'scale(1)',\r\n                                                transition: 'all 0.2s',\r\n                                                position: 'relative'\r\n                                            }}\r\n                                            title={c.label}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Secondary Color */}\r\n                            <div>\r\n                                <label className={styles.label} style={{ marginBottom: '0.8rem', display: 'block' }}>Cor Secund├íria (Fundo/Base)</label>\r\n                                <div className={styles.featuresGrid} style={{ gridTemplateColumns: 'repeat(auto-fill, minmax(36px, 1fr))', gap: '8px' }}>\r\n                                    {COLORS.map(c => (\r\n                                        <div\r\n                                            key={`s-${c.id}`}\r\n                                            onClick={() => updateState('secondaryColor', c.color)}\r\n                                            style={{\r\n                                                width: '36px', height: '36px', borderRadius: '50%',\r\n                                                background: c.color,\r\n                                                cursor: 'pointer',\r\n                                                border: state.secondaryColor === c.color ? '3px solid white' : '1px solid rgba(255,255,255,0.1)',\r\n                                                boxShadow: state.secondaryColor === c.color ? `0 0 15px ${c.color}aa` : 'none',\r\n                                                transform: state.secondaryColor === c.color ? 'scale(1.1)' : 'scale(1)',\r\n                                                transition: 'all 0.2s'\r\n                                            }}\r\n                                            title={c.label}\r\n                                        />\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Live Preview (Kept as it adds value and fits the structure) */}\r\n                        <div className={styles.mockPreview} style={{ background: state.secondaryColor, borderColor: 'rgba(255,255,255,0.1)' }}>\r\n                            <div style={{\r\n                                width: '100%',\r\n                                padding: '1rem',\r\n                                borderBottom: '1px solid rgba(255,255,255,0.05)',\r\n                                display: 'flex',\r\n                                justifyContent: 'space-between',\r\n                                alignItems: 'center'\r\n                            }}>\r\n                                <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\r\n                                    <div style={{ width: 12, height: 12, borderRadius: '50%', background: '#ff5f56' }} />\r\n                                    <div style={{ width: 12, height: 12, borderRadius: '50%', background: '#ffbd2e' }} />\r\n                                    <div style={{ width: 12, height: 12, borderRadius: '50%', background: '#27c93f' }} />\r\n                                </div>\r\n                                <div style={{\r\n                                    fontSize: '0.8rem',\r\n                                    fontWeight: 600,\r\n                                    color: state.secondaryColor === '#ffffff' || state.secondaryColor.startsWith('#f') ? '#000' : '#fff', opacity: 0.8\r\n                                }}>{state.appName || 'Meu SaaS'}</div>\r\n                            </div>\r\n\r\n                            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', padding: '2rem', flex: 1, gap: '1rem' }}>\r\n                                <h3 className={styles.mockHeading} style={{ color: state.primaryColor, marginBottom: 0 }}>\r\n                                    {state.visualStyle.split(' ')[0]} Vibe\r\n                                </h3>\r\n                                <p style={{\r\n                                    color: state.secondaryColor === '#ffffff' || state.secondaryColor.startsWith('#f') ? 'rgba(0,0,0,0.6)' : 'rgba(255,255,255,0.6)',\r\n                                    fontSize: '0.9rem',\r\n                                    textAlign: 'center',\r\n                                    maxWidth: '80%'\r\n                                }}>\r\n                                    Transforme suas ideias em realidade com a paleta de cores perfeita.\r\n                                </p>\r\n\r\n                                <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem' }}>\r\n                                    <button className={styles.mockButton} style={{\r\n                                        background: state.primaryColor,\r\n                                        color: state.secondaryColor === '#ffffff' || state.secondaryColor.startsWith('#f') ? '#fff' : '#000',\r\n                                        boxShadow: `0 4px 15px ${state.primaryColor}66`\r\n                                    }}>\r\n                                        Come├ºar Agora\r\n                                    </button>\r\n                                    <button style={{\r\n                                        padding: '0.6rem 1.2rem',\r\n                                        borderRadius: '8px',\r\n                                        background: 'transparent',\r\n                                        border: `1px solid ${state.primaryColor}`,\r\n                                        color: state.primaryColor,\r\n                                        fontSize: '0.9rem',\r\n                                        fontWeight: 500\r\n                                    }}>\r\n                                        Saber Mais\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 5: // Typography & Weight\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Tipografia</h2>\r\n                            <p className={styles.stepDescription}>A voz visual da sua marca.</p>\r\n                        </div>\r\n\r\n                        <div className={styles.formGroup}>\r\n                            <label className={styles.label}>Fam├¡lia da Fonte</label>\r\n                            <div className=\"grid grid-cols-2 gap-3 mt-2\" style={{ maxHeight: '360px', overflowY: 'auto', paddingRight: '5px' }}>\r\n                                {FONTS.map(font => (\r\n                                    <div\r\n                                        key={font.id}\r\n                                        className={`${styles.fontCard} ${state.typography === font.id ? styles.active : ''}`}\r\n                                        onClick={() => updateState('typography', font.id)}\r\n                                        style={{ fontFamily: font.id }}\r\n                                    >\r\n                                        <div className={styles.fontPreviewAa}>Aa</div>\r\n                                        <div className={styles.fontInfo}>\r\n                                            <span className={styles.fontName}>{font.label}</span>\r\n                                            <span className={styles.fontCat} style={{ fontFamily: 'var(--font-heading)' }}>{font.category}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.formGroup} style={{ marginTop: '2rem' }}>\r\n                            <div className=\"flex justify-between items-center mb-2\">\r\n                                <label className={styles.label}>Espessura (Peso): <span style={{ color: 'var(--primary)' }}>{state.typographyWeight}</span></label>\r\n                            </div>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"100\"\r\n                                max=\"900\"\r\n                                step=\"100\"\r\n                                value={state.typographyWeight}\r\n                                onChange={(e) => updateState('typographyWeight', parseInt(e.target.value))}\r\n                                className=\"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer accent-orange-500\"\r\n                                style={{ accentColor: 'var(--primary)' }}\r\n                            />\r\n\r\n                            {/* Live Preview Box */}\r\n                            <div style={{\r\n                                marginTop: '1.5rem',\r\n                                padding: '2rem',\r\n                                background: 'rgba(0,0,0,0.3)',\r\n                                borderRadius: 16,\r\n                                border: '1px solid rgba(255,255,255,0.05)',\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                gap: '0.5rem',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                minHeight: '120px'\r\n                            }}>\r\n                                <p style={{\r\n                                    fontFamily: state.typography,\r\n                                    fontWeight: state.typographyWeight,\r\n                                    fontSize: '1.8rem',\r\n                                    color: 'white',\r\n                                    textAlign: 'center',\r\n                                    lineHeight: 1.2\r\n                                }}>\r\n                                    Promptly SaaS\r\n                                </p>\r\n                                <p style={{\r\n                                    fontFamily: state.typography,\r\n                                    fontWeight: 400, // Contrast with body text\r\n                                    fontSize: '1rem',\r\n                                    color: 'rgba(255,255,255,0.6)',\r\n                                    textAlign: 'center'\r\n                                }}>\r\n                                    The quick brown fox jumps over the lazy dog.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 6: // Monetization\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Monetiza├º├úo</h2>\r\n                            <p className={styles.stepDescription}>Como seu SaaS vai gerar receita?</p>\r\n                        </div>\r\n\r\n                        {/* Enable/Disable Toggle */}\r\n                        <div className={styles.formGroup}>\r\n                            <div\r\n                                className={`${styles.card} ${state.monetization.enabled ? styles.selected : ''}`}\r\n                                onClick={() => setState(prev => ({\r\n                                    ...prev,\r\n                                    monetization: { ...prev.monetization, enabled: !prev.monetization.enabled }\r\n                                }))}\r\n                                style={{ cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '1rem', padding: '1rem 1.5rem' }}\r\n                            >\r\n                                <div style={{\r\n                                    width: 24, height: 24, borderRadius: 6,\r\n                                    background: state.monetization.enabled ? 'var(--primary)' : 'transparent',\r\n                                    border: state.monetization.enabled ? 'none' : '2px solid rgba(255,255,255,0.2)',\r\n                                    display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n                                }}>\r\n                                    {state.monetization.enabled && <Check size={16} color=\"#fff\" />}\r\n                                </div>\r\n                                <div>\r\n                                    <p style={{ fontWeight: 600, color: 'white', margin: 0 }}>Ativar Pagamentos</p>\r\n                                    <p style={{ fontSize: '0.8rem', color: 'rgba(255,255,255,0.6)', margin: 0 }}>\r\n                                        Integrar sistema de cobran├ºa recorrente\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {state.monetization.enabled && (\r\n                            <>\r\n                                {/* Payment Provider */}\r\n                                <div className={styles.formGroup} style={{ marginTop: '1.5rem' }}>\r\n                                    <label className={styles.label}>Provedor de Pagamento</label>\r\n                                    <div className={styles.grid2} style={{ marginTop: '0.75rem' }}>\r\n                                        {PAYMENT_PROVIDERS.map(p => (\r\n                                            <div\r\n                                                key={p.id}\r\n                                                className={`${styles.card} ${state.monetization.provider === p.id ? styles.selected : ''}`}\r\n                                                onClick={() => setState(prev => ({\r\n                                                    ...prev,\r\n                                                    monetization: { ...prev.monetization, provider: p.id as 'stripe' | 'asaas' | 'mercadopago' | 'demo' }\r\n                                                }))}\r\n                                                style={{ cursor: 'pointer' }}\r\n                                            >\r\n                                                <div style={{ fontSize: '1.5rem', marginBottom: '0.5rem' }}>{p.icon}</div>\r\n                                                <p style={{ fontWeight: 600, color: 'white', margin: 0 }}>{p.label}</p>\r\n                                                <p style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)', margin: 0 }}>{p.desc}</p>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Billing Model */}\r\n                                <div className={styles.formGroup} style={{ marginTop: '1.5rem' }}>\r\n                                    <label className={styles.label}>Modelo de Cobran├ºa</label>\r\n                                    <div className={styles.suggestionsGrid} style={{ marginTop: '0.75rem' }}>\r\n                                        {MONETIZATION_MODELS.map(m => (\r\n                                            <div\r\n                                                key={m.id}\r\n                                                className={styles.suggestionpill}\r\n                                                onClick={() => setState(prev => ({\r\n                                                    ...prev,\r\n                                                    monetization: { ...prev.monetization, model: m.id as 'subscription' | 'one-time' | 'freemium' | 'usage-based' }\r\n                                                }))}\r\n                                                style={{ opacity: state.monetization.model === m.id ? 1 : 0.7 }}\r\n                                                title={m.desc}\r\n                                            >\r\n                                                {state.monetization.model === m.id ? 'Ô£ô ' : ''}{m.label}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Trial Days */}\r\n                                <div className={styles.formGroup} style={{ marginTop: '1.5rem' }}>\r\n                                    <div className=\"flex justify-between items-center mb-2\">\r\n                                        <label className={styles.label}>Per├¡odo de Teste: <span style={{ color: 'var(--primary)' }}>{state.monetization.trialDays} dias</span></label>\r\n                                    </div>\r\n                                    <input\r\n                                        type=\"range\"\r\n                                        min=\"0\"\r\n                                        max=\"30\"\r\n                                        step=\"1\"\r\n                                        value={state.monetization.trialDays}\r\n                                        onChange={(e) => setState(prev => ({\r\n                                            ...prev,\r\n                                            monetization: { ...prev.monetization, trialDays: parseInt(e.target.value) }\r\n                                        }))}\r\n                                        className=\"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer\"\r\n                                        style={{ accentColor: 'var(--primary)' }}\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={nextStep}>\r\n                                Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 7: // Review\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Revis├úo Final</h2>\r\n                            <p className={styles.stepDescription}>Plataforma Alvo: <span style={{ color: 'var(--primary)' }}>{state.targetPlatform}</span></p>\r\n                        </div>\r\n                        <div className={styles.reviewCard}>\r\n                            <div className={styles.reviewItem}> <span className={styles.reviewLabel}>App:</span> <span className={styles.reviewValue}>{state.appName}</span> </div>\r\n                            <div className={styles.reviewItem}> <span className={styles.reviewLabel}>Nicho:</span> <span className={styles.reviewValue}>{state.niche}</span> </div>\r\n                            <div className={styles.reviewItem}> <span className={styles.reviewLabel}>Estilo:</span> <span className={styles.reviewValue}>{state.visualStyle}</span> </div>\r\n                            <div className={styles.reviewItem}> <span className={styles.reviewLabel}>Stack:</span> <span className={styles.reviewValue}>{state.targetPlatform} + {state.typography} ({state.typographyWeight})</span> </div>\r\n                            <div className={styles.reviewItem}> <span className={styles.reviewLabel}>Features:</span> <span className={styles.reviewValue}>{state.features.length} funcionais</span> </div>\r\n                            <div className={styles.reviewItem}>\r\n                                <span className={styles.reviewLabel}>Monetiza├º├úo:</span>\r\n                                <span className={styles.reviewValue}>\r\n                                    {state.monetization.enabled\r\n                                        ? `${state.monetization.provider.charAt(0).toUpperCase() + state.monetization.provider.slice(1)} - ${state.monetization.model} (${state.monetization.trialDays}d trial)`\r\n                                        : 'N├úo configurado'\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.navButtons}>\r\n                            <button className={styles.backButton} onClick={prevStep}>Voltar</button>\r\n                            <button className={styles.nextButton} onClick={handleGeneratePrompt}>Gerar M├ígica</button>\r\n                        </div>\r\n                    </>\r\n                );\r\n            default: return null;\r\n        }\r\n    };\r\n\r\n    // --- Result Screen ---\r\n    if (step === 8) {\r\n        return (\r\n            <div className={styles.container}>\r\n                <Link href=\"/dashboard\" className={styles.closeButton}><X size={24} /></Link>\r\n                <div className={styles.resultContainer}>\r\n                    <div className={styles.stepHeader}>\r\n                        <h2 className={styles.stepTitle}>Seu Prompt est├í Pronto</h2>\r\n                        <p className={styles.stepDescription}>Agora ├® s├│ copiar e colar no <b>{state.targetPlatform}</b>.</p>\r\n                    </div>\r\n                    {isGenerating ? (\r\n                        <div className={styles.loadingState} style={{ position: 'relative', height: '300px', background: 'transparent', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                            <TextShimmer\r\n                                className=\"text-lg font-medium text-center [--base-color:theme(colors.zinc.500)] [--base-gradient-color:theme(colors.white)]\"\r\n                                duration={1.5}\r\n                            >\r\n                                {`Otimizando especifica├º├Áes para ${state.targetPlatform}...`}\r\n                            </TextShimmer>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={styles.editorWindow}>\r\n                            <div className={styles.editorHeader}>\r\n                                <div className={styles.windowControls}>\r\n                                    <div className={styles.controlDot} style={{ background: '#FF5F56' }} />\r\n                                    <div className={styles.controlDot} style={{ background: '#FFBD2E' }} />\r\n                                    <div className={styles.controlDot} style={{ background: '#27C93F' }} />\r\n                                </div>\r\n                                <span className={styles.fileName}>prompt_gerado.md</span>\r\n                                <div style={{ flex: 1 }} />\r\n                                <div className={styles.badge}>{state.targetPlatform} Mode</div>\r\n                            </div>\r\n\r\n                            <div className={styles.editorBody}>\r\n                                <pre className={styles.promptContent}>{generatedPrompt}</pre>\r\n                            </div>\r\n\r\n                            <div className={styles.editorFooter}>\r\n                                <button className={styles.copyActionResult} onClick={handleCopy}>\r\n                                    {copied ? <Check size={18} /> : <Copy size={18} />}\r\n                                    {copied ? 'Copiado!' : 'Copiar Prompt'}\r\n                                </button>\r\n                                <button className={styles.secondaryAction} onClick={() => setStep(0)}>\r\n                                    Criar Novo\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Link href=\"/dashboard\" className={styles.closeButton}><X size={24} /></Link>\r\n            <div className={styles.wizardCard}>\r\n                <div className={styles.progressContainer}>\r\n                    <div className={styles.progressBar}>\r\n                        <div className={styles.progressFill} style={{ width: `${((step + 1) / 8) * 100}%` }} />\r\n                    </div>\r\n                </div>\r\n                <div className={styles.contentArea}>\r\n                    <AnimatePresence mode='wait'>\r\n                        <motion.div\r\n                            key={step}\r\n                            initial={{ opacity: 0, x: 20 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            exit={{ opacity: 0, x: -20 }}\r\n                            transition={{ duration: 0.3 }}\r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            {renderStepContent()}\r\n                        </motion.div>\r\n                    </AnimatePresence>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\builder\\saas-prompts-v4.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\checkout\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":183,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6437,6440],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6437,6440],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client';\r\n\r\nimport React, { useState, useEffect, Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { supabase } from '@/lib/supabase';\r\nimport styles from './checkout.module.css';\r\nimport { PlanSelector } from '../components/Checkout/PlanSelector';\r\nimport { PaymentMethodSelector } from '../components/Checkout/PaymentMethodSelector';\r\nimport { CreditCardForm } from '../components/Checkout/CreditCardForm';\r\nimport { PixPayment } from '../components/Checkout/PixPayment';\r\nimport { Button } from '../components/Button/Button';\r\nimport { ArrowLeft, Lock } from 'lucide-react';\r\nimport { formatCPF, formatPhone, formatCEP } from '@/lib/formatters';\r\n\r\nfunction CheckoutContent() {\r\n    const router = useRouter();\r\n\r\n    const searchParams = useSearchParams();\r\n    const initialPlan = searchParams.get('plan') as 'STARTER' | 'PRO' | null;\r\n\r\n    const [plan, setPlan] = useState<'STARTER' | 'PRO'>('STARTER');\r\n\r\n    useEffect(() => {\r\n        if (initialPlan === 'STARTER' || initialPlan === 'PRO') {\r\n            setPlan(initialPlan);\r\n        }\r\n    }, [initialPlan]);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    // Form State\r\n    const [details, setDetails] = useState({\r\n        name: '',\r\n        email: '',\r\n        whatsapp: '',\r\n        cpf: '',\r\n        cep: '',\r\n        endereco: '',\r\n        numero: '',\r\n        complemento: '',\r\n        bairro: '',\r\n        cidade: '',\r\n        estado: ''\r\n    });\r\n    const [paymentMethod, setPaymentMethod] = useState<'CREDIT_CARD' | 'PIX'>('CREDIT_CARD');\r\n    const [cardDetails, setCardDetails] = useState({\r\n        holderName: '',\r\n        number: '',\r\n        expiryMonth: '',\r\n        expiryYear: '',\r\n        ccv: ''\r\n    });\r\n\r\n    // Pix State\r\n    const [pixData, setPixData] = useState<{\r\n        pixQrCodeBase64: string;\r\n        pixCopyPaste: string;\r\n        paymentId: string;\r\n    } | null>(null);\r\n\r\n    // Fetch user email on mount\r\n    useEffect(() => {\r\n        const loadUser = async () => {\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            if (user?.email) {\r\n                setDetails(prev => ({ ...prev, email: user.email! }));\r\n            }\r\n        };\r\n        loadUser();\r\n    }, []);\r\n\r\n    // CEP Lookup\r\n    const handleCepBlur = async () => {\r\n        // Check for 9 characters (XXXXX-XXX)\r\n        if (details.cep.length === 9) {\r\n            try {\r\n                // Remove formatting for API call just in case, though ViaCEP handles it usually\r\n                const cleanCep = details.cep.replace(/\\D/g, '');\r\n                const res = await fetch(`https://viacep.com.br/ws/${cleanCep}/json/`);\r\n                const data = await res.json();\r\n\r\n                if (!data.erro) {\r\n                    setDetails(prev => ({\r\n                        ...prev,\r\n                        endereco: data.logradouro,\r\n                        bairro: data.bairro, // Keep saving it in state if needed, or remove if strictly not wanted. User said \"tire a op├º├úo\", implying UI.\r\n                        cidade: data.localidade,\r\n                        estado: data.uf\r\n                    }));\r\n                }\r\n            } catch (error) {\r\n                console.error('Erro ao buscar CEP', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDetailsChange = (field: string, value: string) => {\r\n        let formattedValue = value;\r\n\r\n        if (field === 'cpf') {\r\n            formattedValue = formatCPF(value);\r\n        } else if (field === 'whatsapp') {\r\n            formattedValue = formatPhone(value);\r\n        } else if (field === 'cep') {\r\n            formattedValue = formatCEP(value);\r\n        }\r\n\r\n        setDetails(prev => ({ ...prev, [field]: formattedValue }));\r\n    };\r\n\r\n    const handleCardChange = (field: string, value: string) => {\r\n        setCardDetails(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const processPayment = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) {\r\n                router.push('/login?redirect=/checkout');\r\n                return;\r\n            }\r\n\r\n            // Sanitize\r\n            const cleanCpf = details.cpf.replace(/\\D/g, '');\r\n            const cleanWhatsapp = details.whatsapp.replace(/\\D/g, '');\r\n            const cleanCep = details.cep.replace(/\\D/g, '');\r\n\r\n            const payload = {\r\n                plan,\r\n                method: paymentMethod,\r\n                billingDetails: {\r\n                    ...details,\r\n                    cpf: cleanCpf,\r\n                    whatsapp: cleanWhatsapp,\r\n                    cep: cleanCep\r\n                },\r\n                cardDetails: paymentMethod === 'CREDIT_CARD' ? cardDetails : undefined\r\n            };\r\n\r\n            const response = await fetch('/api/checkout/process', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            let data = null;\r\n\r\n            // Parse response safely\r\n            try {\r\n                data = await response.json();\r\n            } catch (e) {\r\n                console.error(\"Failed to parse response JSON\", e);\r\n                console.error(e);\r\n                throw new Error(`Erro de comunica├º├úo com o servidor (Status ${response.status})`);\r\n            }\r\n\r\n            if (!response.ok) {\r\n                console.error('Payment Error Data:', data);\r\n                // Simple error throw, valid session is handled by Middleware/Server\r\n                throw new Error(data.error || `Erro desconhecido: ${JSON.stringify(data)}` || 'Erro ao processar pagamento');\r\n            }\r\n\r\n            if (paymentMethod === 'PIX') {\r\n                setPixData({\r\n                    pixQrCodeBase64: data.pixQrCodeBase64,\r\n                    pixCopyPaste: data.pixCopyPaste,\r\n                    paymentId: data.paymentId\r\n                });\r\n                setLoading(false);\r\n                // Don't redirect yet, wait for user to pay\r\n            } else {\r\n                // Credit Card Success\r\n                router.push(`/checkout/success?plan=${plan}`);\r\n            }\r\n\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            setError(err.message || \"Ocorreu um erro ao processar o pagamento.\");\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const onPixSuccess = () => {\r\n        alert('Pagamento aprovado!');\r\n        router.push('/dashboard');\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.wrapper}>\r\n                <div className={styles.mainContent}>\r\n                    <div style={{ marginBottom: '1rem' }}>\r\n                        <Button variant=\"outline\" onClick={() => router.back()} style={{ display: 'inline-flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                            <ArrowLeft size={16} /> Voltar\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {/* Step 1: PLAN */}\r\n                    <section>\r\n                        <h2 className={styles.sectionTitle}>\r\n                            <span className={styles.stepNumber}>1</span>\r\n                            Escolha seu plano\r\n                        </h2>\r\n                        <PlanSelector selectedPlan={plan} onSelect={setPlan} />\r\n                    </section>\r\n\r\n                    {/* Step 2: DETAILS */}\r\n                    <section>\r\n                        <h2 className={styles.sectionTitle}>\r\n                            <span className={styles.stepNumber}>2</span>\r\n                            Seus Dados\r\n                        </h2>\r\n                        <div className={styles.formGrid}>\r\n                            <div className={styles.fullWidth}>\r\n                                <div className={styles.field}>\r\n                                    <label className={styles.label}>Nome Completo</label>\r\n                                    <input className={styles.input} value={details.name} onChange={e => handleDetailsChange('name', e.target.value)} required />\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>CPF</label>\r\n                                <input className={styles.input} placeholder=\"000.000.000-00\" value={details.cpf} onChange={e => handleDetailsChange('cpf', e.target.value)} required />\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>WhatsApp</label>\r\n                                <input className={styles.input} placeholder=\"(00) 00000-0000\" value={details.whatsapp} onChange={e => handleDetailsChange('whatsapp', e.target.value)} required />\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>CEP</label>\r\n                                <input className={styles.input} value={details.cep} onChange={e => handleDetailsChange('cep', e.target.value)} onBlur={handleCepBlur} maxLength={9} required />\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>Cidade/UF</label>\r\n                                <input className={styles.input} value={`${details.cidade}${details.estado ? '/' + details.estado : ''}`} readOnly />\r\n                            </div>\r\n                            <div className={styles.fullWidth}>\r\n                                <div className={styles.field}>\r\n                                    <label className={styles.label}>Endere├ºo</label>\r\n                                    <input className={styles.input} value={details.endereco} onChange={e => handleDetailsChange('endereco', e.target.value)} required />\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>N├║mero</label>\r\n                                <input className={styles.input} value={details.numero} onChange={e => handleDetailsChange('numero', e.target.value)} required />\r\n                            </div>\r\n                            <div className={styles.field}>\r\n                                <label className={styles.label}>Complemento</label>\r\n                                <input className={styles.input} value={details.complemento} onChange={e => handleDetailsChange('complemento', e.target.value)} />\r\n                            </div>\r\n                            {/* Bairro field removed as requested */}\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Step 3: PAYMENT */}\r\n                    <section>\r\n                        <h2 className={styles.sectionTitle}>\r\n                            <span className={styles.stepNumber}>3</span>\r\n                            Pagamento\r\n                        </h2>\r\n                        <PaymentMethodSelector method={paymentMethod} onSelect={setPaymentMethod} />\r\n\r\n                        {paymentMethod === 'CREDIT_CARD' && (\r\n                            <CreditCardForm cardDetails={cardDetails} onChange={handleCardChange} />\r\n                        )}\r\n\r\n                        {paymentMethod === 'PIX' && pixData && (\r\n                            <PixPayment\r\n                                pixQrCodeBase64={pixData.pixQrCodeBase64}\r\n                                pixCopyPaste={pixData.pixCopyPaste}\r\n                                paymentId={pixData.paymentId}\r\n                                onSuccess={onPixSuccess}\r\n                            />\r\n                        )}\r\n                    </section>\r\n                </div>\r\n\r\n                {/* Sidebar Summary */}\r\n                <div className={styles.sidebar}>\r\n                    <div className={styles.summaryCard}>\r\n                        <h3>Resumo do Pedido</h3>\r\n                        <div className={styles.summaryRow}>\r\n                            <span>Plano {plan}</span>\r\n                            <span>{plan === 'STARTER' ? 'R$ 9,90' : 'R$ 27,90'}</span>\r\n                        </div>\r\n                        <div className={styles.summaryRow}>\r\n                            <span>Taxas</span>\r\n                            <span>R$ 0,00</span>\r\n                        </div>\r\n                        <div className={styles.totalRow}>\r\n                            <span>Total</span>\r\n                            <span>{plan === 'STARTER' ? 'R$ 9,90' : 'R$ 27,90'}</span>\r\n                        </div>\r\n\r\n                        {error && (\r\n                            <div style={{ color: '#ef4444', fontSize: '0.9rem', marginTop: '1rem', background: 'rgba(239,68,68,0.1)', padding: '0.5rem', borderRadius: '8px' }}>\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n\r\n                        {!(paymentMethod === 'PIX' && pixData) && (\r\n                            <Button\r\n                                variant=\"primary\"\r\n                                onClick={processPayment}\r\n                                loading={loading}\r\n                                style={{ marginTop: '1.5rem', width: '100%', padding: '1rem' }}\r\n                            >\r\n                                {paymentMethod === 'PIX' ? 'Gerar PIX' : 'Assinar Agora'}\r\n                            </Button>\r\n                        )}\r\n\r\n                        <div style={{ marginTop: '1rem', fontSize: '0.8rem', color: '#666', display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\r\n                            <Lock size={12} /> Pagamento seguro via Asaas\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function CheckoutPage() {\r\n    return (\r\n        <Suspense fallback={<div className={styles.container}>Carregando...</div>}>\r\n            <CheckoutContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\checkout\\success\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[947,950],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[947,950],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState, Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { ArrowRight } from 'lucide-react';\r\nimport confetti from 'canvas-confetti';\r\nimport { Button } from '../../components/Button/Button';\r\nimport styles from './success.module.css';\r\n\r\nfunction CheckoutSuccessContent() {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const plan = searchParams.get('plan') || 'PRO';\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Trigger confetti\r\n        const duration = 3 * 1000;\r\n        const animationEnd = Date.now() + duration;\r\n        const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };\r\n\r\n        const randomInRange = (min: number, max: number) => Math.random() * (max - min) + min;\r\n\r\n        const interval: any = setInterval(function () {\r\n            const timeLeft = animationEnd - Date.now();\r\n\r\n            if (timeLeft <= 0) {\r\n                return clearInterval(interval);\r\n            }\r\n\r\n            const particleCount = 50 * (timeLeft / duration);\r\n            confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } });\r\n            confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } });\r\n        }, 250);\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const handleAccess = async () => {\r\n        setLoading(true);\r\n        // Force session refresh\r\n        await supabase.auth.refreshSession();\r\n        // Small delay to ensure DB propagation\r\n        setTimeout(() => {\r\n            router.push('/dashboard');\r\n        }, 1000);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            {/* Background Effects */}\r\n            <div className={styles.blob1} />\r\n            <div className={styles.blob2} />\r\n\r\n            <div className={styles.card}>\r\n                <div className={styles.successIndicator}>\r\n                    <div style={{ width: 6, height: 6, background: '#10B981', borderRadius: '50%', boxShadow: '0 0 10px #10B981' }} />\r\n                    Sucesso\r\n                </div>\r\n\r\n                <h1 className={styles.title}>\r\n                    Pagamento<br />Confirmado.\r\n                </h1>\r\n\r\n                <p className={styles.message}>\r\n                    Sua assinatura do plano <strong style={{ color: '#fff', fontWeight: 600 }}>{plan}</strong> j├í est├í ativa. Voc├¬ agora tem acesso total a todas as ferramentas de cria├º├úo.\r\n                </p>\r\n\r\n                <div className={styles.detailsGrid}>\r\n                    <div className={styles.detailItem}>\r\n                        <div className={styles.label}>Status</div>\r\n                        <div className={styles.valueSuccess}>Ativo</div>\r\n                    </div>\r\n                    <div className={styles.detailItem}>\r\n                        <div className={styles.label}>Capacidade</div>\r\n                        <div className={styles.value}>\r\n                            {plan === 'STARTER' ? '100' : '400'} gera├º├Áes/m├¬s\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleAccess}\r\n                    loading={loading}\r\n                    className={styles.buttonStyle}\r\n                >\r\n                    Acessar Dashboard <ArrowRight size={16} />\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function CheckoutSuccessPage() {\r\n    return (\r\n        <Suspense fallback={<div style={{ background: '#000', minHeight: '100vh' }}></div>}>\r\n            <CheckoutSuccessContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Button\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Checkout\\CreditCardForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Checkout\\PaymentMethodSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Checkout\\PixPayment.tsx","messages":[{"ruleId":"prefer-const","severity":2,"message":"'intervalId' is never reassigned. Use 'const' instead.","line":22,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":22,"endColumn":39},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":65,"column":75,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o &quot;Pix Copia e Cola\".\r\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o &ldquo;Pix Copia e Cola\".\r\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o &#34;Pix Copia e Cola\".\r\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o &rdquo;Pix Copia e Cola\".\r\n            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":65,"column":92,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o \"Pix Copia e Cola&quot;.\r\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o \"Pix Copia e Cola&ldquo;.\r\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o \"Pix Copia e Cola&#34;.\r\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2195,2304],"text":"\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o \"Pix Copia e Cola&rdquo;.\r\n            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":70,"column":17,"nodeType":"JSXOpeningElement","endLine":74,"endColumn":19}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport styles from '../../checkout/checkout.module.css';\r\nimport { Copy, Check } from 'lucide-react';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\ninterface PixPaymentProps {\r\n    pixQrCodeBase64: string;\r\n    pixCopyPaste: string;\r\n    paymentId: string;\r\n    onSuccess: () => void;\r\n    environment?: string;\r\n}\r\n\r\nexport function PixPayment({ pixQrCodeBase64, pixCopyPaste, paymentId, onSuccess, environment }: PixPaymentProps) {\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    // Polling logic\r\n    useEffect(() => {\r\n        let intervalId: NodeJS.Timeout;\r\n\r\n        const checkStatus = async () => {\r\n            try {\r\n                // Call our Edge Function to check status\r\n                const { data: { session } } = await supabase.auth.getSession();\r\n\r\n                const response = await fetch(`${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/check-payment-status`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${session?.access_token}`\r\n                    },\r\n                    body: JSON.stringify({ paymentId })\r\n                });\r\n\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    if (data.status === 'RECEIVED' || data.status === 'CONFIRMED') {\r\n                        onSuccess();\r\n                        clearInterval(intervalId);\r\n                    }\r\n                }\r\n            } catch (err) {\r\n                console.error('Error polling payment status', err);\r\n            }\r\n        };\r\n\r\n        // Start polling every 3 seconds\r\n        intervalId = setInterval(checkStatus, 3000);\r\n\r\n        return () => clearInterval(intervalId);\r\n    }, [paymentId, onSuccess]);\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(pixCopyPaste);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.pixContainer}>\r\n            <p style={{ color: '#aaa', fontSize: '0.9rem' }}>\r\n                Escaneie o QR Code abaixo com o app do seu banco ou use o \"Pix Copia e Cola\".\r\n            </p>\r\n\r\n            <div className={styles.qrCodeWrapper}>\r\n                {/* Asaas returns base64 image without prefix sometimes, add it if needed */}\r\n                <img\r\n                    src={`data:image/png;base64,${pixQrCodeBase64}`}\r\n                    alt=\"QR Code Pix\"\r\n                    style={{ width: '200px', height: '200px' }}\r\n                />\r\n            </div>\r\n\r\n            <div className={styles.copyField}>\r\n                <input\r\n                    className={styles.copyInput}\r\n                    value={pixCopyPaste}\r\n                    readOnly\r\n                />\r\n                <button\r\n                    className={styles.copyButton}\r\n                    onClick={handleCopy}\r\n                    type=\"button\"\r\n                    title=\"Copiar c├│digo Pix\"\r\n                >\r\n                    {copied ? <Check size={18} color=\"#4ade80\" /> : <Copy size={18} />}\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"animate-pulse\" style={{ color: '#0070f3', fontSize: '0.9rem', marginTop: '1rem' }}>\r\n                Aguardando pagamento...\r\n            </div>\r\n\r\n            {environment === 'sandbox' && (\r\n                <div style={{ marginTop: '1rem', padding: '10px', background: '#fffbeb', color: '#b45309', borderRadius: '8px', fontSize: '0.85rem', textAlign: 'center', border: '1px solid #fcd34d' }}>\r\n                    ÔÜá´©Å <b>Modo Sandbox (Teste)</b><br />\r\n                    Este QR Code <u>n├úo funcionar├í</u> em apps de banco reais.<br />\r\n                    Use o <a href=\"https://sandbox.asaas.com\" target=\"_blank\" className=\"underline\">Painel do Asaas Sandbox</a> para simular o pagamento.\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Checkout\\PlanSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\CodeExport\\CodeExportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\ElectricBorder\\ElectricBorder.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hexToRgba' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'animationRef' is assigned a value but never used.","line":38,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'timeRef' is assigned a value but never used.","line":39,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lastFrameTimeRef' is assigned a value but never used.","line":40,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":40,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef, useCallback, CSSProperties } from 'react';\r\n\r\nfunction hexToRgba(hex: string, alpha: number = 1): string {\r\n    if (!hex) return `rgba(0,0,0,${alpha})`;\r\n    let h = hex.replace('#', '');\r\n    if (h.length === 3) {\r\n        h = h\r\n            .split('')\r\n            .map(c => c + c)\r\n            .join('');\r\n    }\r\n    const int = parseInt(h, 16);\r\n    const r = (int >> 16) & 255;\r\n    const g = (int >> 8) & 255;\r\n    const b = int & 255;\r\n    return `rgba(${r}, ${g}, ${b}, ${alpha})`;\r\n}\r\n\r\ninterface ElectricBorderProps {\r\n    color?: string;\r\n    speed?: number;\r\n    chaos?: number;\r\n    borderRadius?: number;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n}\r\n\r\nconst ElectricBorder: React.FC<ElectricBorderProps> = ({\r\n    color = '#F5A524',\r\n    speed = 1,\r\n    chaos = 0.5,\r\n    borderRadius = 24,\r\n    className,\r\n    style\r\n}) => {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const animationRef = useRef<number | null>(null);\r\n    const timeRef = useRef(0);\r\n    const lastFrameTimeRef = useRef(0);\r\n\r\n    const random = useCallback((x: number): number => {\r\n        return (Math.sin(x * 12.9898) * 43758.5453) % 1;\r\n    }, []);\r\n\r\n    const noise2D = useCallback(\r\n        (x: number, y: number): number => {\r\n            const i = Math.floor(x);\r\n            const j = Math.floor(y);\r\n            const fx = x - i;\r\n            const fy = y - j;\r\n\r\n            const a = random(i + j * 57);\r\n            const b = random(i + 1 + j * 57);\r\n            const c = random(i + (j + 1) * 57);\r\n            const d = random(i + 1 + (j + 1) * 57);\r\n\r\n            const ux = fx * fx * (3.0 - 2.0 * fx);\r\n            const uy = fy * fy * (3.0 - 2.0 * fy);\r\n\r\n            return a * (1 - ux) * (1 - uy) + b * ux * (1 - uy) + c * (1 - ux) * uy + d * ux * uy;\r\n        },\r\n        [random]\r\n    );\r\n\r\n    const octavedNoise = useCallback(\r\n        (\r\n            x: number,\r\n            y: number,\r\n            octaves: number,\r\n            lacunarity: number,\r\n            gain: number,\r\n            baseAmplitude: number,\r\n            frequency: number,\r\n            time: number\r\n        ): number => {\r\n            let value = 0;\r\n            let amplitude = baseAmplitude;\r\n            let currentFreq = 1;\r\n\r\n            for (let i = 0; i < octaves; i++) {\r\n                const tx = x * currentFreq + time * 0.5;\r\n                const ty = y * currentFreq + time * 0.5;\r\n\r\n                value += amplitude * noise2D(tx, ty);\r\n\r\n                currentFreq *= lacunarity;\r\n                amplitude *= gain;\r\n            }\r\n\r\n            return value;\r\n        },\r\n        [noise2D]\r\n    );\r\n\r\n    const getPointOnPath = useCallback((t: number, w: number, h: number, r: number, xOff: number, yOff: number) => {\r\n        const topW = Math.max(0, w - 2 * r);\r\n        const rightH = Math.max(0, h - 2 * r);\r\n        const botW = topW;\r\n        const leftH = rightH;\r\n        const cornerLen = 0.5 * Math.PI * r;\r\n\r\n        const totalLen = topW + rightH + botW + leftH + 4 * cornerLen;\r\n        let d = t * totalLen;\r\n\r\n        // 1. Top Line\r\n        if (d <= topW) {\r\n            return { x: xOff + r + d, y: yOff };\r\n        }\r\n        d -= topW;\r\n\r\n        // 2. Top-Right Corner\r\n        if (d <= cornerLen) {\r\n            const ang = -Math.PI / 2 + (d / cornerLen) * (Math.PI / 2);\r\n            return {\r\n                x: xOff + w - r + Math.cos(ang) * r,\r\n                y: yOff + r + Math.sin(ang) * r\r\n            };\r\n        }\r\n        d -= cornerLen;\r\n\r\n        // 3. Right Line\r\n        if (d <= rightH) {\r\n            return { x: xOff + w, y: yOff + r + d };\r\n        }\r\n        d -= rightH;\r\n\r\n        // 4. Bottom-Right Corner\r\n        if (d <= cornerLen) {\r\n            const ang = 0 + (d / cornerLen) * (Math.PI / 2);\r\n            return {\r\n                x: xOff + w - r + Math.cos(ang) * r,\r\n                y: yOff + h - r + Math.sin(ang) * r\r\n            };\r\n        }\r\n        d -= cornerLen;\r\n\r\n        // 5. Bottom Line (Right to Left)\r\n        if (d <= botW) {\r\n            return { x: xOff + w - r - d, y: yOff + h };\r\n        }\r\n        d -= botW;\r\n\r\n        // 6. Bottom-Left Corner\r\n        if (d <= cornerLen) {\r\n            const ang = Math.PI / 2 + (d / cornerLen) * (Math.PI / 2);\r\n            return {\r\n                x: xOff + r + Math.cos(ang) * r,\r\n                y: yOff + h - r + Math.sin(ang) * r\r\n            };\r\n        }\r\n        d -= cornerLen;\r\n\r\n        // 7. Left Line (Bottom to Top)\r\n        if (d <= leftH) {\r\n            return { x: xOff, y: yOff + h - r - d };\r\n        }\r\n        d -= leftH;\r\n\r\n        // 8. Top-Left Corner\r\n        const ang = Math.PI + (d / cornerLen) * (Math.PI / 2);\r\n        return {\r\n            x: xOff + r + Math.cos(ang) * r,\r\n            y: yOff + r + Math.sin(ang) * r\r\n        };\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const container = containerRef.current;\r\n        if (!canvas || !container) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n\r\n        const octaves = 6;\r\n        const lacunarity = 2;\r\n        const gain = 0.5;\r\n        const noiseScale = 0.5;\r\n        const borderOffset = 14;\r\n        const displacement = 6; // Keep tight displacement\r\n\r\n        let animationId = 0;\r\n\r\n        const updateSize = () => {\r\n            const rect = container.getBoundingClientRect();\r\n            const w = rect.width + borderOffset * 2;\r\n            const h = rect.height + borderOffset * 2;\r\n\r\n            const dpr = window.devicePixelRatio || 1;\r\n            canvas.width = w * dpr;\r\n            canvas.height = h * dpr;\r\n            canvas.style.width = `${w}px`;\r\n            canvas.style.height = `${h}px`;\r\n            ctx.scale(dpr, dpr);\r\n\r\n            return { w, h };\r\n        };\r\n\r\n        let { w, h } = updateSize();\r\n\r\n        const draw = (timeVal: number) => {\r\n            const time = timeVal * 0.001 * speed;\r\n\r\n            ctx.clearRect(0, 0, w, h);\r\n            ctx.lineCap = 'round';\r\n            ctx.lineJoin = 'round';\r\n\r\n            const mainPath = new Path2D();\r\n\r\n            const pathW = w - borderOffset * 2;\r\n            const pathH = h - borderOffset * 2;\r\n\r\n            const perimeter = 2 * (pathW + pathH) + 2 * Math.PI * borderRadius;\r\n            const steps = Math.floor(perimeter / 2);\r\n\r\n            for (let i = 0; i <= steps; i++) {\r\n                const progress = i / steps;\r\n\r\n                const base = getPointOnPath(progress, pathW, pathH, borderRadius, borderOffset, borderOffset);\r\n\r\n                // Cyclic noise\r\n                const angle = progress * Math.PI * 2;\r\n                const nx = Math.cos(angle) * noiseScale;\r\n                const ny = Math.sin(angle) * noiseScale;\r\n\r\n                const n1 = octavedNoise(nx, ny, octaves, lacunarity, gain, chaos, 1.5, time);\r\n                const n2 = octavedNoise(nx + 100, ny + 100, octaves, lacunarity, gain, chaos, 1.5, time);\r\n\r\n                // REVERTED to original offset behavior (not centered)\r\n                // This gives the \"electric\" look flowing OUT of the border\r\n                const dx = n1 * displacement;\r\n                const dy = n2 * displacement;\r\n\r\n                const finalX = base.x + dx;\r\n                const finalY = base.y + dy;\r\n\r\n                if (i === 0) {\r\n                    mainPath.moveTo(finalX, finalY);\r\n                } else {\r\n                    mainPath.lineTo(finalX, finalY);\r\n                }\r\n            }\r\n\r\n            mainPath.closePath();\r\n\r\n            ctx.globalCompositeOperation = 'lighter';\r\n            ctx.strokeStyle = color;\r\n            ctx.shadowBlur = 15;\r\n            ctx.shadowColor = color;\r\n            ctx.lineWidth = 1.5;\r\n            ctx.stroke(mainPath);\r\n\r\n            ctx.shadowBlur = 0;\r\n            ctx.lineWidth = 1;\r\n            ctx.strokeStyle = '#FFFFFF';\r\n            ctx.globalAlpha = 0.5;\r\n            ctx.stroke(mainPath);\r\n            ctx.globalAlpha = 1;\r\n            ctx.globalCompositeOperation = 'source-over';\r\n\r\n            animationId = requestAnimationFrame(draw);\r\n        };\r\n\r\n        const resizeObserver = new ResizeObserver(() => {\r\n            const s = updateSize();\r\n            w = s.w;\r\n            h = s.h;\r\n        });\r\n        resizeObserver.observe(container);\r\n\r\n        animationId = requestAnimationFrame(draw);\r\n\r\n        return () => {\r\n            cancelAnimationFrame(animationId);\r\n            resizeObserver.disconnect();\r\n        };\r\n    }, [color, speed, chaos, borderRadius, octavedNoise, getPointOnPath]);\r\n\r\n    return (\r\n        <div\r\n            ref={containerRef}\r\n            className={className}\r\n            style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '100%',\r\n                pointerEvents: 'none',\r\n                ...style\r\n            }}\r\n        >\r\n            <canvas\r\n                ref={canvasRef}\r\n                style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    pointerEvents: 'none'\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ElectricBorder;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Features\\Features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\FloatingUsage\\FloatingUsage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Footer\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\GlassButton\\GlassButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\GlassSurface\\GlassSurface.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\GlassSurface\\GlassSurface.tsx:52:9\n  50 |\n  51 |         const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n> 52 |         setIsDark(mediaQuery.matches);\n     |         ^^^^^^^^^ Avoid calling setState() directly within an effect\n  53 |\n  54 |         const handler = (e: MediaQueryListEvent) => setIsDark(e.matches);\n  55 |         mediaQuery.addEventListener('change', handler);","line":52,"column":9,"nodeType":null,"endLine":52,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'brightness' is assigned a value but never used.","line":68,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":68,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'opacity' is assigned a value but never used.","line":69,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":69,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'blur' is assigned a value but never used.","line":70,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":70,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'distortionScale' is assigned a value but never used.","line":74,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":74,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'xChannel' is assigned a value but never used.","line":78,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":78,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'yChannel' is assigned a value but never used.","line":79,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":79,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mixBlendMode' is assigned a value but never used.","line":80,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":80,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'redGradId' is assigned a value but never used.","line":86,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'blueGradId' is assigned a value but never used.","line":87,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":21},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\GlassSurface\\GlassSurface.tsx:165:9\n  163 |\n  164 |     useEffect(() => {\n> 165 |         setSvgSupported(supportsSVGFilters());\n      |         ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  166 |         setBackdropSupported(supportsBackdropFilter());\n  167 |     }, []);\n  168 |","line":165,"column":9,"nodeType":null,"endLine":165,"endColumn":24},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'supportsSVGFilters'. Either include it or remove the dependency array.","line":167,"column":8,"nodeType":"ArrayExpression","endLine":167,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [supportsSVGFilters]","fix":{"range":[5404,5406],"text":"[supportsSVGFilters]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'generateDisplacementMap'. Either include it or remove the dependency array.","line":179,"column":8,"nodeType":"ArrayExpression","endLine":179,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [generateDisplacementMap, svgSupported]","fix":{"range":[5787,5801],"text":"[generateDisplacementMap, svgSupported]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'updateDisplacementMap'. Either include it or remove the dependency array.","line":185,"column":8,"nodeType":"ArrayExpression","endLine":185,"endColumn":68,"suggestions":[{"desc":"Update the dependencies array to be: [displace, redOffset, greenOffset, blueOffset, svgSupported, updateDisplacementMap]","fix":{"range":[5915,5975],"text":"[displace, redOffset, greenOffset, blueOffset, svgSupported, updateDisplacementMap]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport React, { useEffect, useRef, useState, useId } from 'react';\r\n\r\nexport interface GlassSurfaceProps {\r\n    children?: React.ReactNode;\r\n    width?: number | string;\r\n    height?: number | string;\r\n    borderRadius?: number;\r\n    borderWidth?: number;\r\n    brightness?: number;\r\n    opacity?: number;\r\n    blur?: number;\r\n    displace?: number;\r\n    backgroundOpacity?: number;\r\n    saturation?: number;\r\n    distortionScale?: number;\r\n    redOffset?: number;\r\n    greenOffset?: number;\r\n    blueOffset?: number;\r\n    xChannel?: 'R' | 'G' | 'B';\r\n    yChannel?: 'R' | 'G' | 'B';\r\n    mixBlendMode?:\r\n    | 'normal'\r\n    | 'multiply'\r\n    | 'screen'\r\n    | 'overlay'\r\n    | 'darken'\r\n    | 'lighten'\r\n    | 'color-dodge'\r\n    | 'color-burn'\r\n    | 'hard-light'\r\n    | 'soft-light'\r\n    | 'difference'\r\n    | 'exclusion'\r\n    | 'hue'\r\n    | 'saturation'\r\n    | 'color'\r\n    | 'luminosity'\r\n    | 'plus-darker'\r\n    | 'plus-lighter';\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n}\r\n\r\nconst useDarkMode = () => {\r\n    const [isDark, setIsDark] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n        setIsDark(mediaQuery.matches);\r\n\r\n        const handler = (e: MediaQueryListEvent) => setIsDark(e.matches);\r\n        mediaQuery.addEventListener('change', handler);\r\n        return () => mediaQuery.removeEventListener('change', handler);\r\n    }, []);\r\n\r\n    return isDark;\r\n};\r\n\r\nconst GlassSurface: React.FC<GlassSurfaceProps> = ({\r\n    children,\r\n    width = '100%',\r\n    height = '100%',\r\n    borderRadius = 20,\r\n    borderWidth = 0.07,\r\n    brightness = 50,\r\n    opacity = 0.93,\r\n    blur = 11,\r\n    displace = 0,\r\n    backgroundOpacity = 0,\r\n    saturation = 1,\r\n    distortionScale = -180,\r\n    redOffset = 0,\r\n    greenOffset = 10,\r\n    blueOffset = 20,\r\n    xChannel = 'R',\r\n    yChannel = 'G',\r\n    mixBlendMode = 'difference',\r\n    className = '',\r\n    style = {}\r\n}) => {\r\n    const uniqueId = useId().replace(/:/g, '-');\r\n    const filterId = `glass-filter-${uniqueId}`;\r\n    const redGradId = `red-grad-${uniqueId}`;\r\n    const blueGradId = `blue-grad-${uniqueId}`;\r\n\r\n    const [svgSupported, setSvgSupported] = useState<boolean>(false);\r\n    const [backdropSupported, setBackdropSupported] = useState<boolean>(false);\r\n\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const feImageRef = useRef<SVGFEImageElement>(null);\r\n    const redChannelRef = useRef<SVGFEDisplacementMapElement>(null);\r\n    const greenChannelRef = useRef<SVGFEDisplacementMapElement>(null);\r\n    const blueChannelRef = useRef<SVGFEDisplacementMapElement>(null);\r\n    const gaussianBlurRef = useRef<SVGFEGaussianBlurElement>(null);\r\n\r\n    const isDarkMode = useDarkMode();\r\n\r\n    const updateDisplacementMap = () => {\r\n        if (\r\n            !redChannelRef.current ||\r\n            !greenChannelRef.current ||\r\n            !blueChannelRef.current ||\r\n            !gaussianBlurRef.current\r\n        )\r\n            return;\r\n\r\n        redChannelRef.current.scale.baseVal = displace * redOffset;\r\n        greenChannelRef.current.scale.baseVal = displace * greenOffset;\r\n        blueChannelRef.current.scale.baseVal = displace * blueOffset;\r\n\r\n        gaussianBlurRef.current.setStdDeviation(0.7, 0.7);\r\n    };\r\n\r\n    const generateDisplacementMap = () => {\r\n        const rect = containerRef.current?.getBoundingClientRect();\r\n        const actualWidth = rect?.width || 400;\r\n        const actualHeight = rect?.height || 200;\r\n        const edgeSize = Math.min(actualWidth, actualHeight) * (borderWidth * 0.5);\r\n\r\n        // This is the original logic before the 48px fix\r\n        const svgString = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${actualWidth}\" height=\"${actualHeight}\">\r\n        <filter id=\"noise\">\r\n          <feTurbulence type=\"turbulence\" baseFrequency=\"0.005\" numOctaves=\"2\" seed=\"${Math.random()}\" stitchTiles=\"stitch\"/>\r\n          <feColorMatrix type=\"saturate\" values=\"0\"/>\r\n        </filter>\r\n        <rect width=\"100%\" height=\"100%\" filter=\"url(#noise)\" opacity=\"1\"/>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"transparent\" stroke=\"white\" stroke-width=\"${edgeSize}\" rx=\"${borderRadius}\" ry=\"${borderRadius}\"/>\r\n      </svg>\r\n    `;\r\n\r\n        const encoded = encodeURIComponent(svgString);\r\n        feImageRef.current!.setAttribute('href', `data:image/svg+xml;charset=utf-8,${encoded}`);\r\n\r\n        updateDisplacementMap();\r\n    };\r\n\r\n    const supportsBackdropFilter = () => {\r\n        if (typeof window === 'undefined') return false;\r\n        return CSS.supports('backdrop-filter', 'blur(10px)');\r\n    };\r\n\r\n    const supportsSVGFilters = () => {\r\n        if (typeof window === 'undefined' || typeof document === 'undefined') {\r\n            return false;\r\n        }\r\n\r\n        const isWebkit = /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\r\n        const isFirefox = /Firefox/.test(navigator.userAgent);\r\n\r\n        if (isWebkit || isFirefox) {\r\n            return false;\r\n        }\r\n\r\n        const div = document.createElement('div');\r\n        div.style.backdropFilter = `url(#${filterId})`;\r\n\r\n        return div.style.backdropFilter !== '';\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSvgSupported(supportsSVGFilters());\r\n        setBackdropSupported(supportsBackdropFilter());\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (svgSupported) {\r\n            generateDisplacementMap();\r\n\r\n            const handleResize = () => {\r\n                requestAnimationFrame(generateDisplacementMap);\r\n            };\r\n            window.addEventListener('resize', handleResize);\r\n            return () => window.removeEventListener('resize', handleResize);\r\n        }\r\n    }, [svgSupported]);\r\n\r\n    useEffect(() => {\r\n        if (svgSupported) {\r\n            updateDisplacementMap();\r\n        }\r\n    }, [displace, redOffset, greenOffset, blueOffset, svgSupported]);\r\n\r\n    const getContainerStyles = (): React.CSSProperties => {\r\n        const baseStyles: React.CSSProperties = {\r\n            ...style,\r\n            width: typeof width === 'number' ? `${width}px` : width,\r\n            height: typeof height === 'number' ? `${height}px` : height,\r\n            borderRadius: `${borderRadius}px`,\r\n            '--glass-frost': backgroundOpacity,\r\n            '--glass-saturation': saturation\r\n        } as React.CSSProperties;\r\n\r\n        const backdropFilterSupported = backdropSupported;\r\n\r\n        if (svgSupported) {\r\n            return {\r\n                ...baseStyles,\r\n                background: isDarkMode ? `hsl(0 0% 0% / ${backgroundOpacity})` : `hsl(0 0% 100% / ${backgroundOpacity})`,\r\n                backdropFilter: `url(#${filterId}) saturate(${saturation})`,\r\n                boxShadow: isDarkMode\r\n                    ? `0 0 2px 1px color-mix(in oklch, white, transparent 65%) inset,\r\n             0 0 10px 4px color-mix(in oklch, white, transparent 85%) inset,\r\n             0px 4px 16px rgba(17, 17, 26, 0.05),\r\n             0px 8px 24px rgba(17, 17, 26, 0.05),\r\n             0px 16px 56px rgba(17, 17, 26, 0.05),\r\n             0px 4px 16px rgba(17, 17, 26, 0.05) inset,\r\n             0px 8px 24px rgba(17, 17, 26, 0.05) inset,\r\n             0px 16px 56px rgba(17, 17, 26, 0.05) inset`\r\n                    : `0 0 2px 1px color-mix(in oklch, black, transparent 85%) inset,\r\n             0 0 10px 4px color-mix(in oklch, black, transparent 90%) inset,\r\n             0px 4px 16px rgba(17, 17, 26, 0.05),\r\n             0px 8px 24px rgba(17, 17, 26, 0.05),\r\n             0px 16px 56px rgba(17, 17, 26, 0.05),\r\n             0px 4px 16px rgba(17, 17, 26, 0.05) inset,\r\n             0px 8px 24px rgba(17, 17, 26, 0.05) inset,\r\n             0px 16px 56px rgba(17, 17, 26, 0.05) inset`\r\n            };\r\n        } else {\r\n            if (isDarkMode) {\r\n                if (!backdropFilterSupported) {\r\n                    return {\r\n                        ...baseStyles,\r\n                        background: 'rgba(0, 0, 0, 0.4)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.2)',\r\n                        boxShadow: `inset 0 1px 0 0 rgba(255, 255, 255, 0.2),\r\n                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`\r\n                    };\r\n                } else {\r\n                    return {\r\n                        ...baseStyles,\r\n                        background: 'rgba(255, 255, 255, 0.1)',\r\n                        backdropFilter: 'blur(12px) saturate(1.8) brightness(1.2)',\r\n                        WebkitBackdropFilter: 'blur(12px) saturate(1.8) brightness(1.2)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.2)',\r\n                        boxShadow: `inset 0 1px 0 0 rgba(255, 255, 255, 0.2),\r\n                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`\r\n                    };\r\n                }\r\n            } else {\r\n                if (!backdropFilterSupported) {\r\n                    return {\r\n                        ...baseStyles,\r\n                        background: 'rgba(255, 255, 255, 0.4)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.3)',\r\n                        boxShadow: `inset 0 1px 0 0 rgba(255, 255, 255, 0.5),\r\n                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)`\r\n                    };\r\n                } else {\r\n                    return {\r\n                        ...baseStyles,\r\n                        background: 'rgba(255, 255, 255, 0.25)',\r\n                        backdropFilter: 'blur(12px) saturate(1.8) brightness(1.1)',\r\n                        WebkitBackdropFilter: 'blur(12px) saturate(1.8) brightness(1.1)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.3)',\r\n                        boxShadow: `0 8px 32px 0 rgba(31, 38, 135, 0.2),\r\n                        0 2px 16px 0 rgba(31, 38, 135, 0.1),\r\n                        inset 0 1px 0 0 rgba(255, 255, 255, 0.4),\r\n                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.2)`\r\n                    };\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const glassSurfaceClasses =\r\n        'relative flex items-center justify-center overflow-hidden transition-opacity duration-[260ms] ease-out';\r\n\r\n    const focusVisibleClasses = isDarkMode\r\n        ? 'focus-visible:outline-2 focus-visible:outline-[#0A84FF] focus-visible:outline-offset-2'\r\n        : 'focus-visible:outline-2 focus-visible:outline-[#007AFF] focus-visible:outline-offset-2';\r\n\r\n    return (\r\n        <div\r\n            ref={containerRef}\r\n            className={`${glassSurfaceClasses} ${focusVisibleClasses} ${className}`}\r\n            style={getContainerStyles()}\r\n        >\r\n            <svg\r\n                className=\"w-full h-full pointer-events-none absolute inset-0 opacity-0 -z-10\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n                <defs>\r\n                    <filter id={filterId} colorInterpolationFilters=\"sRGB\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\">\r\n                        <feImage ref={feImageRef} x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" preserveAspectRatio=\"none\" result=\"map\" />\r\n\r\n                        <feDisplacementMap ref={redChannelRef} in=\"SourceGraphic\" in2=\"map\" id=\"redchannel\" result=\"dispRed\" />\r\n                        <feColorMatrix\r\n                            in=\"dispRed\"\r\n                            type=\"matrix\"\r\n                            values=\"1 0 0 0 0\r\n                      0 0 0 0 0\r\n                      0 0 0 0 0\r\n                      0 0 0 1 0\"\r\n                            result=\"red\"\r\n                        />\r\n\r\n                        <feDisplacementMap\r\n                            ref={greenChannelRef}\r\n                            in=\"SourceGraphic\"\r\n                            in2=\"map\"\r\n                            id=\"greenchannel\"\r\n                            result=\"dispGreen\"\r\n                        />\r\n                        <feColorMatrix\r\n                            in=\"dispGreen\"\r\n                            type=\"matrix\"\r\n                            values=\"0 0 0 0 0\r\n                      0 1 0 0 0\r\n                      0 0 0 0 0\r\n                      0 0 0 1 0\"\r\n                            result=\"green\"\r\n                        />\r\n\r\n                        <feDisplacementMap ref={blueChannelRef} in=\"SourceGraphic\" in2=\"map\" id=\"bluechannel\" result=\"dispBlue\" />\r\n                        <feColorMatrix\r\n                            in=\"dispBlue\"\r\n                            type=\"matrix\"\r\n                            values=\"0 0 0 0 0\r\n                      0 0 0 0 0\r\n                      0 0 1 0 0\r\n                      0 0 0 1 0\"\r\n                            result=\"blue\"\r\n                        />\r\n\r\n                        <feBlend in=\"red\" in2=\"green\" mode=\"screen\" result=\"rg\" />\r\n                        <feBlend in=\"rg\" in2=\"blue\" mode=\"screen\" result=\"output\" />\r\n                        <feGaussianBlur ref={gaussianBlurRef} in=\"output\" stdDeviation=\"0.7\" />\r\n                    </filter>\r\n                </defs>\r\n            </svg>\r\n\r\n            <div className=\"w-full h-full flex items-center justify-center rounded-[inherit] relative z-10\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GlassSurface;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Header\\Header.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Header\\Header.tsx:35:9\n  33 |\n  34 |     useEffect(() => {\n> 35 |         setIsMenuOpen(false);\n     |         ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  36 |     }, [pathname]);\n  37 |\n  38 |     useEffect(() => {","line":35,"column":9,"nodeType":null,"endLine":35,"endColumn":22},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":181,"column":25,"nodeType":"JSXOpeningElement","endLine":181,"endColumn":124},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":190,"column":45,"nodeType":"JSXOpeningElement","endLine":190,"endColumn":101}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { motion, AnimatePresence, useScroll, useMotionValueEvent } from 'framer-motion';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { supabase } from '../../../lib/supabase';\r\nimport styles from './Header.module.css';\r\nimport { Button } from '../Button/Button';\r\nimport { User, AuthChangeEvent, Session } from '@supabase/supabase-js';\r\n\r\nexport const Header = () => {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [isVisible, setIsVisible] = useState(true);\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [hoveredPath, setHoveredPath] = useState<string | null>(null);\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const { scrollY } = useScroll();\r\n\r\n    useMotionValueEvent(scrollY, \"change\", (latest) => {\r\n        if (isMenuOpen) return;\r\n\r\n        const previous = scrollY.getPrevious() ?? 0;\r\n\r\n        if (latest < previous || latest < 10) {\r\n            setIsVisible(true);\r\n        } else if (latest > previous && latest > 100) {\r\n            setIsVisible(false);\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        setIsMenuOpen(false);\r\n    }, [pathname]);\r\n\r\n    useEffect(() => {\r\n        if (isMenuOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n    }, [isMenuOpen]);\r\n\r\n    useEffect(() => {\r\n        const checkUser = async () => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            const currentUser = session?.user ?? null;\r\n            setUser(currentUser);\r\n\r\n            if (currentUser) {\r\n                // Check subscription status\r\n                const { data: profile } = await supabase\r\n                    .from('users')\r\n                    .select('plano_ativo')\r\n                    .eq('id', currentUser.id)\r\n                    .single();\r\n\r\n                if (profile && profile.plano_ativo && profile.plano_ativo !== 'FREE') {\r\n                    setIsPremium(true);\r\n                } else {\r\n                    setIsPremium(false);\r\n                }\r\n            } else {\r\n                setIsPremium(false);\r\n            }\r\n        };\r\n\r\n        checkUser();\r\n\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event: AuthChangeEvent, session: Session | null) => {\r\n            setUser(session?.user ?? null);\r\n            if (!session?.user) {\r\n                setIsPremium(false);\r\n            } else {\r\n                // Re-check premium status on auth change\r\n                supabase\r\n                    .from('users')\r\n                    .select('plano_ativo')\r\n                    .eq('id', session.user.id)\r\n                    .single()\r\n                    .then(({ data: profile }) => {\r\n                        if (profile && profile.plano_ativo && profile.plano_ativo !== 'FREE') {\r\n                            setIsPremium(true);\r\n                        } else {\r\n                            setIsPremium(false);\r\n                        }\r\n                    });\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            subscription.unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    const handleLogout = async () => {\r\n        await supabase.auth.signOut();\r\n        setIsMenuOpen(false);\r\n        setIsPremium(false);\r\n        router.push('/');\r\n    };\r\n\r\n    if (pathname === '/login' || pathname === '/signup' || pathname === '/auth/verify-email' || pathname?.startsWith('/checkout') || pathname === '/builder' || pathname === '/landing-builder' || pathname === '/feature-builder' || pathname === '/showcase') {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <header className={`${styles.header} ${!isVisible ? styles.hidden : ''} ${isMenuOpen ? styles.menuOpen : ''}`}>\r\n                <div className={styles.container}>\r\n                    <div className={styles.left}>\r\n                        <button\r\n                            className={styles.hamburger}\r\n                            onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                            aria-label=\"Toggle menu\"\r\n                        >\r\n                            <div className={`${styles.bar} ${isMenuOpen ? styles.bar1Open : ''}`} />\r\n                            <div className={`${styles.bar} ${isMenuOpen ? styles.bar2Open : ''}`} />\r\n                            <div className={`${styles.bar} ${isMenuOpen ? styles.bar3Open : ''}`} />\r\n                        </button>\r\n\r\n                        <nav className={styles.nav}>\r\n                            {(() => {\r\n                                const items = [\r\n                                    // Show Dashboard and Projects only if user is logged in\r\n                                    ...(user ? [\r\n                                        { name: 'Criar', path: '/dashboard' },\r\n                                        { name: 'Projetos', path: '/projects' }\r\n                                    ] : []),\r\n                                    // Hide Showcase for premium users\r\n                                    ...(!isPremium ? [{ name: 'Exemplos', path: '/showcase' }] : []),\r\n                                    { name: 'Planos', path: '/pricing' }\r\n                                ];\r\n\r\n                                return items.map((item) => {\r\n                                    const isActive = item.path === '/dashboard'\r\n                                        ? pathname === '/dashboard'\r\n                                        : pathname?.startsWith(item.path);\r\n\r\n                                    return (\r\n                                        <Link\r\n                                            key={item.path}\r\n                                            href={item.path}\r\n                                            className={`${styles.link} ${isActive ? styles.active : ''}`}\r\n                                            style={{ position: 'relative' }}\r\n                                            onMouseEnter={() => setHoveredPath(item.path)}\r\n                                            onMouseLeave={() => setHoveredPath(null)}\r\n                                        >\r\n                                            {isActive && (\r\n                                                <motion.span\r\n                                                    layoutId=\"navbar-active\"\r\n                                                    className={styles.activePill}\r\n                                                    initial={{ opacity: 0, scale: 0.85 }}\r\n                                                    animate={{ opacity: 1, scale: 1 }}\r\n                                                    transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\r\n                                                />\r\n                                            )}\r\n                                            {hoveredPath === item.path && !isActive && (\r\n                                                <motion.span\r\n                                                    layoutId=\"navbar-hover\"\r\n                                                    className={styles.hoverPill}\r\n                                                    initial={{ opacity: 0 }}\r\n                                                    animate={{ opacity: 1 }}\r\n                                                    exit={{ opacity: 0 }}\r\n                                                    transition={{ type: \"spring\", bounce: 0.1, duration: 0.4 }}\r\n                                                />\r\n                                            )}\r\n                                            <span style={{ position: 'relative', zIndex: 10 }}>\r\n                                                {item.name}\r\n                                            </span>\r\n                                        </Link>\r\n                                    );\r\n                                });\r\n                            })()}\r\n                        </nav>\r\n                    </div>\r\n\r\n                    <Link href=\"/\" className={styles.logo} onClick={() => setIsMenuOpen(false)}>\r\n                        <img src=\"/logo.png\" alt=\"Promptly Logo\" width={32} height={32} style={{ objectFit: 'contain' }} />\r\n                    </Link>\r\n\r\n                    <div className={styles.actions}>\r\n                        {user ? (\r\n                            <>\r\n                                <Link href=\"/dashboard/settings\" className={styles.userProfile}>\r\n                                    <div className={styles.avatar}>\r\n                                        {user.user_metadata?.avatar_url ? (\r\n                                            <img src={user.user_metadata.avatar_url} alt=\"Avatar\" />\r\n                                        ) : (\r\n                                            (user.user_metadata?.full_name?.charAt(0) || user.email?.charAt(0) || 'U').toUpperCase()\r\n                                        )}\r\n                                    </div>\r\n\r\n                                </Link>\r\n\r\n                                {/* Dashboard moved to main nav */}\r\n                                <Button variant=\"outline\" onClick={handleLogout} className={styles.desktopOnly}>Sair</Button>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Link href=\"/login\" className={styles.desktopOnly}>\r\n                                    <Button variant=\"ghost\">Entrar</Button>\r\n                                </Link>\r\n                                <Link href=\"/signup\">\r\n                                    <Button variant=\"primary\">Come├ºar</Button>\r\n                                </Link>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Mobile Menu Overlay - Right Sheet */}\r\n            <AnimatePresence>\r\n                {\r\n                    isMenuOpen && (\r\n                        <>\r\n                            <motion.div\r\n                                className={styles.backdrop}\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                exit={{ opacity: 0 }}\r\n                                onClick={() => setIsMenuOpen(false)}\r\n                            />\r\n                            <motion.div\r\n                                className={styles.mobileMenu}\r\n                                initial={{ x: '100%' }}\r\n                                animate={{ x: 0 }}\r\n                                exit={{ x: '100%' }}\r\n                                transition={{ type: \"spring\", bounce: 0, duration: 0.4 }}\r\n                            >\r\n                                <div className={styles.mobileNavHeader}>\r\n                                    <span className={styles.mobileMenuTitle}>Menu</span>\r\n                                    <button onClick={() => setIsMenuOpen(false)} className={styles.closeButton}>\r\n                                        Ô£ò\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className={styles.mobileNav}>\r\n                                    {user ? (\r\n                                        <>\r\n                                            <div className={styles.mobileSection}>\r\n                                                <span className={styles.sectionTitle}>Navega├º├úo</span>\r\n                                                <Link href=\"/dashboard\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Criar</Link>\r\n                                                <Link href=\"/projects\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Meus Projetos</Link>\r\n                                                {!isPremium && (\r\n                                                    <Link href=\"/showcase\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Exemplos</Link>\r\n                                                )}\r\n                                                <Link href=\"/pricing\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Planos</Link>\r\n                                            </div>\r\n\r\n                                            <div className={styles.mobileSection}>\r\n                                                <span className={styles.sectionTitle}>Conta</span>\r\n                                                <Link href=\"/dashboard/settings\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>\r\n                                                    Minha Conta\r\n                                                </Link>\r\n                                                <button onClick={handleLogout} className={styles.mobileLogout}>\r\n                                                    Sair da Conta\r\n                                                </button>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Link href=\"/login\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Entrar</Link>\r\n                                            <Link href=\"/signup\" className={styles.mobileButton} onClick={() => setIsMenuOpen(false)}>\r\n                                                Come├ºar Agora\r\n                                            </Link>\r\n                                            <Link href=\"/showcase\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Exemplos</Link>\r\n                                            <Link href=\"/pricing\" className={styles.mobileLink} onClick={() => setIsMenuOpen(false)}>Planos</Link>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </motion.div>\r\n                        </>\r\n                    )\r\n                }\r\n            </AnimatePresence >\r\n        </>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Hero\\Hero.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":4,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isInView' is assigned a value but never used.","line":16,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport styles from './Hero.module.css';\r\nimport { FadeIn } from '@/components/FadeIn';\r\nimport { useInView } from 'framer-motion';\r\nimport { useRef } from 'react';\r\nimport { ContainerScroll } from '@/components/ui/container-scroll-animation';\r\nimport Image from 'next/image';\r\n\r\n\r\n\r\nexport const Hero = () => {\r\n    const ref = useRef(null);\r\n    const isInView = useInView(ref, { margin: \"200px 0px 0px 0px\" });\r\n\r\n    return (\r\n        <section className={styles.section} ref={ref}>\r\n            <ContainerScroll\r\n                titleComponent={\r\n                    <div className={styles.contentContainer}>\r\n                        <FadeIn delay={0.2}>\r\n                            <h1 className={styles.title}>\r\n                                DA IDEIA AO SITE. <br />\r\n                                <span className={styles.highlight}>EM UM ├ÜNICO PROMPT.</span>\r\n                            </h1>\r\n                        </FadeIn>\r\n                    </div>\r\n                }\r\n            >\r\n                <Image\r\n                    src={`/hero-new.png`}\r\n                    alt=\"Barbearia Preview\"\r\n                    height={720}\r\n                    width={1400}\r\n                    className=\"mx-auto rounded-2xl object-cover h-full object-center\"\r\n                    draggable={false}\r\n                    priority\r\n                />\r\n            </ContainerScroll>\r\n        </section >\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\HomeRedirectGuard\\HomeRedirectGuard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\HowItWorks\\HowItWorks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\LogoTicker\\LogoTicker.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":21,"column":25,"nodeType":"JSXOpeningElement","endLine":21,"endColumn":236},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":22,"column":25,"nodeType":"JSXOpeningElement","endLine":22,"endColumn":234},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":23,"column":25,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":230},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":24,"column":25,"nodeType":"JSXOpeningElement","endLine":24,"endColumn":234},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":25,"column":25,"nodeType":"JSXOpeningElement","endLine":25,"endColumn":247}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { InfiniteSlider } from '@/components/ui/infinite-slider';\r\n\r\nexport const LogoTicker = () => {\r\n    return (\r\n        <section className=\"w-full pt-4 pb-12 md:py-20 relative z-10 overflow-hidden\">\r\n            <div className=\"container mx-auto px-4 md:px-6\">\r\n                <div className=\"relative\">\r\n                    {/* Gradient Masks */}\r\n                    <div className=\"absolute left-0 top-0 bottom-0 w-20 md:w-32 bg-gradient-to-r from-black to-transparent z-20 pointer-events-none\" />\r\n                    <div className=\"absolute right-0 top-0 bottom-0 w-20 md:w-32 bg-gradient-to-l from-black to-transparent z-20 pointer-events-none\" />\r\n\r\n                    <div className=\"flex justify-center mb-10 relative z-10 px-4 text-center\">\r\n                        <p className=\"text-lg md:text-xl font-bold tracking-[0.2em] text-white uppercase drop-shadow-sm\">\r\n                            Otimizado para as plataformas que definem o futuro\r\n                        </p>\r\n                    </div>\r\n\r\n                    <InfiniteSlider gap={60} duration={30} durationOnHover={50} direction=\"horizontal\">\r\n                        <img src=\"/logos/lovable.png\" alt=\"Lovable\" className=\"h-14 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\r\n                        <img src=\"/logos/vercel.png\" alt=\"Vercel\" className=\"h-14 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\r\n                        <img src=\"/logos/bolt.png\" alt=\"Bolt\" className=\"h-14 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\r\n                        <img src=\"/logos/replit.png\" alt=\"Replit\" className=\"h-14 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\r\n                        <img src=\"/logos/google_ai.png\" alt=\"Google AI Studio\" className=\"h-14 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\r\n                    </InfiniteSlider>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\PageTransition\\PageTransition.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\PlasmaBackground\\PlasmaBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Plasma\\Plasma.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":188,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6193,6196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6193,6196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":189,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6255,6258],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6255,6258],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":191,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":191,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6348,6351],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6348,6351],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Renderer, Program, Mesh, Triangle } from 'ogl';\r\n\r\ninterface PlasmaProps {\r\n    color?: string;\r\n    speed?: number;\r\n    direction?: 'forward' | 'reverse' | 'pingpong';\r\n    scale?: number;\r\n    opacity?: number;\r\n    mouseInteractive?: boolean;\r\n}\r\n\r\nconst hexToRgb = (hex: string): [number, number, number] => {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    if (!result) return [1, 0.5, 0.2];\r\n    return [parseInt(result[1], 16) / 255, parseInt(result[2], 16) / 255, parseInt(result[3], 16) / 255];\r\n};\r\n\r\nconst vertex = `#version 300 es\r\nprecision mediump float;\r\nin vec2 position;\r\nin vec2 uv;\r\nout vec2 vUv;\r\nvoid main() {\r\n  vUv = uv;\r\n  gl_Position = vec4(position, 0.0, 1.0);\r\n}\r\n`;\r\n\r\n// OPTIMIZED shader - reduced iterations from 60 to 25\r\nconst fragment = `#version 300 es\r\nprecision mediump float;\r\nuniform vec2 iResolution;\r\nuniform float iTime;\r\nuniform vec3 uCustomColor;\r\nuniform float uUseCustomColor;\r\nuniform float uSpeed;\r\nuniform float uDirection;\r\nuniform float uScale;\r\nuniform float uOpacity;\r\nout vec4 fragColor;\r\n\r\nvoid mainImage(out vec4 o, vec2 C) {\r\n  vec2 center = iResolution.xy * 0.5;\r\n  C = (C - center) / uScale + center;\r\n  \r\n  float i, d, z, T = iTime * uSpeed * uDirection;\r\n  vec3 O, p, S;\r\n\r\n  // REDUCED from 60 to 25 iterations for performance\r\n  for (vec2 r = iResolution.xy, Q; ++i < 25.; O += o.w/d*o.xyz) {\r\n    p = z*normalize(vec3(C-.5*r,r.y)); \r\n    p.z -= 4.; \r\n    S = p;\r\n    d = p.y-T;\r\n    \r\n    p.x += .4*(1.+p.y)*sin(d + p.x*0.1)*cos(.34*d + p.x*0.05); \r\n    Q = p.xz *= mat2(cos(p.y+vec4(0,11,33,0)-T)); \r\n    z+= d = abs(sqrt(length(Q*Q)) - .25*(5.+S.y))/3.+8e-4; \r\n    o = 1.+sin(S.y+p.z*.5+S.z-length(S-p)+vec4(2,1,0,8));\r\n  }\r\n  \r\n  o.xyz = tanh(O/1e4);\r\n}\r\n\r\nbool finite1(float x){ return !(isnan(x) || isinf(x)); }\r\nvec3 sanitize(vec3 c){\r\n  return vec3(\r\n    finite1(c.r) ? c.r : 0.0,\r\n    finite1(c.g) ? c.g : 0.0,\r\n    finite1(c.b) ? c.b : 0.0\r\n  );\r\n}\r\n\r\nvoid main() {\r\n  vec4 o = vec4(0.0);\r\n  mainImage(o, gl_FragCoord.xy);\r\n  vec3 rgb = sanitize(o.rgb);\r\n  \r\n  float intensity = (rgb.r + rgb.g + rgb.b) / 3.0;\r\n  vec3 customColor = intensity * uCustomColor;\r\n  vec3 finalColor = mix(rgb, customColor, step(0.5, uUseCustomColor));\r\n  \r\n  float alpha = length(rgb) * uOpacity;\r\n  fragColor = vec4(finalColor, alpha);\r\n}`;\r\n\r\nexport const Plasma: React.FC<PlasmaProps> = ({\r\n    color = '#ffffff',\r\n    speed = 1,\r\n    direction = 'forward',\r\n    scale = 1,\r\n    opacity = 1,\r\n    mouseInteractive = false // Disabled by default for performance\r\n}) => {\r\n    const containerRef = useRef<HTMLDivElement | null>(null);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    // Delay mounting to not block initial page load\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => setIsVisible(true), 100);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!isVisible || !containerRef.current) return;\r\n\r\n        const container = containerRef.current;\r\n        const useCustomColor = color ? 1.0 : 0.0;\r\n        const customColorRgb = color ? hexToRgb(color) : [1, 1, 1];\r\n        const directionMultiplier = direction === 'reverse' ? -1.0 : 1.0;\r\n\r\n        // OPTIMIZED: Use lower resolution (DPR capped at 1.0)\r\n        const renderer = new Renderer({\r\n            webgl: 2,\r\n            alpha: true,\r\n            antialias: false,\r\n            dpr: 1.0, // Fixed at 1.0 for performance\r\n            powerPreference: 'low-power' // Request low power GPU\r\n        });\r\n\r\n        const gl = renderer.gl;\r\n        const canvas = gl.canvas as HTMLCanvasElement;\r\n        canvas.style.display = 'block';\r\n        canvas.style.width = '100%';\r\n        canvas.style.height = '100%';\r\n        container.appendChild(canvas);\r\n\r\n        const geometry = new Triangle(gl);\r\n\r\n        const program = new Program(gl, {\r\n            vertex,\r\n            fragment,\r\n            uniforms: {\r\n                iTime: { value: 0 },\r\n                iResolution: { value: new Float32Array([1, 1]) },\r\n                uCustomColor: { value: new Float32Array(customColorRgb) },\r\n                uUseCustomColor: { value: useCustomColor },\r\n                uSpeed: { value: speed * 0.4 },\r\n                uDirection: { value: directionMultiplier },\r\n                uScale: { value: scale },\r\n                uOpacity: { value: opacity }\r\n            }\r\n        });\r\n\r\n        const mesh = new Mesh(gl, { geometry, program });\r\n\r\n        const setSize = () => {\r\n            if (!container) return;\r\n            const rect = container.getBoundingClientRect();\r\n            // OPTIMIZED: Render at half resolution\r\n            const width = Math.max(1, Math.floor(rect.width * 0.5));\r\n            const height = Math.max(1, Math.floor(rect.height * 0.5));\r\n            renderer.setSize(width, height);\r\n            const res = program.uniforms.iResolution.value as Float32Array;\r\n            res[0] = gl.drawingBufferWidth;\r\n            res[1] = gl.drawingBufferHeight;\r\n        };\r\n\r\n        const ro = new ResizeObserver(setSize);\r\n        ro.observe(container);\r\n        setSize();\r\n\r\n        let raf = 0;\r\n        let lastFrame = 0;\r\n        const targetFPS = 30; // OPTIMIZED: Cap at 30 FPS\r\n        const frameInterval = 1000 / targetFPS;\r\n        const t0 = performance.now();\r\n\r\n        const loop = (t: number) => {\r\n            raf = requestAnimationFrame(loop);\r\n\r\n            // Throttle to target FPS\r\n            if (t - lastFrame < frameInterval) return;\r\n            lastFrame = t;\r\n\r\n            const timeValue = (t - t0) * 0.001;\r\n\r\n            if (direction === 'pingpong') {\r\n                const pingpongDuration = 10;\r\n                const segmentTime = timeValue % pingpongDuration;\r\n                const isForward = Math.floor(timeValue / pingpongDuration) % 2 === 0;\r\n                const u = segmentTime / pingpongDuration;\r\n                const smooth = u * u * (3 - 2 * u);\r\n                const pingpongTime = isForward ? smooth * pingpongDuration : (1 - smooth) * pingpongDuration;\r\n                (program.uniforms.uDirection as any).value = 1.0;\r\n                (program.uniforms.iTime as any).value = pingpongTime;\r\n            } else {\r\n                (program.uniforms.iTime as any).value = timeValue;\r\n            }\r\n\r\n            renderer.render({ scene: mesh });\r\n        };\r\n\r\n        raf = requestAnimationFrame(loop);\r\n\r\n        return () => {\r\n            cancelAnimationFrame(raf);\r\n            ro.disconnect();\r\n            try {\r\n                container?.removeChild(canvas);\r\n            } catch { }\r\n        };\r\n    }, [isVisible, color, speed, direction, scale, opacity, mouseInteractive]);\r\n\r\n    if (!isVisible) return null;\r\n\r\n    return <div ref={containerRef} className=\"w-full h-full absolute inset-0\" />;\r\n};\r\n\r\nexport default Plasma;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\PreviewSection\\PreviewSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":8,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":25},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":36,"column":122,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1997,2018],"text":"&quot;Tech Lead S├¬nior...\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1997,2018],"text":"&ldquo;Tech Lead S├¬nior...\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1997,2018],"text":"&#34;Tech Lead S├¬nior...\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1997,2018],"text":"&rdquo;Tech Lead S├¬nior...\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":36,"column":142,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1997,2018],"text":"\"Tech Lead S├¬nior...&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1997,2018],"text":"\"Tech Lead S├¬nior...&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1997,2018],"text":"\"Tech Lead S├¬nior...&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1997,2018],"text":"\"Tech Lead S├¬nior...&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":42,"column":119,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2464,2489],"text":"&quot;React 19, Next.js 15...\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2464,2489],"text":"&ldquo;React 19, Next.js 15...\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2464,2489],"text":"&#34;React 19, Next.js 15...\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2464,2489],"text":"&rdquo;React 19, Next.js 15...\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":42,"column":143,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2464,2489],"text":"\"React 19, Next.js 15...&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2464,2489],"text":"\"React 19, Next.js 15...&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2464,2489],"text":"\"React 19, Next.js 15...&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2464,2489],"text":"\"React 19, Next.js 15...&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":48,"column":124,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2940,2962],"text":"&quot;Sistema real-time...\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2940,2962],"text":"&ldquo;Sistema real-time...\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2940,2962],"text":"&#34;Sistema real-time...\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2940,2962],"text":"&rdquo;Sistema real-time...\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":48,"column":145,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2940,2962],"text":"\"Sistema real-time...&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2940,2962],"text":"\"Sistema real-time...&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2940,2962],"text":"\"Sistema real-time...&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2940,2962],"text":"\"Sistema real-time...&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport styles from './PreviewSection.module.css';\r\nimport { FadeIn } from '@/components/FadeIn';\r\n\r\nimport Link from 'next/link';\r\nimport { ArrowRight, Zap } from 'lucide-react';\r\nimport { Button } from '@/app/components/Button/Button';\r\n\r\nexport const PreviewSection = () => {\r\n    return (\r\n        <section id=\"example\" className={styles.section}>\r\n            <div className={styles.container}>\r\n                <FadeIn direction=\"up\" delay={0.2} fullWidth>\r\n                    <div className={styles.contentWrapper}>\r\n                        {/* Left Column: Code Card */}\r\n                        <div className={styles.cardWrapper}>\r\n                            <div className={styles.card}>\r\n                                <div className={styles.header}>\r\n                                    <div className={styles.controls}>\r\n                                        <div className={`${styles.dot} ${styles.red}`} />\r\n                                        <div className={`${styles.dot} ${styles.yellow}`} />\r\n                                        <div className={`${styles.dot} ${styles.green}`} />\r\n                                    </div>\r\n                                    <div className={styles.headerContent} style={{ textAlign: 'right' }}>\r\n                                        <h3>prompt_engenharia.md</h3>\r\n                                        <p style={{ fontSize: '0.7rem', opacity: 0.7 }}>via Promptly Engine</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={styles.codeBlock}>\r\n                                    <div className={styles.line}>\r\n                                        <span className={styles.lineNumber}>1</span>\r\n                                        <div className={styles.content}>\r\n                                            <span className={styles.key}>Contexto:</span> <span className={styles.value}>\"Tech Lead S├¬nior...\"</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.line}>\r\n                                        <span className={styles.lineNumber}>2</span>\r\n                                        <div className={styles.content}>\r\n                                            <span className={styles.key}>Stack:</span> <span className={styles.value}>\"React 19, Next.js 15...\"</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.line}>\r\n                                        <span className={styles.lineNumber}>3</span>\r\n                                        <div className={styles.content}>\r\n                                            <span className={styles.key}>Requisitos:</span> <span className={styles.value}>\"Sistema real-time...\"</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.line}>\r\n                                        <span className={styles.lineNumber}>4</span>\r\n                                        <div className={styles.content}>\r\n                                            <span style={{ width: '8px', height: '16px', background: '#F5A524', display: 'inline-block' }} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Right Column: CTA */}\r\n                        <div className={styles.ctaWrapper}>\r\n                            <h2 className={styles.title}>\r\n                                Crie sem limites. <br />\r\n                                <span className={styles.highlight}>\r\n                                    Em segundos.\r\n                                </span>\r\n                            </h2>\r\n\r\n                            <p className={styles.description}>\r\n                                Transforme ideias simples em software complexo com apenas um comando.\r\n                            </p>\r\n\r\n                            <Link href=\"/showcase\">\r\n                                <Button>\r\n                                    Ver Exemplos\r\n                                    <ArrowRight className=\"w-5 h-5 ml-2\" />\r\n                                </Button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </FadeIn>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\ScrollReveal\\ScrollReveal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Showcase\\ExampleCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Showcase\\SearchFilterBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\components\\Sidebar\\Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'percent' is assigned a value but never used.","line":86,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":86,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFree' is assigned a value but never used.","line":87,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":17},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":110,"column":25,"nodeType":"JSXOpeningElement","endLine":110,"endColumn":144}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { supabase } from '../../../lib/supabase';\r\nimport styles from './Sidebar.module.css';\r\nimport { User } from '@supabase/supabase-js';\r\n\r\nconst navItems = [\r\n    { label: 'Gerador', href: '/dashboard', icon: 'Ô£¿' },\r\n    { label: 'Meus Prompts', href: '/dashboard/library', icon: '­ƒôÜ' },\r\n    { label: 'Showcase', href: '/showcase', icon: '­ƒÜÇ' },\r\n    { label: 'Modelos', href: '/dashboard/templates', icon: '­ƒÄ¿' },\r\n    { label: 'Configura├º├Áes', href: '/dashboard/settings', icon: 'ÔÜÖ´©Å' },\r\n];\r\n\r\ninterface UserProfile {\r\n    plan: string;\r\n    prompts_used: number;\r\n}\r\n\r\nexport const Sidebar = () => {\r\n    const pathname = usePathname();\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [profile, setProfile] = useState<UserProfile | null>(null);\r\n\r\n    const fetchProfile = async (userId: string) => {\r\n        const { data } = await supabase\r\n            .from('users')\r\n            .select('plano_ativo, prompts_used')\r\n            .eq('id', userId)\r\n            .single();\r\n\r\n        console.log(\"DEBUG Sidebar:\", { userId, data });\r\n\r\n        if (data) {\r\n            setProfile({\r\n                plan: data.plano_ativo?.toLowerCase() || 'free',\r\n                prompts_used: data.prompts_used || 0\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const getUser = async () => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (session?.user) {\r\n                setUser(session.user);\r\n                fetchProfile(session.user.id);\r\n            }\r\n        };\r\n        getUser();\r\n\r\n        const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setUser(session?.user ?? null);\r\n            if (session?.user) {\r\n                fetchProfile(session.user.id);\r\n            }\r\n        });\r\n\r\n        // Optional: Polling for usage updates\r\n        const interval = setInterval(() => {\r\n            if (user?.id) fetchProfile(user.id);\r\n        }, 5000);\r\n\r\n        return () => {\r\n            subscription.unsubscribe();\r\n            clearInterval(interval);\r\n        };\r\n    }, [user?.id]); // Re-subscribe if user changes? No, logic is fine.\r\n\r\n    const fullName = user?.user_metadata?.full_name || user?.email?.split('@')[0] || 'Usu├írio';\r\n    const avatarUrl = user?.user_metadata?.avatar_url;\r\n    const isDeveloper = user?.email === 'talesscavalacanti006@gmail.com';\r\n\r\n    // Limits logic\r\n    const PLAN_LIMITS: Record<string, number> = {\r\n        free: 5,\r\n        starter: 100,\r\n        pro: 400\r\n    };\r\n    const currentPlan = profile?.plan || 'free';\r\n    const limit = isDeveloper ? 9999 : (PLAN_LIMITS[currentPlan] || 5);\r\n    const used = profile?.prompts_used || 0;\r\n    const percent = Math.min(100, (used / limit) * 100);\r\n    const isFree = currentPlan === 'free' && !isDeveloper;\r\n\r\n    return (\r\n        <aside className={styles.sidebar}>\r\n            <Link href=\"/\" className={styles.brand}>\r\n                Promptly\r\n            </Link>\r\n            <nav className={styles.nav}>\r\n                {navItems.map((item) => (\r\n                    <Link\r\n                        key={item.href}\r\n                        href={item.href}\r\n                        className={`${styles.item} ${pathname === item.href ? styles.active : ''}`}\r\n                    >\r\n                        <span>{item.icon}</span>\r\n                        {item.label}\r\n                    </Link>\r\n                ))}\r\n            </nav>\r\n\r\n            <div className={styles.user}>\r\n                <div className={styles.avatar}>\r\n                    {avatarUrl ? (\r\n                        <img src={avatarUrl} alt=\"Avatar\" style={{ width: '100%', height: '100%', borderRadius: '50%', objectFit: 'cover' }} />\r\n                    ) : (\r\n                        fullName.charAt(0).toUpperCase()\r\n                    )}\r\n                </div>\r\n                <div className={styles.userInfo}>\r\n                    <span className={styles.userName}>{fullName}</span>\r\n                    <span className={styles.userEmail}>\r\n                        {isDeveloper ? 'Developer' : `${currentPlan.charAt(0).toUpperCase() + currentPlan.slice(1)} Plan`}\r\n                    </span>\r\n\r\n                    {/* Usage Stats - Strict Pill Badge */}\r\n                    <div className={styles.usage}>\r\n                        <div className={styles.usageHeader}>\r\n                            <span className={styles.planLabel}>{currentPlan} PLAN</span>\r\n                        </div>\r\n\r\n                        <div className={styles.usageMain}>\r\n                            <span className={styles.usageValue}>{used}</span>\r\n                            <span className={styles.usageTotal}>/ {isDeveloper ? 'Ôê×' : limit}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </aside>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\dashboard\\LandingPageForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport styles from './page.module.css';\r\nimport { Button } from '../components/Button/Button';\r\nimport { supabase } from '../../lib/supabase';\r\nimport {\r\n    LayoutTemplate, Rocket, ImagePlus, Zap\r\n} from 'lucide-react';\r\n\r\nimport { ScrollReveal } from '../components/ScrollReveal/ScrollReveal';\r\n\r\n// --- Types & Config ---\r\n\r\nconst PROMPT_MODES = [\r\n    { id: 'guided_builder', label: 'Crie o seu saas do 0', icon: <Rocket size={16} />, desc: 'Crie o seu saas com apenas 1 prompt' },\r\n    { id: 'landing_page', label: 'Landing Page', icon: <LayoutTemplate size={16} />, desc: 'Gere uma landing page inteira com apenas 1 prompt.' },\r\n    { id: 'feature_builder', label: 'Feature Pro', icon: <Zap size={16} />, desc: 'Funcionalidade production-ready com testes.' },\r\n    { id: 'extract_design', label: 'Extrair Design', icon: <ImagePlus size={16} />, desc: 'Extraia cores e estilos de uma imagem de refer├¬ncia.' },\r\n] as const;\r\n\r\nexport default function DashboardPage() {\r\n    const router = useRouter();\r\n    const [authLoading, setAuthLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const checkUser = async () => {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) {\r\n                router.push('/login');\r\n            } else {\r\n                setAuthLoading(false);\r\n            }\r\n        };\r\n        checkUser();\r\n    }, [router]);\r\n\r\n\r\n    if (authLoading) return null;\r\n\r\n    // --- Mode Selection Logic ---\r\n    const handleModeSelect = (mode: string) => {\r\n        if (mode === 'guided_builder') {\r\n            router.push('/builder');\r\n            return;\r\n        }\r\n        if (mode === 'landing_page') {\r\n            router.push('/landing-builder');\r\n            return;\r\n        }\r\n        if (mode === 'extract_design') {\r\n            router.push('/design-extractor');\r\n            return;\r\n        }\r\n        if (mode === 'feature_builder') {\r\n            router.push('/feature-builder');\r\n            return;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <header className={styles.header}>\r\n                <div className={styles.headerContent}>\r\n                    <div>\r\n                        <h1 className={styles.title}>Gere o seu prompt</h1>\r\n                        <p className={styles.subtitle}>Escolha uma das op├º├Áes abaixo para come├ºar.</p>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div className={styles.grid}>\r\n                <ScrollReveal className={styles.inputSection} width=\"100%\">\r\n                    <div className={styles.wizard}>\r\n\r\n                        {/* Mode Selector */}\r\n                        <div className={styles.field} style={{ marginBottom: '0' }}>\r\n                            <div className={styles.modeGrid}>\r\n                                {PROMPT_MODES.map(mode => (\r\n                                    <button\r\n                                        key={mode.id}\r\n                                        className={`${styles.modeCard}`}\r\n                                        onClick={() => handleModeSelect(mode.id)}\r\n                                    >\r\n                                        <div className={styles.modeIcon}>{mode.icon}</div>\r\n                                        <div className={styles.modeText}>\r\n                                            <div className={styles.modeTitle}>{mode.label}</div>\r\n                                            <div className={styles.modeDesc}>{mode.desc}</div>\r\n                                        </div>\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ScrollReveal>\r\n            </div >\r\n        </div >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\dashboard\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loading' is assigned a value but never used.","line":12,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":19},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":199,"column":37,"nodeType":"JSXOpeningElement","endLine":199,"endColumn":73},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":488,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":488,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24430,24433],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24430,24433],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { supabase } from '../../../lib/supabase';\r\nimport styles from './settings.module.css';\r\nimport { Button } from '../../components/Button/Button';\r\nimport { User } from '@supabase/supabase-js';\r\nimport { Loader2, Camera, Save, Lock, Eye, EyeOff, Check, X } from 'lucide-react';\r\n\r\nexport default function SettingsPage() {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [savingProfile, setSavingProfile] = useState(false);\r\n    const [savingPassword, setSavingPassword] = useState(false);\r\n    const [uploadingAvatar, setUploadingAvatar] = useState(false);\r\n\r\n    const [fullName, setFullName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [avatarUrl, setAvatarUrl] = useState('');\r\n\r\n    const [oldPassword, setOldPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [showOldPassword, setShowOldPassword] = useState(false);\r\n    const [showNewPassword, setShowNewPassword] = useState(false);\r\n\r\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    // User profile from database (contains plano_ativo, status, etc.)\r\n    const [userProfile, setUserProfile] = useState<{ plano_ativo?: string; status?: string } | null>(null);\r\n\r\n    // Cancel subscription modal\r\n    const [showCancelModal, setShowCancelModal] = useState(false);\r\n    const [cancellingSubscription, setCancellingSubscription] = useState(false);\r\n\r\n    // Password Requirements\r\n    const requirements = [\r\n        { label: 'Pelo menos 8 caracteres', test: (p: string) => p.length >= 8 },\r\n        { label: 'Uma letra mai├║scula', test: (p: string) => /[A-Z]/.test(p) },\r\n        { label: 'Uma letra min├║scula', test: (p: string) => /[a-z]/.test(p) },\r\n        { label: 'Um n├║mero', test: (p: string) => /[0-9]/.test(p) },\r\n        { label: 'Um caractere especial', test: (p: string) => /[^A-Za-z0-9]/.test(p) },\r\n    ];\r\n\r\n    const allRequirementsMet = requirements.every(req => req.test(newPassword));\r\n\r\n    useEffect(() => {\r\n        const getUser = async () => {\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            if (user) {\r\n                setUser(user);\r\n                setFullName(user.user_metadata?.full_name || '');\r\n                setEmail(user.email || '');\r\n                setAvatarUrl(user.user_metadata?.avatar_url || '');\r\n\r\n                // Fetch user profile from database to get plan info\r\n                const { data: profile } = await supabase\r\n                    .from('users')\r\n                    .select('plano_ativo, status')\r\n                    .eq('id', user.id)\r\n                    .single();\r\n\r\n                if (profile) {\r\n                    setUserProfile(profile);\r\n                }\r\n            }\r\n            setLoading(false);\r\n        };\r\n        getUser();\r\n    }, []);\r\n\r\n    const showMessage = (type: 'success' | 'error', text: string) => {\r\n        setMessage({ type, text });\r\n        setTimeout(() => setMessage(null), 5000);\r\n    };\r\n\r\n    const handleUpdateProfile = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setSavingProfile(true);\r\n\r\n        const { error } = await supabase.auth.updateUser({\r\n            data: { full_name: fullName }\r\n        });\r\n\r\n        if (error) {\r\n            showMessage('error', `Erro ao atualizar perfil: ${error.message}`);\r\n        } else {\r\n            showMessage('success', 'Perfil atualizado com sucesso!');\r\n        }\r\n        setSavingProfile(false);\r\n    };\r\n\r\n    const handleUpdatePassword = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!oldPassword) {\r\n            showMessage('error', 'Por favor, informe sua senha antiga.');\r\n            return;\r\n        }\r\n\r\n        if (!allRequirementsMet) {\r\n            showMessage('error', 'A nova senha n├úo atende a todos os requisitos.');\r\n            return;\r\n        }\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            showMessage('error', 'As senhas n├úo coincidem.');\r\n            return;\r\n        }\r\n\r\n        setSavingPassword(true);\r\n\r\n        // Reauthenticate with old password\r\n        const { error: reauthError } = await supabase.auth.signInWithPassword({\r\n            email: user?.email || '',\r\n            password: oldPassword,\r\n        });\r\n\r\n        if (reauthError) {\r\n            showMessage('error', 'Senha antiga incorreta.');\r\n            setSavingPassword(false);\r\n            return;\r\n        }\r\n\r\n        // Update to new password\r\n        const { error: updateError } = await supabase.auth.updateUser({\r\n            password: newPassword\r\n        });\r\n\r\n        if (updateError) {\r\n            showMessage('error', `Erro ao atualizar senha: ${updateError.message}`);\r\n        } else {\r\n            showMessage('success', 'Senha atualizada com sucesso!');\r\n            setOldPassword('');\r\n            setNewPassword('');\r\n            setConfirmPassword('');\r\n        }\r\n        setSavingPassword(false);\r\n    };\r\n\r\n    const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file || !user) return;\r\n\r\n        setUploadingAvatar(true);\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `${user.id}-${Math.random()}.${fileExt}`;\r\n        const filePath = `avatars/${fileName}`;\r\n\r\n        const { error: uploadError } = await supabase.storage\r\n            .from('avatars')\r\n            .upload(filePath, file);\r\n\r\n        if (uploadError) {\r\n            showMessage('error', `Erro no upload: ${uploadError.message}`);\r\n            setUploadingAvatar(false);\r\n            return;\r\n        }\r\n\r\n        const { data: { publicUrl } } = supabase.storage\r\n            .from('avatars')\r\n            .getPublicUrl(filePath);\r\n\r\n        const { error: updateError } = await supabase.auth.updateUser({\r\n            data: { avatar_url: publicUrl }\r\n        });\r\n\r\n        if (updateError) {\r\n            showMessage('error', `Erro ao salvar foto: ${updateError.message}`);\r\n        } else {\r\n            setAvatarUrl(publicUrl);\r\n            showMessage('success', 'Foto de perfil atualizada!');\r\n        }\r\n        setUploadingAvatar(false);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <header className={styles.header}>\r\n                <h1 className={styles.title}>Configura├º├Áes</h1>\r\n                <p className={styles.subtitle}>Gerencie seu perfil, seguran├ºa e prefer├¬ncias na plataforma.</p>\r\n            </header>\r\n\r\n            {message && (\r\n                <div className={`${styles.message} ${styles[message.type]}`}>\r\n                    {message.text}\r\n                </div>\r\n            )}\r\n\r\n            <div className={styles.contentWrapper}>\r\n                <div>\r\n                    <section className={styles.section}>\r\n                        <h2 className={styles.sectionTitle}>Perfil</h2>\r\n\r\n                        <div className={styles.avatarSection}>\r\n                            <div className={styles.avatar}>\r\n                                {avatarUrl ? (\r\n                                    <img src={avatarUrl} alt=\"Avatar\" />\r\n                                ) : (\r\n                                    fullName.charAt(0).toUpperCase() || user?.email?.charAt(0).toUpperCase()\r\n                                )}\r\n                            </div>\r\n                            <button\r\n                                className={styles.uploadButton}\r\n                                onClick={() => fileInputRef.current?.click()}\r\n                                disabled={uploadingAvatar}\r\n                            >\r\n                                <Camera size={16} style={{ marginRight: '0.5rem' }} />\r\n                                {uploadingAvatar ? 'Enviando...' : 'Alterar foto'}\r\n                            </button>\r\n                            <input\r\n                                type=\"file\"\r\n                                ref={fileInputRef}\r\n                                onChange={handleAvatarUpload}\r\n                                style={{ display: 'none' }}\r\n                                accept=\"image/*\"\r\n                            />\r\n                        </div>\r\n\r\n                        <form onSubmit={handleUpdateProfile}>\r\n                            <div className={styles.formGroup}>\r\n                                <label className={styles.label}>Nome Completo</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className={styles.input}\r\n                                    value={fullName}\r\n                                    onChange={(e) => setFullName(e.target.value)}\r\n                                    placeholder=\"Seu nome\"\r\n                                />\r\n                            </div>\r\n                            <div className={styles.formGroup}>\r\n                                <label className={styles.label}>E-mail</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    className={styles.input}\r\n                                    value={email}\r\n                                    disabled\r\n                                    style={{ opacity: 0.5, cursor: 'not-allowed' }}\r\n                                />\r\n                            </div>\r\n                            <div className={styles.actions}>\r\n                                <Button variant=\"primary\" type=\"submit\" loading={savingProfile}>\r\n                                    <Save size={16} style={{ marginRight: '0.5rem' }} />\r\n                                    Salvar Perfil\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </section>\r\n\r\n                    <section className={styles.section}>\r\n                        <h2 className={styles.sectionTitle}>Seguran├ºa</h2>\r\n                        <form onSubmit={handleUpdatePassword}>\r\n                            <div className={styles.formGroup}>\r\n                                <label className={styles.label}>Senha Atual</label>\r\n                                <div className={styles.passwordWrapper}>\r\n                                    <input\r\n                                        type={showOldPassword ? \"text\" : \"password\"}\r\n                                        className={`${styles.input} ${styles.passwordInput}`}\r\n                                        value={oldPassword}\r\n                                        onChange={(e) => setOldPassword(e.target.value)}\r\n                                        placeholder=\"ÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇó\"\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className={styles.showPasswordButton}\r\n                                        onClick={() => setShowOldPassword(!showOldPassword)}\r\n                                        tabIndex={-1}\r\n                                    >\r\n                                        {showOldPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={styles.formGroup}>\r\n                                <label className={styles.label}>Nova Senha</label>\r\n                                <div className={styles.passwordWrapper}>\r\n                                    <input\r\n                                        type={showNewPassword ? \"text\" : \"password\"}\r\n                                        className={`${styles.input} ${styles.passwordInput}`}\r\n                                        value={newPassword}\r\n                                        onChange={(e) => setNewPassword(e.target.value)}\r\n                                        placeholder=\"ÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇó\"\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        className={styles.showPasswordButton}\r\n                                        onClick={() => setShowNewPassword(!showNewPassword)}\r\n                                        tabIndex={-1}\r\n                                    >\r\n                                        {showNewPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <ul className={styles.checklist}>\r\n                                {requirements.map((req, i) => {\r\n                                    const isMet = req.test(newPassword);\r\n                                    return (\r\n                                        <li key={i} className={`${styles.checkItem} ${isMet ? styles.met : ''}`}>\r\n                                            <span className={styles.checkIcon}>\r\n                                                {isMet ? <Check size={14} /> : <X size={14} />}\r\n                                            </span>\r\n                                            {req.label}\r\n                                        </li>\r\n                                    );\r\n                                })}\r\n                            </ul>\r\n\r\n                            <div className={styles.formGroup}>\r\n                                <label className={styles.label}>Confirmar Nova Senha</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    className={styles.input}\r\n                                    value={confirmPassword}\r\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                    placeholder=\"ÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇó\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className={styles.actions}>\r\n                                <Button\r\n                                    variant=\"primary\"\r\n                                    type=\"submit\"\r\n                                    loading={savingPassword}\r\n                                    disabled={!allRequirementsMet || !oldPassword || !confirmPassword}\r\n                                >\r\n                                    <Lock size={16} style={{ marginRight: '0.5rem' }} />\r\n                                    Atualizar Senha\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </section>\r\n                    <section className={styles.section}>\r\n                        <h2 className={styles.sectionTitle}>Assinatura</h2>\r\n                        <div className={styles.formGroup}>\r\n                            <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                                <div style={{\r\n                                    padding: '20px',\r\n                                    background: 'rgba(255, 255, 255, 0.03)',\r\n                                    borderRadius: '12px',\r\n                                    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n                                    display: 'flex',\r\n                                    justifyContent: 'space-between',\r\n                                    alignItems: 'center'\r\n                                }}>\r\n                                    <div>\r\n                                        <p style={{ color: '#86868B', fontSize: '13px', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Plano Atual</p>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                            <span style={{\r\n                                                fontSize: '18px',\r\n                                                fontWeight: 600,\r\n                                                color: userProfile?.plano_ativo && userProfile?.plano_ativo !== 'FREE' ? '#F5F5F7' : '#86868B'\r\n                                            }}>\r\n                                                {userProfile?.plano_ativo === 'PRO' ? 'Promptly PRO' :\r\n                                                    userProfile?.plano_ativo === 'STARTER' ? 'Promptly STARTER' : 'Gratuito'}\r\n                                            </span>\r\n                                            {userProfile?.status === 'canceled' && (\r\n                                                <span style={{\r\n                                                    fontSize: '11px',\r\n                                                    background: 'rgba(244, 67, 54, 0.15)',\r\n                                                    color: '#FF453A',\r\n                                                    padding: '4px 10px',\r\n                                                    borderRadius: '20px',\r\n                                                    fontWeight: 500\r\n                                                }}>\r\n                                                    Cancelado\r\n                                                </span>\r\n                                            )}\r\n                                            {userProfile?.plano_ativo && userProfile?.plano_ativo !== 'FREE' && userProfile?.status !== 'canceled' && (\r\n                                                <span style={{\r\n                                                    fontSize: '11px',\r\n                                                    background: 'rgba(48, 209, 88, 0.15)',\r\n                                                    color: '#30D158',\r\n                                                    padding: '4px 10px',\r\n                                                    borderRadius: '20px',\r\n                                                    fontWeight: 500\r\n                                                }}>\r\n                                                    Ativo\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    {userProfile?.plano_ativo && userProfile?.plano_ativo !== 'FREE' && userProfile?.status !== 'canceled' && (\r\n                                        <Button\r\n                                            variant=\"secondary\"\r\n                                            onClick={() => setShowCancelModal(true)}\r\n                                            style={{\r\n                                                borderColor: 'rgba(255, 69, 58, 0.3)',\r\n                                                color: '#FF453A',\r\n                                                background: 'rgba(255, 69, 58, 0.1)'\r\n                                            }}\r\n                                        >\r\n                                            Cancelar Assinatura\r\n                                        </Button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Cancel Subscription Modal */}\r\n            {showCancelModal && (\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    inset: 0,\r\n                    background: 'rgba(0, 0, 0, 0.8)',\r\n                    backdropFilter: 'blur(8px)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    zIndex: 1000,\r\n                    padding: '20px'\r\n                }}>\r\n                    <div style={{\r\n                        background: '#1C1C1E',\r\n                        borderRadius: '20px',\r\n                        padding: '32px',\r\n                        maxWidth: '420px',\r\n                        width: '100%',\r\n                        border: '1px solid rgba(255, 255, 255, 0.1)',\r\n                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.5)'\r\n                    }}>\r\n                        <div style={{ textAlign: 'center', marginBottom: '24px' }}>\r\n                            <div style={{\r\n                                width: '64px',\r\n                                height: '64px',\r\n                                background: 'rgba(255, 69, 58, 0.15)',\r\n                                borderRadius: '50%',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                margin: '0 auto 16px'\r\n                            }}>\r\n                                <X size={32} color=\"#FF453A\" />\r\n                            </div>\r\n                            <h3 style={{ color: '#F5F5F7', fontSize: '22px', fontWeight: 600, marginBottom: '8px' }}>\r\n                                Cancelar Assinatura?\r\n                            </h3>\r\n                            <p style={{ color: '#86868B', fontSize: '15px', lineHeight: 1.5 }}>\r\n                                Voc├¬ perder├í acesso aos recursos premium ao fim do per├¡odo atual. Esta a├º├úo n├úo pode ser desfeita.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', gap: '12px' }}>\r\n                            <Button\r\n                                variant=\"secondary\"\r\n                                onClick={() => setShowCancelModal(false)}\r\n                                style={{ flex: 1 }}\r\n                                disabled={cancellingSubscription}\r\n                            >\r\n                                Voltar\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"primary\"\r\n                                loading={cancellingSubscription}\r\n                                onClick={async () => {\r\n                                    setCancellingSubscription(true);\r\n                                    try {\r\n                                        const { data: { session } } = await supabase.auth.getSession();\r\n                                        const response = await fetch(`${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/cancel-subscription`, {\r\n                                            method: 'POST',\r\n                                            headers: {\r\n                                                'Authorization': `Bearer ${session?.access_token}`,\r\n                                                'Content-Type': 'application/json'\r\n                                            }\r\n                                        });\r\n\r\n                                        const result = await response.json();\r\n\r\n                                        if (!response.ok) throw new Error(result.error);\r\n\r\n                                        // Update local state immediately\r\n                                        setUserProfile(prev => prev ? { ...prev, status: 'canceled' } : null);\r\n                                        setShowCancelModal(false);\r\n                                        showMessage('success', 'Assinatura cancelada com sucesso.');\r\n\r\n                                        // Also refresh from database to be sure\r\n                                        const { data: profile } = await supabase\r\n                                            .from('users')\r\n                                            .select('plano_ativo, status')\r\n                                            .eq('id', user?.id)\r\n                                            .single();\r\n                                        if (profile) setUserProfile(profile);\r\n\r\n                                    } catch (err: any) {\r\n                                        showMessage('error', `Erro ao cancelar: ${err.message}`);\r\n                                    } finally {\r\n                                        setCancellingSubscription(false);\r\n                                    }\r\n                                }}\r\n                                style={{\r\n                                    flex: 1,\r\n                                    background: '#FF453A',\r\n                                    borderColor: '#FF453A'\r\n                                }}\r\n                            >\r\n                                {cancellingSubscription ? 'Cancelando...' : 'Confirmar Cancelamento'}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\dashboard\\template.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\design-extractor\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Palette' is defined but never used.","line":8,"column":35,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":42},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Type' is defined but never used.","line":8,"column":44,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":48},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Paintbrush' is defined but never used.","line":8,"column":50,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":60},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[487,490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[487,490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2561,2564],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2561,2564],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport styles from './page.module.css';\r\nimport { Header } from '../components/Header/Header';\r\nimport { UploadCloud, ArrowRight, Palette, Type, Paintbrush, Check, Loader2, ArrowLeft, FileText, Code, Lightbulb, Copy, Layers } from 'lucide-react';\r\n\r\ntype ExtractionResult = {\r\n    success: boolean;\r\n    fullReport: string;\r\n    tokens: any;\r\n    sections: {\r\n        metadata: string;\r\n        direction: string;\r\n        colors: string;\r\n        typography: string;\r\n        layout: string;\r\n        spacing: string;\r\n        radius: string;\r\n        shadows: string;\r\n        borders: string;\r\n        components: string;\r\n        patterns: string;\r\n        replicationGuide: string;\r\n    };\r\n};\r\n\r\ntype TabId = 'report' | 'tokens' | 'guide' | 'components';\r\n\r\nexport default function DesignExtractorPage() {\r\n    const router = useRouter();\r\n    const [dragging, setDragging] = useState(false);\r\n    const [extracting, setExtracting] = useState(false);\r\n    const [extractionData, setExtractionData] = useState<ExtractionResult | null>(null);\r\n    const [activeTab, setActiveTab] = useState<TabId>('report');\r\n    const [copiedTokens, setCopiedTokens] = useState(false);\r\n\r\n    const handleDragOver = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setDragging(true);\r\n    };\r\n\r\n    const handleDragLeave = () => {\r\n        setDragging(false);\r\n    };\r\n\r\n    const handleDrop = async (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setDragging(false);\r\n        const file = e.dataTransfer.files[0];\r\n        if (file && file.type.startsWith('image/')) {\r\n            await processFile(file);\r\n        }\r\n    };\r\n\r\n    const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            await processFile(file);\r\n        }\r\n    };\r\n\r\n    const processFile = async (file: File) => {\r\n        setExtracting(true);\r\n        setExtractionData(null);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('image', file);\r\n\r\n            const res = await fetch('/api/extract-design', {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            const data = await res.json();\r\n            if (!res.ok) throw new Error(data.error || 'Falha na extra├º├úo');\r\n\r\n            setExtractionData(data);\r\n        } catch (error: any) {\r\n            alert(`Erro: ${error.message}`);\r\n        } finally {\r\n            setExtracting(false);\r\n        }\r\n    };\r\n\r\n    const handleCopyTokens = async () => {\r\n        if (!extractionData?.tokens) return;\r\n        await navigator.clipboard.writeText(JSON.stringify(extractionData.tokens, null, 2));\r\n        setCopiedTokens(true);\r\n        setTimeout(() => setCopiedTokens(false), 2000);\r\n    };\r\n\r\n    const handleUseDesign = () => {\r\n        if (!extractionData) return;\r\n\r\n        // Pass the full report and tokens to the dashboard\r\n        const contextString = `# Design System Extra├¡do (UDTE)\\n\\n${extractionData.fullReport}`;\r\n        localStorage.setItem('promptly_extracted_design', contextString);\r\n\r\n        // Also save JSON tokens for structured access\r\n        if (extractionData.tokens) {\r\n            localStorage.setItem('promptly_design_tokens', JSON.stringify(extractionData.tokens));\r\n        }\r\n\r\n        router.push('/dashboard?source=extractor');\r\n    };\r\n\r\n    const tabs: { id: TabId; label: string; icon: React.ReactNode }[] = [\r\n        { id: 'report', label: 'Relat├│rio', icon: <FileText size={16} /> },\r\n        { id: 'tokens', label: 'JSON Tokens', icon: <Code size={16} /> },\r\n        { id: 'guide', label: 'Guia de Reuso', icon: <Lightbulb size={16} /> },\r\n        { id: 'components', label: 'Componentes', icon: <Layers size={16} /> },\r\n    ];\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Header />\r\n\r\n            <div className={styles.header}>\r\n                <h1 className={styles.title}>Extrator Universal de Design</h1>\r\n                <p className={styles.subtitle}>\r\n                    Envie uma imagem de refer├¬ncia e nossa IA ir├í extrair um Design System completo: cores, tipografia, espa├ºamentos, componentes e um guia de replica├º├úo.\r\n                </p>\r\n            </div>\r\n\r\n            {!extractionData && (\r\n                <div\r\n                    className={`${styles.dropZone} ${dragging ? styles.dragging : ''}`}\r\n                    onDragOver={handleDragOver}\r\n                    onDragLeave={handleDragLeave}\r\n                    onDrop={handleDrop}\r\n                    onClick={() => document.getElementById('fileInput')?.click()}\r\n                >\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"fileInput\"\r\n                        accept=\"image/*\"\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileSelect}\r\n                        disabled={extracting}\r\n                    />\r\n\r\n                    <div className={styles.iconWrapper}>\r\n                        {extracting ? <Loader2 className=\"animate-spin\" size={32} /> : <UploadCloud size={32} />}\r\n                    </div>\r\n\r\n                    <h3 className={styles.uploadTitle}>\r\n                        {extracting ? 'Analisando com UDTE...' : 'Arraste ou Clique para Upload'}\r\n                    </h3>\r\n                    <p className={styles.uploadDesc}>\r\n                        Suporta PNG, JPG, WEBP. A an├ílise pode levar alguns segundos.\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {extractionData && (\r\n                <div className={styles.resultsContainer}>\r\n                    {/* Tab Navigation */}\r\n                    <div className={styles.tabNav}>\r\n                        {tabs.map(tab => (\r\n                            <button\r\n                                key={tab.id}\r\n                                className={`${styles.tabButton} ${activeTab === tab.id ? styles.active : ''}`}\r\n                                onClick={() => setActiveTab(tab.id)}\r\n                            >\r\n                                {tab.icon}\r\n                                <span>{tab.label}</span>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Tab Content */}\r\n                    <div className={styles.tabContent}>\r\n                        {activeTab === 'report' && (\r\n                            <div className={styles.reportView}>\r\n                                <ReactMarkdown>{extractionData.fullReport}</ReactMarkdown>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'tokens' && (\r\n                            <div className={styles.tokensView}>\r\n                                <div className={styles.tokensHeader}>\r\n                                    <h3>Design Tokens (JSON)</h3>\r\n                                    <button className={styles.copyBtn} onClick={handleCopyTokens}>\r\n                                        {copiedTokens ? <><Check size={14} /> Copiado</> : <><Copy size={14} /> Copiar JSON</>}\r\n                                    </button>\r\n                                </div>\r\n                                <pre className={styles.jsonBlock}>\r\n                                    {extractionData.tokens\r\n                                        ? JSON.stringify(extractionData.tokens, null, 2)\r\n                                        : 'Nenhum JSON de tokens foi extra├¡do.'}\r\n                                </pre>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'guide' && (\r\n                            <div className={styles.guideView}>\r\n                                <ReactMarkdown>\r\n                                    {extractionData.sections?.replicationGuide || 'Guia de replica├º├úo n├úo dispon├¡vel.'}\r\n                                </ReactMarkdown>\r\n                            </div>\r\n                        )}\r\n\r\n                        {activeTab === 'components' && (\r\n                            <div className={styles.componentsView}>\r\n                                <ReactMarkdown>\r\n                                    {extractionData.sections?.components || 'Invent├írio de componentes n├úo dispon├¡vel.'}\r\n                                </ReactMarkdown>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className={styles.actions}>\r\n                        <button className={`${styles.actionButton} ${styles.btnSecondary}`} onClick={() => setExtractionData(null)}>\r\n                            <ArrowLeft size={18} /> Nova Extra├º├úo\r\n                        </button>\r\n                        <button className={`${styles.actionButton} ${styles.btnPrimary}`} onClick={handleUseDesign}>\r\n                            Criar Projeto com esse Design <ArrowRight size={18} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\feature-builder\\featurePrompts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\feature-builder\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\forgot-password\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1045,1048],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1045,1048],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":45,"column":29,"nodeType":"JSXOpeningElement","endLine":45,"endColumn":91}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport styles from '../login/auth.module.css';\r\nimport { Button } from '../components/Button/Button';\r\n\r\nexport default function ForgotPasswordPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch('/api/auth/forgot-password', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ email }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) throw new Error(data.error || 'Erro ao enviar email');\r\n\r\n            setSuccess(true);\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erro ao enviar email de recupera├º├úo.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.card}>\r\n                <div className={styles.header}>\r\n                    <Link href=\"/\" className={styles.brand}>\r\n                        <div className={styles.logoWrapper}>\r\n                            <div className={styles.logoGlow} />\r\n                            <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                        </div>\r\n                    </Link>\r\n                    <h1 className={styles.title}>Recuperar Senha</h1>\r\n                    <p className={styles.subtitle}>\r\n                        Digite seu email para receber um link de recupera├º├úo.\r\n                    </p>\r\n                </div>\r\n\r\n                {success ? (\r\n                    <div className={styles.success}>\r\n                        Email enviado com sucesso! Verifique sua caixa de entrada.\r\n                    </div>\r\n                ) : (\r\n                    <form className={styles.form} onSubmit={handleSubmit}>\r\n                        {error && <div className={styles.error}>{error}</div>}\r\n                        <div className={styles.field}>\r\n                            <label className={styles.label} htmlFor=\"email\">Email</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"nome@exemplo.com\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <Button\r\n                            variant=\"primary\"\r\n                            type=\"submit\"\r\n                            className={styles.submitButton}\r\n                            loading={loading}\r\n                        >\r\n                            {loading ? 'Enviando...' : 'Enviar Link'}\r\n                        </Button>\r\n                    </form>\r\n                )}\r\n\r\n                <div className={styles.footer}>\r\n                    Lembrou a senha?\r\n                    <Link href=\"/login\" className={styles.link}>Fazer login</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\landing-builder\\agentPrompts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\landing-builder\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":8,"column":41,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":49},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronUp' is defined but never used.","line":8,"column":77,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":86},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bot' is defined but never used.","line":8,"column":88,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":91},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sparkles' is defined but never used.","line":8,"column":93,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":101},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lightbulb' is defined but never used.","line":8,"column":103,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":112},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Megaphone' is defined but never used.","line":8,"column":161,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":170},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ScrollReveal' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LANDING_PAGE_AGENT_V2_PROMPT' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plasma' is defined but never used.","line":13,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'TOTAL_STEPS' is assigned a value but never used.","line":37,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":189,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9148,9151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9148,9151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":278,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":278,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":371,"column":40,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No &quot;Modo Flash\", se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No &ldquo;Modo Flash\", se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No &#34;Modo Flash\", se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No &rdquo;Modo Flash\", se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":371,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No \"Modo Flash&quot;, se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No \"Modo Flash&ldquo;, se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No \"Modo Flash&#34;, se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[17867,18010],"text":"\r\n                                    No \"Modo Flash&rdquo;, se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":430,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21060,21171],"text":"\r\n                                &quot;O estilo n├úo ├® enfeite, ├® posicionamento.\"\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21060,21171],"text":"\r\n                                &ldquo;O estilo n├úo ├® enfeite, ├® posicionamento.\"\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21060,21171],"text":"\r\n                                &#34;O estilo n├úo ├® enfeite, ├® posicionamento.\"\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21060,21171],"text":"\r\n                                &rdquo;O estilo n├úo ├® enfeite, ├® posicionamento.\"\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":430,"column":75,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21060,21171],"text":"\r\n                                \"O estilo n├úo ├® enfeite, ├® posicionamento.&quot;\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21060,21171],"text":"\r\n                                \"O estilo n├úo ├® enfeite, ├® posicionamento.&ldquo;\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21060,21171],"text":"\r\n                                \"O estilo n├úo ├® enfeite, ├® posicionamento.&#34;\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21060,21171],"text":"\r\n                                \"O estilo n├úo ├® enfeite, ├® posicionamento.&rdquo;\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":503,"column":35,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[25947,26054],"text":"\r\n                                A &quot;psicologia invis├¡vel\" do seu design.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[25947,26054],"text":"\r\n                                A &ldquo;psicologia invis├¡vel\" do seu design.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[25947,26054],"text":"\r\n                                A &#34;psicologia invis├¡vel\" do seu design.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[25947,26054],"text":"\r\n                                A &rdquo;psicologia invis├¡vel\" do seu design.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":503,"column":56,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[25947,26054],"text":"\r\n                                A \"psicologia invis├¡vel&quot; do seu design.\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[25947,26054],"text":"\r\n                                A \"psicologia invis├¡vel&ldquo; do seu design.\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[25947,26054],"text":"\r\n                                A \"psicologia invis├¡vel&#34; do seu design.\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[25947,26054],"text":"\r\n                                A \"psicologia invis├¡vel&rdquo; do seu design.\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":628,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[35009,35107],"text":"\r\n                                &quot;Cores s├úo emo├º├úo codificada.\"\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[35009,35107],"text":"\r\n                                &ldquo;Cores s├úo emo├º├úo codificada.\"\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[35009,35107],"text":"\r\n                                &#34;Cores s├úo emo├º├úo codificada.\"\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[35009,35107],"text":"\r\n                                &rdquo;Cores s├úo emo├º├úo codificada.\"\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":628,"column":62,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[35009,35107],"text":"\r\n                                \"Cores s├úo emo├º├úo codificada.&quot;\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[35009,35107],"text":"\r\n                                \"Cores s├úo emo├º├úo codificada.&ldquo;\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[35009,35107],"text":"\r\n                                \"Cores s├úo emo├º├úo codificada.&#34;\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[35009,35107],"text":"\r\n                                \"Cores s├úo emo├º├úo codificada.&rdquo;\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":630,"column":149,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (&quot;SaaS Safe\")."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (&ldquo;SaaS Safe\")."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (&#34;SaaS Safe\")."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (&rdquo;SaaS Safe\")."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":630,"column":159,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (\"SaaS Safe&quot;)."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (\"SaaS Safe&ldquo;)."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (\"SaaS Safe&#34;)."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[35197,35276],"text":"Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (\"SaaS Safe&rdquo;)."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":728,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[42343,42442],"text":"\r\n                                &quot;A voz textual do seu projeto.\"\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[42343,42442],"text":"\r\n                                &ldquo;A voz textual do seu projeto.\"\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[42343,42442],"text":"\r\n                                &#34;A voz textual do seu projeto.\"\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[42343,42442],"text":"\r\n                                &rdquo;A voz textual do seu projeto.\"\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":728,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[42343,42442],"text":"\r\n                                \"A voz textual do seu projeto.&quot;\r\n                                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[42343,42442],"text":"\r\n                                \"A voz textual do seu projeto.&ldquo;\r\n                                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[42343,42442],"text":"\r\n                                \"A voz textual do seu projeto.&#34;\r\n                                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[42343,42442],"text":"\r\n                                \"A voz textual do seu projeto.&rdquo;\r\n                                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":911,"column":128,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a &quot;mente\" da IA escolhida."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a &ldquo;mente\" da IA escolhida."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a &#34;mente\" da IA escolhida."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a &rdquo;mente\" da IA escolhida."},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":911,"column":134,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a \"mente&quot; da IA escolhida."},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a \"mente&ldquo; da IA escolhida."},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a \"mente&#34; da IA escolhida."},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[54671,54740],"text":"Otimizaremos o prompt especificamente para a \"mente&rdquo; da IA escolhida."},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":15,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport {\r\n    Briefcase, Target, Palette, Layout, FileText, Check, Copy, ChevronDown, ChevronUp, Bot, Sparkles, Lightbulb, Type, Layers, X, Zap, Sliders, Frame, Feather, Megaphone, ArrowUpRight\r\n} from 'lucide-react';\r\nimport styles from './landing-builder.module.css'; // Reusing the copied/renamed styles\r\nimport { ScrollReveal } from '../components/ScrollReveal/ScrollReveal';\r\nimport { LANDING_PAGE_AGENT_V2_PROMPT } from './agentPrompts';\r\nimport Plasma from '../components/Plasma/Plasma';\r\nimport { TextShimmer } from '@/components/ui/text-shimmer';\r\n\r\n// --- Types ---\r\ntype LandingBuilderState = {\r\n    mode: 'portfolio' | 'custom';\r\n    niche: string;\r\n    brandName: string;\r\n    targetAudience: string;\r\n    goal: 'portfolio' | 'leads' | 'sales';\r\n    style: 'brutalist' | 'swiss' | 'glass' | 'editorial';\r\n    geometry: 'sharp' | 'soft' | 'mixed'; // New\r\n    layout: 'standard' | 'radical'; // New\r\n    primaryColor: string;\r\n    secondaryColor: string;\r\n    typography: string;\r\n    fontWeight: 'light' | 'regular' | 'medium' | 'bold';\r\n    useSingleFont: boolean;\r\n    sections: string[];\r\n    mainOffer: string;\r\n    contactInfo: string;\r\n    tone: string;\r\n    targetPlatform: 'Lovable' | 'Google AI Studio' | 'Vercel' | 'Replit'; // New Step 8\r\n};\r\nconst TOTAL_STEPS = 10;\r\n\r\nconst INITIAL_STATE: LandingBuilderState = {\r\n    mode: 'custom',\r\n    niche: '',\r\n    brandName: '',\r\n    targetAudience: '',\r\n    goal: 'portfolio',\r\n    style: 'swiss',\r\n    geometry: 'sharp',\r\n    layout: 'radical',\r\n    primaryColor: '#000000', // Default Black (Architect preference)\r\n    secondaryColor: '#ffffff', // Default White\r\n    typography: 'sans',\r\n    fontWeight: 'regular',\r\n    useSingleFont: false,\r\n    sections: ['Hero', 'ProofStrip', 'Services', 'HowItWorks', 'ResultsGallery', 'Differentials', 'Depoimentos', 'FAQ', 'Locations', 'Footer'],\r\n    mainOffer: '',\r\n    contactInfo: '',\r\n    tone: 'Profissional e Confi├ível',\r\n    targetPlatform: 'Google AI Studio' // Default per user preference\r\n};\r\n\r\nconst GOALS = [\r\n    { id: 'portfolio', label: 'Portf├│lio / Institucional', desc: 'Apresentar servi├ºos e hist├│rico', icon: <Briefcase size={24} /> },\r\n    { id: 'leads', label: 'Captura de Leads', desc: 'Foco em formul├írios e contato', icon: <Target size={24} /> },\r\n    { id: 'sales', label: 'Venda Direta', desc: 'P├ígina de Vendas (High Ticket)', icon: <Layout size={24} /> },\r\n];\r\n\r\nconst STYLES = [\r\n    { id: 'swiss', label: 'Minimalismo Su├¡├ºo', desc: 'Grid r├¡gido, arrojado, tipografia forte.', color: '#ffffff' },\r\n    { id: 'brutalist', label: 'Neo-Brutalismo', desc: 'Contraste alto, bordas duras, impacto.', color: '#ef4444' },\r\n    { id: 'glass', label: 'Efeito Glass (Glassmorphism)', desc: 'Profundidade, blur real, camadas 3D.', color: '#3b82f6' },\r\n    { id: 'editorial', label: 'Luxo Editorial', desc: 'Eleg├óncia, serifa, layout de revista.', color: '#a8a29e' },\r\n];\r\n\r\nconst GEOMETRIES = [\r\n    { id: 'sharp', label: 'Sharp (0px)', desc: 'Brutalista, Tech, Luxo. Transmite precis├úo e confian├ºa.', visualClass: 'sharp' },\r\n    { id: 'soft', label: 'Soft (16px+)', desc: 'Amig├ível, Social, App. Reduz a carga cognitiva.', visualClass: 'soft' },\r\n    { id: 'mixed', label: 'H├¡brido', desc: 'Estrat├®gico. Mistura profissionalismo com acessibilidade.', visualClass: 'mixed' },\r\n];\r\n\r\nconst LAYOUTS = [\r\n    { id: 'radical', label: 'Radical (Assim├®trico)', desc: 'Quebra o grid. \"Anti-Safe Harbor\". Ret├®m aten├º├úo pelo inesperado.', visualClass: 'radical' },\r\n    { id: 'standard', label: 'Estruturado (Grade)', desc: 'Cl├íssico colunar. Seguro, mas previs├¡vel. Bom para corporativo.', visualClass: 'standard' },\r\n];\r\n\r\nconst COLORS = [\r\n    { id: 'black', label: 'Preto Luxo', color: '#000000' },\r\n    { id: 'white', label: 'Branco Clean', color: '#ffffff' },\r\n    { id: 'blue', label: 'Royal Blue', color: '#2563eb' }, // Darker/Premium\r\n    { id: 'orange', label: 'Signal Orange', color: '#f97316' },\r\n    { id: 'red', label: 'Deep Red', color: '#dc2626' },\r\n    { id: 'emerald', label: 'Deep Emerald', color: '#059669' },\r\n    { id: 'slate', label: 'Cinza Tech', color: '#475569' },\r\n    { id: 'gold', label: 'Gold Metallic', color: '#ca8a04' },\r\n];\r\n\r\nconst FONT_WEIGHTS = [\r\n    { id: 'light', label: 'Leve (300)' },\r\n    { id: 'regular', label: 'Regular (400)' },\r\n    { id: 'medium', label: 'M├®dio (500)' },\r\n    { id: 'bold', label: 'Negrito (700)' },\r\n];\r\n\r\nconst FONTS = [\r\n    { id: 'sans', label: 'Moderna (Inter/Plus Jakarta)', desc: 'Limpa e leg├¡vel', value: 'Inter, sans-serif' },\r\n    { id: 'serif', label: 'Elegante (Playfair/Lora)', desc: 'Sofisticada e cl├íssica', value: 'Playfair Display, serif' },\r\n    { id: 'tech', label: 'Tech (Space Grotesk/Mono)', desc: 'Futurista e digital', value: 'Space Grotesk, monospace' },\r\n    { id: 'display', label: 'Display (Oswald/Syne)', desc: 'Personalidade forte', value: 'Oswald, sans-serif' },\r\n    { id: 'minimal', label: 'Minimal (Urbanist)', desc: 'Geom├®trica e limpa', value: 'Urbanist, sans-serif' }, // New\r\n    { id: 'luxury', label: 'High Luxury (Cormorant)', desc: 'Serifa fina e alta', value: 'Cormorant Garamond, serif' }, // New\r\n];\r\n\r\nconst SINGLE_FONTS = [\r\n    { id: 'Inter', label: 'Inter', desc: 'A padr├úo da web moderna', style: 'sans-serif', value: 'Inter, sans-serif' },\r\n    { id: 'Plus Jakarta Sans', label: 'Jakarta', desc: 'Geom├®trica moderna', style: 'sans-serif', value: '\"Plus Jakarta Sans\", sans-serif' },\r\n    { id: 'Space Grotesk', label: 'Space', desc: 'Tech brutalist', style: 'sans-serif', value: 'Space Grotesk, monospace' },\r\n    { id: 'Playfair Display', label: 'Playfair', desc: 'Serifada de alto luxo', style: 'serif', value: 'Playfair Display, serif' },\r\n    { id: 'Outfit', label: 'Outfit', desc: 'Clean e sofisticada', style: 'sans-serif', value: 'Outfit, sans-serif' },\r\n    { id: 'Syne', label: 'Syne', desc: 'Ar├¡stica e ├║nica', style: 'sans-serif', value: 'Syne, sans-serif' },\r\n    { id: 'Urbanist', label: 'Urbanist', desc: 'Geom├®trica premium', style: 'sans-serif', value: 'Urbanist, sans-serif' }, // New\r\n    { id: 'IBM Plex Mono', label: 'IBM Mono', desc: 'Engenharia de dados', style: 'monospace', value: '\"IBM Plex Mono\", monospace' }, // New\r\n    { id: 'Unbounded', label: 'Unbounded', desc: 'Futurismo radical', style: 'sans-serif', value: 'Unbounded, sans-serif' }, // New\r\n    { id: 'Cormorant Garamond', label: 'Cormorant', desc: 'Eleg├óncia sublime', style: 'serif', value: 'Cormorant Garamond, serif' }, // New\r\n];\r\n\r\nconst SECTIONS_LIST = [\r\n    { id: 'Hero', label: 'Hero (Topo)' },\r\n    { id: 'ProofStrip', label: 'Faixa de Prova Social' },\r\n    { id: 'PainAndPromise', label: 'Dor + Promessa' },\r\n    { id: 'Services', label: 'Lista de Servi├ºos' },\r\n    { id: 'HowItWorks', label: 'Como Funciona (Passos)' },\r\n    { id: 'ResultsGallery', label: 'Galeria de Resultados' },\r\n    { id: 'Differentials', label: 'Diferenciais' },\r\n    { id: 'Pricing', label: 'Tabela de Pre├ºos' },\r\n    { id: 'Testimonials', label: 'Depoimentos' },\r\n    { id: 'FAQ', label: 'Perguntas Frequentes' },\r\n    { id: 'Locations', label: 'Localiza├º├úo/Contato' },\r\n];\r\n\r\nconst PLATFORMS = [\r\n    {\r\n        id: 'Lovable',\r\n        label: 'Lovable',\r\n        desc: 'Construtor AI Full-stack (Supabase + React).',\r\n        logo: '/platforms/lovable.png',\r\n        activeColor: '#ec4899', // Pink/Magenta for Lovable brand match\r\n        activeBg: 'linear-gradient(145deg, rgba(236, 72, 153, 0.1) 0%, rgba(236, 72, 153, 0.02) 100%)',\r\n        borderColor: '#ec4899',\r\n        recommended: true\r\n    },\r\n    {\r\n        id: 'Google AI Studio',\r\n        label: 'Google AI Studio',\r\n        desc: 'Gera prompts otimizados (Modelo 1.5 Pro).',\r\n        logo: '/platforms/google-ai.png',\r\n        activeColor: '#4285F4',\r\n        activeBg: 'rgba(66, 133, 244, 0.05)',\r\n        borderColor: '#4285F4'\r\n    },\r\n    {\r\n        id: 'Vercel',\r\n        label: 'Vercel v0',\r\n        desc: 'Prototipagem r├ípida de interfaces (UI).',\r\n        logo: '/platforms/vercel.svg',\r\n        activeColor: '#ffffff',\r\n        activeBg: 'rgba(255, 255, 255, 0.05)',\r\n        borderColor: '#ffffff'\r\n    },\r\n    {\r\n        id: 'Replit',\r\n        label: 'Replit Agent',\r\n        desc: 'Agente de codifica├º├úo aut├┤nomo.',\r\n        logo: '/platforms/replit.png',\r\n        activeColor: '#F26207',\r\n        activeBg: 'rgba(242, 98, 7, 0.1)',\r\n        borderColor: '#F26207'\r\n    },\r\n];\r\n\r\nexport default function LandingBuilderPage() {\r\n    const [step, setStep] = useState(0);\r\n    const [state, setState] = useState<LandingBuilderState>(INITIAL_STATE);\r\n    const [generatedPrompt, setGeneratedPrompt] = useState('');\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const NICHE_SUGGESTIONS = [\r\n        \"Cl├¡nica Odontol├│gica\", \"Consultoria Financeira\", \"SaaS B2B\", \"Barbearia Premium\", \"Nutricionista Esportiva\", \"Advocacia Trabalhista\"\r\n    ];\r\n\r\n    const updateState = (key: keyof LandingBuilderState, value: any) => {\r\n        setState(prev => ({ ...prev, [key]: value }));\r\n    };\r\n\r\n    const toggleSection = (sectionId: string) => {\r\n        setState(prev => ({\r\n            ...prev,\r\n            sections: prev.sections.includes(sectionId)\r\n                ? prev.sections.filter(s => s !== sectionId)\r\n                : [...prev.sections, sectionId]\r\n        }));\r\n    };\r\n\r\n    const nextStep = () => {\r\n        if (state.mode === 'portfolio') {\r\n            // Portfolio Flow: Step 0 (Mode) -> Step 1 (Niche) -> Generate\r\n            if (step === 0) setStep(1);\r\n            else if (step === 1) handleGeneratePrompt();\r\n        } else {\r\n            // Custom Flow Updated: \r\n            // 0: Mode\r\n            // 1: Identity (Niche/Name)\r\n            // 2: Audience (NEW)\r\n            // 3: Goal\r\n            // 4: Style\r\n            // 5: Design Details (NEW)\r\n            // 6: Sections\r\n            // 7: Content\r\n            // 8: Platform (NEW)\r\n            // 9: Sections\r\n            // 10: Content\r\n            // 11: Generate\r\n            if (step < 10) setStep(step + 1);\r\n            else handleGeneratePrompt();\r\n        }\r\n    };\r\n\r\n    const prevStep = () => {\r\n        if (step > 0) setStep(step - 1);\r\n    };\r\n\r\n    const handleGeneratePrompt = async () => {\r\n        setStep(11); // Result screen (Custom mode index + 3 new steps)\r\n        setIsGenerating(true);\r\n\r\n        try {\r\n            const response = await fetch('/api/generate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    promptMode: 'landing_page',\r\n                    wizardMode: state.mode,\r\n                    saasNiche: state.niche || 'Geral',\r\n\r\n                    // Custom Mode Fields\r\n                    objective: state.mode === 'custom' ? GOALS.find(g => g.id === state.goal)?.label : undefined,\r\n                    logoStyle: state.mode === 'custom' ? STYLES.find(s => s.id === state.style)?.label : undefined,\r\n                    targetAudience: state.mode === 'custom' ? state.targetAudience : undefined,\r\n\r\n                    // Design Details Updated\r\n                    primaryColor: state.mode === 'custom' ? state.primaryColor : undefined,\r\n                    secondaryColor: state.mode === 'custom' ? state.secondaryColor : undefined,\r\n                    typography: state.mode === 'custom' ? FONTS.find(f => f.id === state.typography)?.label : undefined,\r\n                    fontWeight: state.mode === 'custom' ? state.fontWeight : undefined,\r\n                    useSingleFont: state.mode === 'custom' ? state.useSingleFont : undefined,\r\n\r\n                    // New Architect Fields\r\n                    geometry: state.mode === 'custom' ? state.geometry : undefined,\r\n                    layout: state.mode === 'custom' ? state.layout : undefined,\r\n\r\n                    voiceTone: state.mode === 'custom' ? state.tone : undefined,\r\n                    problemSolved: state.mode === 'custom' ? state.mainOffer : undefined,\r\n                    cta: state.mode === 'custom' ? state.contactInfo : undefined,\r\n                    sections: state.mode === 'custom' ? state.sections : undefined,\r\n\r\n                    brandName: state.brandName,\r\n\r\n                    // Critical: Target Platform for Backend Logic\r\n                    targetPlatform: state.targetPlatform\r\n                })\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.error) {\r\n                setGeneratedPrompt(`Erro ao gerar prompt: ${data.error}`);\r\n            } else {\r\n                setGeneratedPrompt(data.result);\r\n            }\r\n        } catch (error) {\r\n            setGeneratedPrompt('Erro de conex├úo ao gerar prompt. Tente novamente.');\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(generatedPrompt);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    const isNextDisabled = () => {\r\n        if (step === 1 && !state.niche) return true;\r\n        return false;\r\n    }\r\n\r\n    const renderStepContent = () => {\r\n        switch (step) {\r\n            case 0: // Mode Selection\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Como deseja criar?</h2>\r\n                            <p className={styles.stepDescription}>Escolha a velocidade da cria├º├úo.</p>\r\n                        </div>\r\n                        <div className={styles.grid2}>\r\n                            <div\r\n                                className={`${styles.card} ${state.mode === 'portfolio' ? styles.selected : ''}`}\r\n                                onClick={() => updateState('mode', 'portfolio')}\r\n                            >\r\n                                <div className={styles.cardIcon}><Zap size={28} /></div>\r\n                                <h3 className={styles.cardTitle} style={{ marginTop: '1rem' }}>Modo Flash (Portf├│lio)</h3>\r\n                                <p className={styles.cardDesc}>\r\n                                    Apenas diga o nicho, e a IA inventa <b>tudo</b> (copy, design, dados).\r\n                                    Ideal para mostrar poder ou criar templates r├ípidos.\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div\r\n                                className={`${styles.card} ${state.mode === 'custom' ? styles.selected : ''}`}\r\n                                onClick={() => updateState('mode', 'custom')}\r\n                            >\r\n                                <div className={styles.cardIcon}><Sliders size={28} /></div>\r\n                                <h3 className={styles.cardTitle} style={{ marginTop: '1rem' }}>Modo Personalizado</h3>\r\n                                <p className={styles.cardDesc}>\r\n                                    Defina tom de voz, oferta, se├º├Áes e detalhes.\r\n                                    Ideal para projetos reais ou clientes espec├¡ficos.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            case 1: // Niche & Name\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Identidade do Projeto</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                {state.mode === 'portfolio' ? 'Apenas o b├ísico para a IA come├ºar.' : 'Comece definindo o nicho e o nome da sua marca.'}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className={styles.inputGroup}>\r\n                            <label className={styles.label}>Qual ├® o seu nicho? {state.mode === 'portfolio' && <span style={{ color: 'var(--primary)', fontSize: '0.8rem' }}>(Obrigat├│rio)</span>}</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: Cl├¡nica de Est├®tica, SaaS de RH...\"\r\n                                value={state.niche}\r\n                                onChange={e => updateState('niche', e.target.value)}\r\n                                autoFocus\r\n                            />\r\n                            <div className={styles.chipGrid} style={{ marginTop: '1rem' }}>\r\n                                {NICHE_SUGGESTIONS.map(s => (\r\n                                    <button key={s} className={styles.chip} onClick={() => updateState('niche', s)}>\r\n                                        {s}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.inputGroup} style={{ marginTop: '2rem' }}>\r\n                            <label className={styles.label}>Nome da Marca (Opcional)</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Deixe vazio para a IA inventar\"\r\n                                value={state.brandName}\r\n                                onChange={e => updateState('brandName', e.target.value)}\r\n                            />\r\n                            {state.mode === 'portfolio' && (\r\n                                <p style={{ fontSize: '0.8rem', color: 'rgba(255,255,255,0.5)', marginTop: '0.5rem' }}>\r\n                                    No \"Modo Flash\", se voc├¬ n├úo der nome, criaremos um criativo para voc├¬.\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            case 2: // Target Audience (NEW)\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>P├║blico Alvo</h2>\r\n                            <p className={styles.stepDescription}>Quem voc├¬ quer atingir? Detalhe seu cliente ideal.</p>\r\n                        </div>\r\n                        <div className={styles.inputGroup}>\r\n                            <label className={styles.label}>Descreva seu cliente ideal</label>\r\n                            <textarea\r\n                                className={styles.textarea}\r\n                                placeholder=\"Ex: Homens de 25-40 anos que buscam estilo; Empresas B2B que precisam escalar vendas...\"\r\n                                value={state.targetAudience}\r\n                                onChange={e => updateState('targetAudience', e.target.value)}\r\n                                style={{ minHeight: '150px' }}\r\n                            />\r\n                            <p style={{ fontSize: '0.85rem', color: 'rgba(255,255,255,0.4)', marginTop: '0.5rem' }}>\r\n                                Isso ajuda a IA a escrever uma copy mais persuasiva e focada nas dores reais.\r\n                            </p>\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            case 3: // Goal\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Objetivo da P├ígina</h2>\r\n                            <p className={styles.stepDescription}>Qual o foco principal de convers├úo?</p>\r\n                        </div>\r\n                        <div className={styles.grid3}>\r\n                            {GOALS.map(g => (\r\n                                <div\r\n                                    key={g.id}\r\n                                    className={`${styles.card} ${state.goal === g.id ? styles.selected : ''}`}\r\n                                    onClick={() => updateState('goal', g.id)}\r\n                                >\r\n                                    <div className={styles.cardIcon}>{g.icon}</div>\r\n                                    <span className={styles.cardTitle}>{g.label}</span>\r\n                                    <span className={styles.cardDesc} style={{ fontSize: '0.85rem', opacity: 0.7 }}>{g.desc}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            case 4: // Visual Style - ARCHITECT UPDATE\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Dire├º├úo de Arte</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                \"O estilo n├úo ├® enfeite, ├® posicionamento.\"\r\n                                <br />\r\n                                <span style={{ opacity: 0.5, fontSize: '0.9em' }}>Escolha a est├®tica que ressoa com o inconsciente do seu p├║blico.</span>\r\n                            </p>\r\n                        </div>\r\n                        <div className={styles.grid2} style={{ marginBottom: '2.5rem' }}>\r\n                            {STYLES.map(s => (\r\n                                <div\r\n                                    key={s.id}\r\n                                    className={`${styles.card} ${state.style === s.id ? styles.selected : ''}`}\r\n                                    onClick={() => updateState('style', s.id)}\r\n                                    style={{\r\n                                        '--primary': s.color,\r\n                                        background: state.style === s.id ? `linear-gradient(145deg, rgba(255,255,255,0.05) 0%, ${s.color}22 100%)` : 'rgba(255,255,255,0.02)',\r\n                                        border: state.style === s.id ? `1px solid ${s.color}` : '1px solid rgba(255,255,255,0.08)',\r\n                                        transform: state.style === s.id ? 'translateY(-2px)' : 'none',\r\n                                        boxShadow: state.style === s.id ? `0 10px 30px -10px ${s.color}44` : 'none',\r\n                                        padding: '2rem 1.5rem',\r\n                                        alignItems: 'center',\r\n                                        textAlign: 'center',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'column',\r\n                                        justifyContent: 'center'\r\n                                    } as React.CSSProperties}\r\n                                >\r\n                                    <div\r\n                                        className={styles.cardIcon}\r\n                                        style={{\r\n                                            marginBottom: '1rem',\r\n                                            borderRadius: '50%',\r\n                                            padding: '16px',\r\n                                            background: state.style === s.id ? s.color : 'rgba(255,255,255,0.05)',\r\n                                            color: state.style === s.id ? (s.id === 'swiss' ? 'black' : 'white') : 'rgba(255,255,255,0.7)',\r\n                                            transition: 'all 0.3s',\r\n                                            display: 'flex',\r\n                                            justifyContent: 'center',\r\n                                            alignItems: 'center',\r\n                                            width: '64px',\r\n                                            height: '64px'\r\n                                        }}\r\n                                    >\r\n                                        {s.id === 'swiss' && <Palette size={28} />}\r\n                                        {s.id === 'brutalist' && <Frame size={28} strokeWidth={2.5} />}\r\n                                        {s.id === 'glass' && <Layers size={28} />}\r\n                                        {s.id === 'editorial' && <Feather size={28} />}\r\n                                    </div>\r\n                                    <span className={styles.cardTitle} style={{ fontSize: '1.2rem', marginBottom: '0.6rem' }}>{s.label}</span>\r\n                                    <span className={styles.cardDesc} style={{ fontSize: '0.9rem', opacity: 0.7, lineHeight: 1.5, maxWidth: '240px', margin: '0 auto' }}>{s.desc}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Pro Tip - Minimal */}\r\n                        <p style={{\r\n                            marginTop: '1.5rem',\r\n                            fontSize: '0.8rem',\r\n                            color: 'rgba(255,255,255,0.45)',\r\n                            fontStyle: 'italic',\r\n                            lineHeight: 1.6,\r\n                            borderLeft: '2px solid rgba(255,255,255,0.1)',\r\n                            paddingLeft: '1rem'\r\n                        }}>\r\n                            <strong style={{ color: 'rgba(255,255,255,0.6)', fontStyle: 'normal' }}>Nota:</strong> Minimalismo Su├¡├ºo para B2B. Neo-Brutalismo para disrup├º├úo (B2C/Gen-Z).\r\n                        </p>\r\n                    </>\r\n                );\r\n\r\n            case 5: // ARCHITECTURE: Geometry & Layout\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>F├¡sica & Estrutura</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                A \"psicologia invis├¡vel\" do seu design.\r\n                                <br />\r\n                                <span style={{ opacity: 0.5, fontSize: '0.9em' }}>Decis├Áes de geometria afetam a confian├ºa subconsciente do usu├írio em 50ms.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Geometry Section */}\r\n                        <div style={{ marginBottom: '3rem' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.2rem' }}>\r\n                                <label className={styles.label} style={{ display: 'flex', alignItems: 'center', gap: '8px', fontSize: '1rem', color: 'white' }}>\r\n                                    <Frame size={18} style={{ color: 'var(--primary)' }} />\r\n                                    Geometria\r\n                                </label>\r\n                                <span style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.4)', textTransform: 'uppercase', letterSpacing: '1px', fontWeight: 600 }}>ACABAMENTO</span>\r\n                            </div>\r\n\r\n                            <div className={styles.grid3} style={{ gap: '1rem' }}>\r\n                                {GEOMETRIES.map(g => (\r\n                                    <div\r\n                                        key={g.id}\r\n                                        onClick={() => updateState('geometry', g.id)}\r\n                                        className={`${styles.card} ${state.geometry === g.id ? styles.selected : ''}`}\r\n                                        style={{\r\n                                            padding: '1.5rem',\r\n                                            textAlign: 'center',\r\n                                            gap: '1rem',\r\n                                            background: state.geometry === g.id ? 'rgba(245, 165, 36, 0.05)' : 'rgba(0,0,0,0.4)',\r\n                                            border: state.geometry === g.id ? '1px solid var(--primary)' : '1px solid rgba(255,255,255,0.08)',\r\n                                            alignItems: 'center'\r\n                                        }}\r\n                                    >\r\n                                        <div\r\n                                            style={{\r\n                                                width: '48px',\r\n                                                height: '48px',\r\n                                                background: state.geometry === g.id ? 'var(--primary)' : 'rgba(255,255,255,0.08)',\r\n                                                borderRadius: g.visualClass === 'soft' ? '50%' : g.visualClass === 'mixed' ? '0px 16px 0px 16px' : '0px',\r\n                                                margin: '0 auto',\r\n                                                transition: 'all 0.3s',\r\n                                                boxShadow: state.geometry === g.id ? '0 0 20px rgba(245, 165, 36, 0.4)' : 'none'\r\n                                            }}\r\n                                        />\r\n                                        <div>\r\n                                            <span className={styles.cardTitle} style={{ fontSize: '1rem', display: 'block', marginBottom: '0.4rem' }}>{g.label}</span>\r\n                                            <p className={styles.cardDesc} style={{ fontSize: '0.8rem', lineHeight: '1.4', opacity: 0.6 }}>{g.desc}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Layout Section */}\r\n                        <div style={{ marginBottom: '2.5rem' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.2rem' }}>\r\n                                <label className={styles.label} style={{ display: 'flex', alignItems: 'center', gap: '8px', fontSize: '1rem', color: 'white' }}>\r\n                                    <Layout size={18} style={{ color: 'var(--primary)' }} />\r\n                                    Topologia\r\n                                </label>\r\n                                <span style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.4)', textTransform: 'uppercase', letterSpacing: '1px', fontWeight: 600 }}>GRID SYSTEM</span>\r\n                            </div>\r\n\r\n                            <div className={styles.grid2} style={{ gap: '1rem' }}>\r\n                                {LAYOUTS.map(l => (\r\n                                    <div\r\n                                        key={l.id}\r\n                                        onClick={() => updateState('layout', l.id)}\r\n                                        className={`${styles.card} ${state.layout === l.id ? styles.selected : ''}`}\r\n                                        style={{\r\n                                            flexDirection: 'row',\r\n                                            textAlign: 'left',\r\n                                            alignItems: 'center',\r\n                                            padding: '1.5rem',\r\n                                            background: state.layout === l.id ? 'rgba(245, 165, 36, 0.05)' : 'rgba(0,0,0,0.4)',\r\n                                            border: state.layout === l.id ? '1px solid var(--primary)' : '1px solid rgba(255,255,255,0.08)'\r\n                                        }}\r\n                                    >\r\n                                        <div style={{\r\n                                            width: '56px',\r\n                                            height: '56px',\r\n                                            display: 'grid',\r\n                                            gridTemplateColumns: l.visualClass === 'radical' ? '1.5fr 1fr' : '1fr 1fr',\r\n                                            gridTemplateRows: l.visualClass === 'radical' ? '1fr 1.5fr' : '1fr 1fr',\r\n                                            gap: '4px',\r\n                                            flexShrink: 0,\r\n                                            padding: '4px',\r\n                                            background: 'rgba(255,255,255,0.03)',\r\n                                            borderRadius: '8px',\r\n                                            border: '1px solid rgba(255,255,255,0.05)'\r\n                                        }}>\r\n                                            <div style={{ background: state.layout === l.id ? 'var(--primary)' : 'rgba(255,255,255,0.4)', opacity: 0.9, borderRadius: 2 }}></div>\r\n                                            <div style={{ background: state.layout === l.id ? 'var(--primary)' : 'rgba(255,255,255,0.4)', opacity: 0.4, borderRadius: 2 }}></div>\r\n                                            <div style={{ background: state.layout === l.id ? 'var(--primary)' : 'rgba(255,255,255,0.4)', opacity: 0.2, borderRadius: 2 }}></div>\r\n                                            {l.visualClass === 'standard' && <div style={{ background: state.layout === l.id ? 'var(--primary)' : 'rgba(255,255,255,0.4)', opacity: 0.6, borderRadius: 2 }}></div>}\r\n                                        </div>\r\n\r\n                                        <div style={{ marginLeft: '1rem' }}>\r\n                                            <span className={styles.cardTitle} style={{ fontSize: '1rem', display: 'block', marginBottom: '0.2rem' }}>{l.label}</span>\r\n                                            <p className={styles.cardDesc} style={{ fontSize: '0.8rem', lineHeight: '1.4', opacity: 0.6 }}>{l.desc}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Pro Tip - Minimal */}\r\n                        <p style={{\r\n                            marginTop: '1.5rem',\r\n                            fontSize: '0.8rem',\r\n                            color: 'rgba(255,255,255,0.45)',\r\n                            fontStyle: 'italic',\r\n                            lineHeight: 1.6,\r\n                            borderLeft: '2px solid rgba(255,255,255,0.1)',\r\n                            paddingLeft: '1rem'\r\n                        }}>\r\n                            <strong style={{ color: 'rgba(255,255,255,0.6)', fontStyle: 'normal' }}>Nota:</strong> Layouts Radicais quebram a previsibilidade. Sharp Geometry para marcas Premium.\r\n                        </p>\r\n                    </>\r\n                );\r\n\r\n            case 6: // ARCHITECTURE: Colors\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Paleta Crom├ítica</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                \"Cores s├úo emo├º├úo codificada.\"\r\n                                <br />\r\n                                <span style={{ opacity: 0.5, fontSize: '0.9em' }}>Escolha contraste alto para reten├º├úo. Evite tons past├®is lavados (\"SaaS Safe\").</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className={styles.grid2} style={{ marginBottom: '2.5rem' }}>\r\n                            {/* Primary Color */}\r\n                            <div>\r\n                                <label className={styles.label} style={{ marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '1rem', color: 'white' }}>\r\n                                    <Palette size={18} style={{ color: 'var(--primary)' }} />\r\n                                    Cor Prim├íria (Brand & CTA)\r\n                                </label>\r\n                                <div className={styles.featuresGrid} style={{ gridTemplateColumns: 'repeat(4, 1fr)', gap: '12px' }}>\r\n                                    {COLORS.filter(c => c.id !== 'white').map(c => (\r\n                                        <div\r\n                                            key={`p-${c.id}`}\r\n                                            onClick={() => updateState('primaryColor', c.color)}\r\n                                            style={{\r\n                                                height: '70px',\r\n                                                borderRadius: '12px',\r\n                                                background: c.color,\r\n                                                cursor: 'pointer',\r\n                                                border: state.primaryColor === c.color ? '3px solid white' : '1px solid rgba(255,255,255,0.1)',\r\n                                                boxShadow: state.primaryColor === c.color ? `0 0 20px ${c.color}66` : 'none',\r\n                                                transition: 'all 0.3s cubic-bezier(0.22, 1, 0.36, 1)',\r\n                                                position: 'relative',\r\n                                                transform: state.primaryColor === c.color ? 'scale(1.05)' : 'scale(1)',\r\n                                                display: 'flex',\r\n                                                flexDirection: 'column',\r\n                                                justifyContent: 'flex-end',\r\n                                                padding: '8px',\r\n                                                overflow: 'hidden'\r\n                                            }}\r\n                                            title={c.label}\r\n                                        >\r\n                                            {state.primaryColor === c.color && <div style={{ position: 'absolute', top: 8, right: 8, background: 'rgba(0,0,0,0.3)', borderRadius: '50%', padding: 2 }}><Check size={14} color=\"white\" /></div>}\r\n                                            <span style={{ fontSize: '0.7rem', fontWeight: 600, color: c.id === 'white' ? 'black' : 'rgba(255,255,255,0.9)', textShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>{c.label}</span>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Secondary Color */}\r\n                            <div>\r\n                                <label className={styles.label} style={{ marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '1rem', color: 'white' }}>\r\n                                    <Layers size={18} style={{ color: 'var(--primary)' }} />\r\n                                    Cor Base (Background)\r\n                                </label>\r\n                                <div className={styles.featuresGrid} style={{ gridTemplateColumns: 'repeat(4, 1fr)', gap: '12px' }}>\r\n                                    {COLORS.map(c => (\r\n                                        <div\r\n                                            key={`s-${c.id}`}\r\n                                            onClick={() => updateState('secondaryColor', c.color)}\r\n                                            style={{\r\n                                                height: '70px',\r\n                                                borderRadius: '12px',\r\n                                                background: c.color,\r\n                                                cursor: 'pointer',\r\n                                                border: state.secondaryColor === c.color ? '3px solid white' : '1px solid rgba(255,255,255,0.1)',\r\n                                                transform: state.secondaryColor === c.color ? 'scale(1.05)' : 'scale(1)',\r\n                                                transition: 'all 0.3s cubic-bezier(0.22, 1, 0.36, 1)',\r\n                                                position: 'relative',\r\n                                                display: 'flex',\r\n                                                flexDirection: 'column',\r\n                                                justifyContent: 'flex-end',\r\n                                                padding: '8px',\r\n                                                overflow: 'hidden'\r\n                                            }}\r\n                                            title={c.label}\r\n                                        >\r\n                                            {state.secondaryColor === c.color && <div style={{ position: 'absolute', top: 8, right: 8, background: 'rgba(0,0,0,0.3)', borderRadius: '50%', padding: 2 }}><Check size={14} color={c.id === 'black' || c.id === 'blue' || c.id === 'red' || c.id === 'emerald' ? 'white' : 'black'} /></div>}\r\n                                            <span style={{ fontSize: '0.7rem', fontWeight: 600, color: c.id === 'white' ? 'black' : 'rgba(255,255,255,0.9)', textShadow: '0 1px 2px rgba(0,0,0,0.3)' }}>{c.color}</span>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Pro Tip - Minimal */}\r\n                        <p style={{\r\n                            marginTop: '1.5rem',\r\n                            fontSize: '0.8rem',\r\n                            color: 'rgba(255,255,255,0.45)',\r\n                            fontStyle: 'italic',\r\n                            lineHeight: 1.6,\r\n                            borderLeft: '2px solid rgba(255,255,255,0.1)',\r\n                            paddingLeft: '1rem'\r\n                        }}>\r\n                            <strong style={{ color: 'rgba(255,255,255,0.6)', fontStyle: 'normal' }}>Nota:</strong> Evite Violeta de IA (saturado em 2025). Monocrom├ítico ou Alta Energia diferenciam melhor.\r\n                        </p>\r\n                    </>\r\n                );\r\n\r\n            case 7: // ARCHITECTURE: Typography\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Tipografia</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                \"A voz textual do seu projeto.\"\r\n                                <br />\r\n                                <span style={{ opacity: 0.5, fontSize: '0.9em' }}>Legibilidade constr├│i confian├ºa. Escolha com base na densidade de informa├º├úo.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem', background: 'rgba(255,255,255,0.03)', padding: '1rem', borderRadius: '12px', border: '1px solid rgba(255,255,255,0.05)' }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                <Type size={20} style={{ color: 'var(--primary)' }} />\r\n                                <div>\r\n                                    <span style={{ display: 'block', fontSize: '0.95rem', fontWeight: 600, color: 'white' }}>Single Font Mode</span>\r\n                                    <span style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.5)' }}>Use a mesma fonte para t├¡tulos e corpo (Estilo Su├¡├ºo/Minimalista)</span>\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => updateState('useSingleFont', !state.useSingleFont)}\r\n                                style={{ background: 'transparent', border: 'none', cursor: 'pointer' }}\r\n                            >\r\n                                <div style={{ width: 44, height: 24, background: state.useSingleFont ? 'var(--primary)' : 'rgba(255,255,255,0.1)', borderRadius: 20, position: 'relative', transition: 'all 0.3s', boxShadow: state.useSingleFont ? '0 0 10px rgba(245, 165, 36, 0.4)' : 'none' }}>\r\n                                    <div style={{ width: 18, height: 18, background: 'white', borderRadius: '50%', position: 'absolute', top: 3, left: state.useSingleFont ? 23 : 3, transition: 'all 0.3s cubic-bezier(0.22, 1, 0.36, 1)' }} />\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className={styles.grid2} style={{ marginBottom: '2.5rem' }}>\r\n                            {(state.useSingleFont ? SINGLE_FONTS : FONTS).map(f => (\r\n                                <div\r\n                                    key={f.id}\r\n                                    className={`${styles.card} ${state.typography === f.id ? styles.selected : ''}`}\r\n                                    onClick={() => updateState('typography', f.id)}\r\n                                    style={{\r\n                                        padding: '1.5rem',\r\n                                        flexDirection: 'row',\r\n                                        textAlign: 'left',\r\n                                        gap: '1.5rem',\r\n                                        alignItems: 'center',\r\n                                        background: state.typography === f.id ? 'rgba(245, 165, 36, 0.05)' : 'rgba(0,0,0,0.4)',\r\n                                        border: state.typography === f.id ? '1px solid var(--primary)' : '1px solid rgba(255,255,255,0.08)'\r\n                                    }}\r\n                                >\r\n                                    <div style={{\r\n                                        fontSize: '2.5rem',\r\n                                        lineHeight: 1,\r\n                                        fontWeight: state.fontWeight === 'bold' ? 700 : state.fontWeight === 'medium' ? 500 : state.fontWeight === 'light' ? 300 : 400, // Dynamic Weight\r\n                                        color: state.typography === f.id ? 'var(--primary)' : 'rgba(255,255,255,0.8)',\r\n                                        fontFamily: f.value, // Using the actual font-family value for preview\r\n                                        background: state.typography === f.id ? 'rgba(245, 165, 36, 0.1)' : 'rgba(255,255,255,0.05)',\r\n                                        width: '64px',\r\n                                        height: '64px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        borderRadius: '12px',\r\n                                        border: '1px solid rgba(255,255,255,0.05)',\r\n                                        transition: 'all 0.3s'\r\n                                    }}>\r\n                                        Aa\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                        <span className={styles.cardTitle} style={{ fontSize: '1.1rem', marginBottom: '0.3rem', fontFamily: f.value, fontWeight: state.fontWeight === 'bold' ? 700 : state.fontWeight === 'medium' ? 500 : state.fontWeight === 'light' ? 300 : 400 }}>{f.label}</span>\r\n                                        <span className={styles.cardDesc} style={{ fontSize: '0.8rem', opacity: 0.6 }}>{f.desc}</span>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div style={{ marginBottom: '2rem' }}>\r\n                            <label className={styles.label} style={{ marginBottom: '1rem', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '1rem', color: 'white' }}>\r\n                                <ArrowUpRight size={18} style={{ color: 'var(--primary)' }} />\r\n                                Peso dos T├¡tulos (Heading Weight)\r\n                            </label>\r\n                            <div className={`${styles.featuresGrid} ${styles.weightGrid}`} style={{ gap: '0.75rem' }}>\r\n                                {FONT_WEIGHTS.map(w => (\r\n                                    <button\r\n                                        key={w.id}\r\n                                        onClick={() => updateState('fontWeight', w.id)}\r\n                                        className={styles.chip}\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            justifyContent: 'center',\r\n                                            padding: '0.8rem',\r\n                                            borderRadius: '10px',\r\n                                            background: state.fontWeight === w.id ? 'var(--primary)' : 'rgba(255,255,255,0.03)',\r\n                                            color: state.fontWeight === w.id ? '#000' : 'rgba(255,255,255,0.6)',\r\n                                            borderColor: state.fontWeight === w.id ? 'var(--primary)' : 'transparent',\r\n                                            fontWeight: w.id === 'bold' ? 700 : w.id === 'medium' ? 500 : w.id === 'light' ? 300 : 400,\r\n                                            fontSize: '0.9rem',\r\n                                            boxShadow: state.fontWeight === w.id ? '0 4px 12px rgba(245, 165, 36, 0.3)' : 'none'\r\n                                        }}\r\n                                    >\r\n                                        {w.label}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Pro Tip - Minimal */}\r\n                        <p style={{\r\n                            marginTop: '1.5rem',\r\n                            fontSize: '0.8rem',\r\n                            color: 'rgba(255,255,255,0.45)',\r\n                            fontStyle: 'italic',\r\n                            lineHeight: 1.6,\r\n                            borderLeft: '2px solid rgba(255,255,255,0.1)',\r\n                            paddingLeft: '1rem'\r\n                        }}>\r\n                            <strong style={{ color: 'rgba(255,255,255,0.6)', fontStyle: 'normal' }}>Nota:</strong> Sans-Serif para tech/moderno. Serifadas para luxo/autoridade. Nunca sacrifique legibilidade.\r\n                        </p>\r\n                    </>\r\n                );\r\n\r\n            case 9: // Sections (shifted)\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Estrutura da P├ígina</h2>\r\n                            <p className={styles.stepDescription}>Marque as se├º├Áes que voc├¬ deseja incluir.</p>\r\n                        </div>\r\n                        <div className={styles.featuresGrid}>\r\n                            {SECTIONS_LIST.map(sec => (\r\n                                <div\r\n                                    key={sec.id}\r\n                                    className={`${styles.featureCard} ${state.sections.includes(sec.id) ? styles.active : ''}`}\r\n                                    onClick={() => toggleSection(sec.id)}\r\n                                >\r\n                                    <div className={styles.checkbox}>\r\n                                        {state.sections.includes(sec.id) && <Check size={14} color=\"#000\" />}\r\n                                    </div>\r\n                                    <span>{sec.label}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            case 10: // Content Details (shifted)\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Detalhes Finais</h2>\r\n                            <p className={styles.stepDescription}>Adicione informa├º├Áes espec├¡ficas para a IA.</p>\r\n                        </div>\r\n\r\n                        <div className={styles.inputGroup}>\r\n                            <label className={styles.label}>Oferta Principal / Diferencial</label>\r\n                            <textarea\r\n                                className={styles.textarea}\r\n                                placeholder=\"Ex: 50% de desconto na primeira consulta, Frete Gr├ítis...\"\r\n                                value={state.mainOffer}\r\n                                onChange={e => updateState('mainOffer', e.target.value)}\r\n                                style={{ minHeight: '100px' }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className={styles.inputGroup} style={{ marginTop: '1.5rem' }}>\r\n                            <label className={styles.label}>Informa├º├Áes de Contato / Links</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: WhatsApp: (11) 99999-9999, Instagram: @marca\"\r\n                                value={state.contactInfo}\r\n                                onChange={e => updateState('contactInfo', e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className={styles.inputGroup} style={{ marginTop: '1.5rem' }}>\r\n                            <label className={styles.label}>Tom de Voz</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                placeholder=\"Ex: Descontra├¡do, S├®rio, Luxuoso...\"\r\n                                value={state.tone}\r\n                                onChange={e => updateState('tone', e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                );\r\n            case 8: // Platform Selection (NEW)\r\n                return (\r\n                    <>\r\n                        <div className={styles.stepHeader}>\r\n                            <h2 className={styles.stepTitle}>Plataforma de Constru├º├úo</h2>\r\n                            <p className={styles.stepDescription}>\r\n                                Onde voc├¬ vai buildar esse projeto?\r\n                                <br />\r\n                                <span style={{ opacity: 0.6, fontSize: '0.9em' }}>Otimizaremos o prompt especificamente para a \"mente\" da IA escolhida.</span>\r\n                            </p>\r\n                        </div>\r\n                        <div className={styles.grid2}>\r\n                            {PLATFORMS.map(p => (\r\n                                <div\r\n                                    key={p.id}\r\n                                    className={`${styles.card} ${state.targetPlatform === p.id ? styles.selected : ''}`}\r\n                                    onClick={() => updateState('targetPlatform', p.id)}\r\n                                    style={{\r\n                                        padding: '1.5rem',\r\n                                        alignItems: 'center', // Center align for stronger visual\r\n                                        textAlign: 'center', // Center text \r\n                                        gap: '1.2rem',\r\n                                        background: state.targetPlatform === p.id ? p.activeBg : 'rgba(255,255,255,0.02)',\r\n                                        borderColor: state.targetPlatform === p.id ? p.borderColor : 'rgba(255,255,255,0.08)',\r\n                                        boxShadow: state.targetPlatform === p.id ? `0 0 40px ${p.activeColor}33` : 'none', // Stronger glow\r\n                                        position: 'relative',\r\n                                        overflow: 'visible', // Allow glow/badge to pop\r\n                                        transform: state.targetPlatform === p.id ? 'scale(1.02)' : 'scale(1)',\r\n                                        transition: 'all 0.4s cubic-bezier(0.22, 1, 0.36, 1)'\r\n                                    }}\r\n                                >\r\n                                    {/* Recommended Badge */}\r\n                                    {p.recommended && (\r\n                                        <div style={{\r\n                                            position: 'absolute',\r\n                                            top: '-10px',\r\n                                            right: '12px',\r\n                                            background: 'linear-gradient(90deg, #ec4899, #8b5cf6)', // Pink to Purple gradient\r\n                                            padding: '6px 12px',\r\n                                            borderRadius: '20px',\r\n                                            fontSize: '0.7rem',\r\n                                            fontWeight: 800,\r\n                                            color: 'white',\r\n                                            letterSpacing: '0.8px',\r\n                                            textTransform: 'uppercase',\r\n                                            boxShadow: '0 4px 15px rgba(236, 72, 153, 0.4)',\r\n                                            zIndex: 10\r\n                                        }}>\r\n                                            Recomendado\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className={styles.cardIcon} style={{\r\n                                        background: state.targetPlatform === p.id ? 'rgba(255,255,255,0.08)' : 'rgba(255,255,255,0.03)',\r\n                                        padding: '16px',\r\n                                        borderRadius: '16px',\r\n                                        width: '80px',\r\n                                        height: '80px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        transition: 'all 0.3s',\r\n                                        border: state.targetPlatform === p.id ? `1px solid ${p.activeColor}44` : '1px solid rgba(255,255,255,0.05)'\r\n                                    }}>\r\n                                        <div style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n                                            <Image\r\n                                                src={p.logo}\r\n                                                alt={p.label}\r\n                                                fill\r\n                                                style={{\r\n                                                    objectFit: 'contain',\r\n                                                    // High visibility mode: Minimal grayscale, high opacity\r\n                                                    filter: state.targetPlatform === p.id ? 'none' : 'grayscale(20%) opacity(0.9)',\r\n                                                    transition: 'all 0.4s ease'\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ marginTop: '0.5rem', marginBottom: '0.5rem' }}>\r\n                                        <span className={styles.cardTitle} style={{ fontSize: '1.2rem', display: 'block', marginBottom: '0.4rem', fontWeight: 600 }}>{p.label}</span>\r\n                                        <span className={styles.cardDesc} style={{ fontSize: '0.85rem', opacity: 0.6, lineHeight: 1.5, maxWidth: '220px', margin: '0 auto' }}>{p.desc}</span>\r\n                                    </div>\r\n\r\n                                    {/* Refined Selection Indicator - Integrated Ring */}\r\n                                    <div style={{\r\n                                        marginTop: 'auto',\r\n                                        width: '24px',\r\n                                        height: '24px',\r\n                                        borderRadius: '50%',\r\n                                        border: state.targetPlatform === p.id ? 'none' : '2px solid rgba(255,255,255,0.2)',\r\n                                        background: state.targetPlatform === p.id ? p.activeColor : 'transparent',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        justifyContent: 'center',\r\n                                        transition: 'all 0.3s ease',\r\n                                        boxShadow: state.targetPlatform === p.id ? `0 2px 8px ${p.activeColor}66` : 'none'\r\n                                    }}>\r\n                                        {state.targetPlatform === p.id && (\r\n                                            <Check size={14} color={p.activeColor === '#ffffff' ? 'black' : 'white'} strokeWidth={3} />\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n\r\n            <Link href=\"/dashboard\" className={styles.closeButton} aria-label=\"Voltar para o Dashboard\">\r\n                <X size={24} />\r\n            </Link>\r\n            {step <= 10 ? (\r\n                <div className={styles.wizardCard}>\r\n                    {/* Progress Bar (Dynamic based on mode) */}\r\n                    <div className={styles.progressBar}>\r\n                        <div\r\n                            className={styles.progressFill}\r\n                            style={{\r\n                                width: state.mode === 'portfolio'\r\n                                    ? step === 0 ? '5%' : '50%'\r\n                                    : `${(step / 10) * 100}%`\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={styles.stepIndicator}>\r\n                        {state.mode === 'portfolio' && step > 0 ? 'Passo R├ípido' : `Passo ${step === 0 ? 'Inicial' : step} de ${state.mode === 'portfolio' ? 1 : 10}`}\r\n                    </div>\r\n\r\n                    <div className={styles.contentArea}>\r\n                        <AnimatePresence mode=\"wait\">\r\n                            <motion.div\r\n                                key={step}\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                transition={{ duration: 0.3 }}\r\n                                style={{ width: '100%' }}\r\n                            >\r\n                                {renderStepContent()}\r\n                            </motion.div>\r\n                        </AnimatePresence>\r\n                    </div>\r\n\r\n                    <div className={styles.actions}>\r\n                        <button\r\n                            className={styles.backButton}\r\n                            onClick={prevStep}\r\n                            disabled={step === 0}\r\n                            style={{ opacity: step === 0 ? 0.3 : 1, cursor: step === 0 ? 'default' : 'pointer' }}\r\n                        >\r\n                            <ChevronDown style={{ transform: 'rotate(90deg)' }} size={20} /> Voltar\r\n                        </button>\r\n\r\n                        <button\r\n                            className={styles.nextButton}\r\n                            onClick={nextStep}\r\n                            disabled={isNextDisabled()}\r\n                            style={{ opacity: isNextDisabled() ? 0.5 : 1 }}\r\n                        >\r\n                            {(state.mode === 'portfolio' && step === 1) || step === 10\r\n                                ? 'Gerar M├ígica'\r\n                                : <>Pr├│ximo <ChevronDown style={{ transform: 'rotate(-90deg)' }} size={20} /></>\r\n                            }\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className={styles.resultCard} style={{ background: 'transparent', border: 'none', boxShadow: 'none' }}>\r\n                    <div className={styles.resultHeader}>\r\n                        <h2 className={styles.resultTitle}>Seu Prompt est├í Pronto</h2>\r\n                        <p className={styles.resultDesc}>Agora ├® s├│ copiar e colar no <b>{state.targetPlatform}</b>.</p>\r\n                    </div>\r\n\r\n                    {isGenerating ? (\r\n                        <div className={styles.loadingOverlay} style={{ position: 'relative', height: '300px', background: 'transparent', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                            <TextShimmer\r\n                                className=\"text-lg font-medium text-center [--base-color:theme(colors.zinc.500)] [--base-gradient-color:theme(colors.white)]\"\r\n                                duration={1.5}\r\n                            >\r\n                                {state.mode === 'portfolio' ? 'A IA est├í imaginando seu portf├│lio completo...' : `Otimizando especifica├º├Áes para ${state.targetPlatform}...`}\r\n                            </TextShimmer>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={styles.editorWindow}>\r\n                            <div className={styles.editorHeader}>\r\n                                <div className={styles.windowControls}>\r\n                                    <div className={styles.controlDot} style={{ background: '#FF5F56' }} />\r\n                                    <div className={styles.controlDot} style={{ background: '#FFBD2E' }} />\r\n                                    <div className={styles.controlDot} style={{ background: '#27C93F' }} />\r\n                                </div>\r\n                                <span className={styles.fileName}>prompt_landing_page.md</span>\r\n                                <div style={{ flex: 1 }} />\r\n                                <div className={styles.badge}>{state.targetPlatform} Mode</div>\r\n                            </div>\r\n\r\n                            <div className={styles.editorBody}>\r\n                                <pre className={styles.promptContent}>{generatedPrompt}</pre>\r\n                            </div>\r\n\r\n                            <div className={styles.editorFooter}>\r\n                                <button className={styles.copyActionResult} onClick={handleCopy}>\r\n                                    {copied ? <Check size={18} /> : <Copy size={18} />}\r\n                                    {copied ? 'Copiado!' : 'Copiar Prompt'}\r\n                                </button>\r\n                                <button className={styles.secondaryAction} onClick={() => setStep(0)}>\r\n                                    Criar Novo\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ScrollReveal' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":22},{"ruleId":"@next/next/no-page-custom-font","severity":1,"message":"Custom fonts not added in `pages/_document.js` will only load for a single page. This is discouraged. See: https://nextjs.org/docs/messages/no-page-custom-font","line":23,"column":9,"nodeType":"JSXOpeningElement","endLine":23,"endColumn":793}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Metadata } from \"next\";\nimport \"./globals.css\";\nimport { Header } from \"./components/Header/Header\";\n\nexport const metadata: Metadata = {\n  title: \"Promptly - Gerador de Prompts Profissional\",\n  description: \"Transforme ideias em prompts t├®cnicos para IA.\",\n};\n\nimport { FloatingUsage } from \"./components/FloatingUsage/FloatingUsage\";\nimport { ScrollReveal } from \"./components/ScrollReveal/ScrollReveal\";\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"pt-BR\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=JetBrains+Mono:wght@100..800&family=Lora:ital,wght@0,400..700;1,400..700&family=Merriweather:wght@300;400;700;900&family=Montserrat:wght@100..900&family=Nunito:wght@400;600;700&family=Open+Sans:wght@300..800&family=Oswald:wght@200..700&family=Playfair+Display:wght@400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100..900&family=Roboto:wght@100;300;400;500;700;900&family=Space+Grotesk:wght@300..700&family=Plus+Jakarta+Sans:wght@200..800&family=Outfit:wght@100..900&family=Syne:wght@400..800&family=Urbanist:wght@100..900&family=Cormorant+Garamond:wght@300..700&family=IBM+Plex+Mono:wght@100..700&family=Unbounded:wght@200..900&display=swap\" rel=\"stylesheet\" />\n      </head>\n      <body>\n        <Header />\n        <FloatingUsage />\n        {children}\n      </body>\n    </html>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1093,1096],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1093,1096],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":49,"column":29,"nodeType":"JSXOpeningElement","endLine":49,"endColumn":91}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { supabase } from '../../lib/supabase';\r\nimport styles from './auth.module.css';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Eye, EyeOff } from 'lucide-react';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const { error: loginError } = await supabase.auth.signInWithPassword({\r\n                email,\r\n                password,\r\n            });\r\n\r\n            if (loginError) throw loginError;\r\n\r\n            router.push('/dashboard');\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erro ao entrar. Verifique suas credenciais.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.card}>\r\n                <div className={styles.header}>\r\n                    <Link href=\"/\" className={styles.brand}>\r\n                        <div className={styles.logoWrapper}>\r\n                            <div className={styles.logoGlow} />\r\n                            <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                        </div>\r\n                    </Link>\r\n                    <h1 className={styles.title}>Bem-vindo de volta</h1>\r\n                    <p className={styles.subtitle}>Entre na sua conta Promptly</p>\r\n                </div>\r\n\r\n                <form className={styles.form} onSubmit={handleLogin}>\r\n                    {error && <div className={styles.error}>{error}</div>}\r\n                    <div className={styles.field}>\r\n                        <label className={styles.label} htmlFor=\"email\">Email</label>\r\n                        <input\r\n                            className={styles.input}\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"nome@exemplo.com\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className={styles.field}>\r\n                        <label className={styles.label} htmlFor=\"password\">Senha</label>\r\n                        <div className={styles.passwordWrapper}>\r\n                            <input\r\n                                className={styles.input}\r\n                                id=\"password\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                className={styles.eyeButton}\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                tabIndex={-1}\r\n                            >\r\n                                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                            </button>\r\n                        </div>\r\n                        <Link href=\"/forgot-password\" className={styles.forgotLink}>\r\n                            Esqueceu sua senha?\r\n                        </Link>\r\n                    </div>\r\n                    <Button\r\n                        variant=\"primary\"\r\n                        type=\"submit\"\r\n                        className={styles.submitButton}\r\n                        loading={loading}\r\n                    >\r\n                        {loading ? 'Entrando...' : 'Entrar'}\r\n                    </Button>\r\n                </form>\r\n                <div className={styles.footer}>\r\n                    N├úo tem uma conta?\r\n                    <Link href=\"/signup\" className={styles.link}>Cadastre-se</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\pricing\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[500,503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[500,503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { Footer } from '../components/Footer/Footer';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Check } from 'lucide-react';\r\nimport styles from './page.module.css';\r\nimport { ScrollReveal } from '../components/ScrollReveal/ScrollReveal';\r\nimport ElectricBorder from '../components/ElectricBorder/ElectricBorder';\r\n\r\nexport default function PricingPage() {\r\n    const [user, setUser] = React.useState<any>(null);\r\n\r\n    React.useEffect(() => {\r\n        const checkUser = async () => {\r\n            const { data: { session } } = await import('../../lib/supabase').then(m => m.supabase.auth.getSession());\r\n\r\n            if (session?.user) {\r\n                const { data: profile } = await import('../../lib/supabase').then(m => m.supabase\r\n                    .from('users')\r\n                    .select('plano_ativo')\r\n                    .eq('id', session.user.id)\r\n                    .single()\r\n                );\r\n\r\n                setUser({ ...session.user, plan: profile?.plano_ativo });\r\n            }\r\n        };\r\n        checkUser();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <main className={styles.main}>\r\n                {/* Hero section */}\r\n                <ScrollReveal>\r\n                    <section className={styles.hero}>\r\n                        <h1 className={styles.heroTitle}>\r\n                            Escolha o plano ideal para criar seus sites com prompts profissionais.\r\n                        </h1>\r\n                        <p className={styles.heroSubtitle}>\r\n                            Transforme suas ideias em especifica├º├Áes t├®cnicas de alta fidelidade.\r\n                            Comece hoje mesmo sem custos e evolua seu plano conforme sua necessidade cresce.\r\n                        </p>\r\n                        {!user && (\r\n                            <Link href=\"/signup\">\r\n                                <Button variant=\"primary\" className={styles.heroButton}>\r\n                                    Come├ºar gr├ítis agora\r\n                                </Button>\r\n                            </Link>\r\n                        )}\r\n                    </section>\r\n                </ScrollReveal>\r\n\r\n                {/* Pricing Table */}\r\n                <ScrollReveal delay={0.2}>\r\n                    <section className={styles.pricingSection}>\r\n                        <div className={styles.pricingGrid}>\r\n                            {/* Free Plan */}\r\n                            <div className={styles.card}>\r\n                                <ElectricBorder color=\"#F5A524\" />\r\n                                <div className={styles.cardHeader}>\r\n                                    <h2 className={styles.planName}>Free</h2>\r\n                                    <div className={styles.price}>\r\n                                        <span className={styles.currency}>R$</span>\r\n                                        <span className={styles.amount}>0,00</span>\r\n                                        <span className={styles.period}>/m├¬s</span>\r\n                                    </div>\r\n                                    <p className={styles.cardDescription}>Ideal para testar o poder da nossa engine.</p>\r\n                                </div>\r\n\r\n                                <ul className={styles.features}>\r\n                                    <li><Check size={16} /> <strong>5 prompts</strong> por m├¬s</li>\r\n                                    <li><Check size={16} /> Assistente guiado inteligente</li>\r\n                                    <li><Check size={16} /> Especifica├º├Áes t├®cnicas b├ísicas</li>\r\n                                    <li><Check size={16} /> Atualiza├º├Áes de sistema inclusas</li>\r\n                                </ul>\r\n\r\n                                <div className={styles.cardFooter}>\r\n                                    <p className={styles.note}>Ativado automaticamente ao criar sua conta. No credit card required.</p>\r\n                                    {(!user?.plan || user?.plan?.toLowerCase() === 'free') ? (\r\n                                        <Button variant=\"outline\" fullWidth disabled>Plano Atual</Button>\r\n                                    ) : (\r\n                                        <Link href=\"/signup\">\r\n                                            <Button variant=\"outline\" fullWidth>Criar conta e usar Free</Button>\r\n                                        </Link>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Starter Plan */}\r\n                            <div className={`${styles.card} ${styles.popular}`}>\r\n                                <ElectricBorder color=\"#F5A524\" />\r\n                                <div className={styles.popularBadge}>Mais Popular</div>\r\n                                <div className={styles.cardHeader}>\r\n                                    <h2 className={styles.planName}>Starter</h2>\r\n                                    <div className={styles.price}>\r\n                                        <span className={styles.currency}>R$</span>\r\n                                        <span className={styles.amount}>9,90</span>\r\n                                        <span className={styles.period}>/m├¬s</span>\r\n                                    </div>\r\n                                    <p className={styles.cardDescription}>O equil├¡brio perfeito para desenvolvedores independentes.</p>\r\n                                </div>\r\n\r\n                                <ul className={styles.features}>\r\n                                    <li><Check size={16} /> <strong>100 prompts</strong> por m├¬s</li>\r\n                                    <li><Check size={16} /> Acesso total ao assistente guiado</li>\r\n                                    <li><Check size={16} /> Arquiteturas de sistema detalhadas</li>\r\n                                    <li><Check size={16} /> Suporte priorit├írio via ticket</li>\r\n                                </ul>\r\n\r\n                                <div className={styles.cardFooter}>\r\n                                    <p className={styles.note}>Cancele quando quiser.</p>\r\n                                    {user?.plan?.toUpperCase() === 'STARTER' ? (\r\n                                        <Button variant=\"outline\" fullWidth disabled>Plano Atual</Button>\r\n                                    ) : (\r\n                                        <Link href={user ? \"/checkout?plan=STARTER\" : \"/signup\"}>\r\n                                            <Button variant=\"primary\" fullWidth>\r\n                                                {user ? \"Fazer Upgrade para Starter\" : \"Assinar Starter\"}\r\n                                            </Button>\r\n                                        </Link>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Pro Plan */}\r\n                            <div className={styles.card}>\r\n                                <ElectricBorder color=\"#F5A524\" />\r\n                                <div className={styles.cardHeader}>\r\n                                    <h2 className={styles.planName}>Pro</h2>\r\n                                    <div className={styles.price}>\r\n                                        <span className={styles.currency}>R$</span>\r\n                                        <span className={styles.amount}>27,90</span>\r\n                                        <span className={styles.period}>/m├¬s</span>\r\n                                    </div>\r\n                                    <p className={styles.cardDescription}>Pot├¬ncia m├íxima para ag├¬ncias e profissionais de elite.</p>\r\n                                </div>\r\n\r\n                                <ul className={styles.features}>\r\n                                    <li><Check size={16} /> <strong>400 prompts</strong> por m├¬s</li>\r\n                                    <li><Check size={16} /> Maior limite de gera├º├Áes do mercado</li>\r\n                                    <li><Check size={16} /> Suporte priorit├írio via Direct</li>\r\n                                    <li><Check size={16} /> Exporta├º├úo avan├ºada de requisitos</li>\r\n                                </ul>\r\n\r\n                                <div className={styles.cardFooter}>\r\n                                    <p className={styles.note}>Faturamento mensal sem fidelidade.</p>\r\n                                    {user?.plan?.toUpperCase() === 'PRO' ? (\r\n                                        <Button variant=\"outline\" fullWidth disabled>Plano Atual</Button>\r\n                                    ) : (\r\n                                        <Link href={user ? \"/checkout?plan=PRO\" : \"/signup\"}>\r\n                                            <Button variant=\"outline\" fullWidth>\r\n                                                {user ? \"Fazer Upgrade para Pro\" : \"Assinar Pro\"}\r\n                                            </Button>\r\n                                        </Link>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </ScrollReveal>\r\n\r\n                {/* Additional Info */}\r\n                <ScrollReveal delay={0.2}>\r\n                    <section className={styles.infoSection}>\r\n                        <h3 className={styles.infoTitle}>Flexibilidade total para sua jornada</h3>\r\n                        <div className={styles.infoGrid}>\r\n                            <div className={styles.infoBlock}>\r\n                                <h4>Comece Gr├ítis</h4>\r\n                                <p>Basta criar sua conta para ganhar 5 prompts todos os meses. Sem pegadinhas, sem cart├úo.</p>\r\n                            </div>\r\n                            <div className={styles.infoBlock}>\r\n                                <h4>Evolu├º├úo Simples</h4>\r\n                                <p>Precisa de mais? Fa├ºa o upgrade para os planos Starter ou Pro a qualquer momento e o novo limite ├® liberado instantaneamente.</p>\r\n                            </div>\r\n                            <div className={styles.infoBlock}>\r\n                                <h4>Pagamento Transparente</h4>\r\n                                <p>A cobran├ºa ├® feita mensalmente via cart├úo de cr├®dito ou PIX. O cancelamento ├® simples e pode ser feito direto no seu painel.</p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </ScrollReveal>\r\n\r\n                {/* FAQ */}\r\n                <ScrollReveal delay={0.2}>\r\n                    <section className={styles.faqSection}>\r\n                        <h3 className={styles.faqHeader}>Perguntas Frequentes</h3>\r\n                        <div className={styles.faqGrid}>\r\n                            <div className={styles.faqItem}>\r\n                                <h5>O que acontece quando eu atingir o limite de prompts?</h5>\r\n                                <p>No plano Free, o limite reinicia no pr├│ximo m├¬s. Nos planos pagos, voc├¬ pode optar por fazer um upgrade para um plano maior ou aguardar o pr├│ximo ciclo de cobran├ºa.</p>\r\n                            </div>\r\n                            <div className={styles.faqItem}>\r\n                                <h5>Posso mudar de plano depois?</h5>\r\n                                <p>Com certeza! Voc├¬ pode subir ou descer de plano (upgrade ou downgrade) a qualquer momento diretamente nas configura├º├Áes da sua conta.</p>\r\n                            </div>\r\n                            <div className={styles.faqItem}>\r\n                                <h5>Preciso cadastrar um cart├úo para usar o plano Free?</h5>\r\n                                <p>N├úo. O plano Free ├® 100% gratuito e n├úo exige nenhuma informa├º├úo banc├íria. Queremos que voc├¬ sinta o poder da ferramenta antes de decidir investir.</p>\r\n                            </div>\r\n                            <div className={styles.faqItem}>\r\n                                <h5>Como funciona o cancelamento dos planos pagos?</h5>\r\n                                <p>Sem letras mi├║das. Se decidir cancelar, voc├¬ continuar├í com acesso aos benef├¡cios do seu plano atual at├® o final do per├¡odo j├í pago.</p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </ScrollReveal>\r\n            </main>\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\projects\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Header' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[870,873],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[870,873],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchProject'. Either include it or remove the dependency array.","line":29,"column":8,"nodeType":"ArrayExpression","endLine":29,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProject, id]","fix":{"range":[1212,1216],"text":"[fetchProject, id]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4109,4112],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4109,4112],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState, use } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { supabase } from '../../../lib/supabase';\r\nimport { Header } from '../../components/Header/Header';\r\nimport { Button } from '../../components/Button/Button';\r\nimport { ArrowLeft, Copy, PenLine, RefreshCw } from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport styles from './project-detail.module.css';\r\n\r\nimport { extractVariables, fillVariables } from '../../../utils/prompt-utils';\r\n\r\n// Note: Since Next.js 15+, params are async in layouts/pages. \r\n// We should use `use(params)` or handle `params` as a Promise.\r\nexport default function ProjectDetailPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const { id } = use(params);\r\n    const router = useRouter();\r\n    const [project, setProject] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Dynamic Variables State\r\n    const [variables, setVariables] = useState<Record<string, string>>({});\r\n    const [detectedVars, setDetectedVars] = useState<string[]>([]);\r\n\r\n    useEffect(() => {\r\n        console.log('Project ID:', id);\r\n        fetchProject();\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        if (project?.generated_content) {\r\n            const vars = extractVariables(project.generated_content);\r\n            setDetectedVars(vars);\r\n\r\n            // Initialize empty values for new vars (persisting existing ones if re-parsing)\r\n            setVariables(prev => {\r\n                const newState = { ...prev };\r\n                vars.forEach(v => {\r\n                    if (!newState[v]) newState[v] = '';\r\n                });\r\n                return newState;\r\n            });\r\n        }\r\n    }, [project?.generated_content]);\r\n\r\n    const fetchProject = async () => {\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('projects')\r\n                .select('*')\r\n                .eq('id', id)\r\n                .single();\r\n\r\n            if (error) throw error;\r\n            setProject(data);\r\n        } catch (error) {\r\n            console.error('Erro ao carregar projeto:', error);\r\n            router.push('/projects');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        if (project?.generated_content) {\r\n            // Use filled content if variables exist, otherwise original\r\n            const contentToCopy = detectedVars.length > 0\r\n                ? fillVariables(project.generated_content, variables)\r\n                : project.generated_content;\r\n\r\n            navigator.clipboard.writeText(contentToCopy);\r\n            alert('Prompt copiado para a ├írea de transfer├¬ncia!');\r\n        }\r\n    };\r\n\r\n    const handleEdit = () => {\r\n        if (project?.inputs) {\r\n            // Save inputs to localStorage to be picked up by dashboard\r\n            localStorage.setItem('promptly_draft', JSON.stringify({\r\n                ...project.inputs,\r\n                promptMode: project.inputs.promptMode || 'mvp'\r\n            }));\r\n            router.push('/dashboard');\r\n        }\r\n    };\r\n\r\n    const handleRegenerate = async () => {\r\n        if (!project?.inputs || loading) return;\r\n\r\n        const confirmRegen = window.confirm(\"Isso ir├í gerar uma nova vers├úo e substituir o conte├║do atual. Deseja continuar?\");\r\n        if (!confirmRegen) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch('/api/generate', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    ...project.inputs,\r\n                    promptMode: project.inputs.promptMode || 'mvp'\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                alert(`Erro: ${data.error || 'Falha ao regenerar.'}`);\r\n            } else {\r\n                // Update local state and ideally refetch to sync with DB if API updates DB (it does)\r\n                setProject((prev: any) => ({ ...prev, generated_content: data.result }));\r\n                alert(\"Conte├║do regenerado com sucesso!\");\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Erro de conex├úo.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleVariableChange = (key: string, value: string) => {\r\n        setVariables(prev => ({ ...prev, [key]: value }));\r\n    };\r\n\r\n    if (loading) return <div className={styles.loading}>Carregando...</div>;\r\n    if (!project) return null;\r\n\r\n    return (\r\n        <div className={styles.page}>\r\n            <main className={styles.container}>\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    onClick={() => router.back()}\r\n                    className={styles.backBtn}\r\n                >\r\n                    <ArrowLeft size={20} style={{ marginRight: '0.5rem' }} /> Voltar\r\n                </Button>\r\n\r\n                <div className={styles.header}>\r\n                    <h1 className={styles.title}>{project.title}</h1>\r\n                    <div className={styles.tags}>\r\n                        {project.inputs?.appName && (\r\n                            <span className={styles.tag}>\r\n                                {project.inputs.appName}\r\n                            </span>\r\n                        )}\r\n                        {project.inputs?.appType && (\r\n                            <span className={styles.tag}>\r\n                                {project.inputs.appType}\r\n                            </span>\r\n                        )}\r\n                        <span className={`${styles.tag} ${styles.tagOrange}`}>\r\n                            {project.inputs?.promptMode || 'Geral'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.layout}>\r\n\r\n                    {/* Conte├║do Gerado */}\r\n                    <div className={styles.contentSection}>\r\n                        <div className={styles.sectionHeader}>\r\n                            <h2 className={styles.sectionTitle}>Prompt Gerado</h2>\r\n                            <Button variant=\"ghost\" onClick={handleCopy} title=\"Copiar Prompt Preenchido\">\r\n                                <Copy size={18} style={{ marginRight: detectedVars.length > 0 ? '0.5rem' : 0 }} />\r\n                                {detectedVars.length > 0 ? 'Copiar Preenchido' : ''}\r\n                            </Button>\r\n                        </div>\r\n                        <div className={styles.markdownContent}>\r\n                            <ReactMarkdown>\r\n                                {fillVariables(project.generated_content || '', variables)}\r\n                            </ReactMarkdown>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Sidebar de A├º├Áes e Inputs */}\r\n                    <div className={styles.sidebar}>\r\n\r\n                        {/* Dynamic Variables Section */}\r\n                        {detectedVars.length > 0 && (\r\n                            <div className={styles.card} style={{ borderColor: 'rgba(16, 185, 129, 0.3)', background: 'rgba(16, 185, 129, 0.05)' }}>\r\n                                <h3 className={styles.cardTitle} style={{ color: '#10B981', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                                    Ô£¿ Vari├íveis Din├ómicas\r\n                                </h3>\r\n                                <p style={{ fontSize: '0.85rem', color: '#aaa', marginBottom: '1rem' }}>\r\n                                    Preencha abaixo para personalizar o prompt.\r\n                                </p>\r\n                                <div className={styles.inputsList}>\r\n                                    {detectedVars.map(variable => (\r\n                                        <div key={variable} className={styles.inputGroup}>\r\n                                            <span className={styles.label} style={{ color: '#fff' }}>{variable}</span>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                className={styles.value} // reusing styles.value usually works if it's text-like, but might need input specific style\r\n                                                style={{\r\n                                                    width: '100%',\r\n                                                    background: 'rgba(0,0,0,0.3)',\r\n                                                    border: '1px solid rgba(255,255,255,0.1)',\r\n                                                    padding: '0.5rem',\r\n                                                    borderRadius: '6px',\r\n                                                    color: 'white',\r\n                                                    fontSize: '0.9rem',\r\n                                                    marginTop: '0.25rem'\r\n                                                }}\r\n                                                value={variables[variable] || ''}\r\n                                                onChange={(e) => handleVariableChange(variable, e.target.value)}\r\n                                                placeholder={`Valor para ${variable}...`}\r\n                                            />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className={styles.card}>\r\n                            <h3 className={styles.cardTitle}>A├º├Áes</h3>\r\n                            <div className={styles.actions}>\r\n                                <Button\r\n                                    variant=\"primary\"\r\n                                    className={styles.fullWidthBtn}\r\n                                    onClick={handleEdit}\r\n                                >\r\n                                    <PenLine size={18} style={{ marginRight: '0.5rem' }} />\r\n                                    Continuar Editando\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    className={styles.fullWidthBtn}\r\n                                    onClick={handleRegenerate}\r\n                                    loading={loading}\r\n                                >\r\n                                    <RefreshCw size={18} style={{ marginRight: '0.5rem' }} />\r\n                                    Regenerar\r\n                                </Button>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className={styles.card}>\r\n                            <h3 className={styles.cardTitle}>Inputs Originais</h3>\r\n                            <div className={styles.inputsList}>\r\n                                <div className={styles.inputGroup}>\r\n                                    <span className={styles.label}>Objetivo</span>\r\n                                    <p className={styles.value}>{project.inputs?.objective}</p>\r\n                                </div>\r\n                                {project.inputs?.stackFrontend && (\r\n                                    <div className={styles.inputGroup}>\r\n                                        <span className={styles.label}>Frontend</span>\r\n                                        <p className={styles.value}>{project.inputs.stackFrontend.join(', ')}</p>\r\n                                    </div>\r\n                                )}\r\n                                {project.inputs?.database && (\r\n                                    <div className={styles.inputGroup}>\r\n                                        <span className={styles.label}>Database</span>\r\n                                        <p className={styles.value}>{project.inputs.database}</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\projects\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":7,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[470,473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[470,473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleMouseMove' is assigned a value but never used.","line":40,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":40,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Plus, ArrowRight, Clock } from 'lucide-react';\r\nimport { ScrollReveal } from '../components/ScrollReveal/ScrollReveal';\r\n\r\nimport styles from './projects.module.css';\r\n\r\nexport default function ProjectsPage() {\r\n    const [projects, setProjects] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchProjects();\r\n    }, []);\r\n\r\n    const fetchProjects = async () => {\r\n        try {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) return;\r\n\r\n            const { data, error } = await supabase\r\n                .from('projects')\r\n                .select('*')\r\n                .eq('user_id', session.user.id)\r\n                .order('created_at', { ascending: false });\r\n\r\n            if (error) throw error;\r\n            setProjects(data || []);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar projetos:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        const target = e.currentTarget;\r\n        const rect = target.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        const y = e.clientY - rect.top;\r\n        target.style.setProperty('--mouse-x', `${x}px`);\r\n        target.style.setProperty('--mouse-y', `${y}px`);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.page}>\r\n            <main className={styles.container}>\r\n                <ScrollReveal>\r\n                    <div className={styles.header}>\r\n                        <div className={styles.titleSection}>\r\n                            <h1>Meus Projetos</h1>\r\n                            <p>Gerencie e evolua seus prompts</p>\r\n                        </div>\r\n                        <Link href=\"/dashboard\" tabIndex={-1}>\r\n                            <button className={styles.newProjectBtn}>\r\n                                <Plus size={20} />\r\n                                Novo Projeto\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </ScrollReveal>\r\n\r\n                {loading ? (\r\n                    <div className={styles.loader}>Carregando...</div>\r\n                ) : projects.length === 0 ? (\r\n                    <ScrollReveal delay={0.1}>\r\n                        <div className={styles.emptyState}>\r\n                            <h3 className={styles.emptyTitle}>Nenhum projeto ainda</h3>\r\n                            <p className={styles.emptyDesc}>Comece gerando seu primeiro prompt profissional e ele aparecer├í aqui automaticamente.</p>\r\n                            <Link href=\"/dashboard\">\r\n                                <Button variant=\"secondary\">Criar Agora</Button>\r\n                            </Link>\r\n                        </div>\r\n                    </ScrollReveal>\r\n                ) : (\r\n                    <div className={styles.grid}>\r\n                        {projects.map((project) => (\r\n                            <Link href={`/projects/${project.id}`} key={project.id} className={styles.projectLink}>\r\n                                <div className={styles.card}>\r\n                                    <div className={styles.cardHeader}>\r\n                                        <h3 className={styles.cardTitle}>\r\n                                            {project.title || 'Projeto Sem T├¡tulo'}\r\n                                        </h3>\r\n                                        <p className={styles.cardDesc}>\r\n                                            {project.inputs?.objective || 'Sem descri├º├úo'}\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    <div className={styles.cardFooter}>\r\n                                        <span className={styles.date}>\r\n                                            <Clock size={14} />\r\n                                            {new Date(project.created_at).toLocaleDateString()}\r\n                                        </span>\r\n                                        <span className={styles.status}>\r\n                                            {project.status === 'completed' ? 'Pronto' : 'Rascunho'}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\reset-password\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4371,4374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4371,4374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":126,"column":33,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":95},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":144,"column":33,"nodeType":"JSXOpeningElement","endLine":144,"endColumn":95},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":169,"column":29,"nodeType":"JSXOpeningElement","endLine":169,"endColumn":91}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { supabase } from '../../lib/supabase';\r\nimport styles from '../login/auth.module.css';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Eye, EyeOff, Check, X } from 'lucide-react';\r\n\r\nexport default function ResetPasswordPage() {\r\n    const router = useRouter();\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState(false);\r\n    const [isValidSession, setIsValidSession] = useState(false);\r\n    const [checkingSession, setCheckingSession] = useState(true);\r\n\r\n    // Password Requirements\r\n    const requirements = [\r\n        { label: 'Pelo menos 8 caracteres', test: (p: string) => p.length >= 8 },\r\n        { label: 'Uma letra mai├║scula', test: (p: string) => /[A-Z]/.test(p) },\r\n        { label: 'Uma letra min├║scula', test: (p: string) => /[a-z]/.test(p) },\r\n        { label: 'Um n├║mero', test: (p: string) => /[0-9]/.test(p) },\r\n        { label: 'Um caractere especial', test: (p: string) => /[^A-Za-z0-9]/.test(p) },\r\n    ];\r\n\r\n    const allRequirementsMet = requirements.every(req => req.test(password));\r\n\r\n    // Store recovery tokens temporarily (not as a persistent session)\r\n    const [recoveryTokens, setRecoveryTokens] = useState<{ access: string; refresh: string } | null>(null);\r\n\r\n    useEffect(() => {\r\n        const handleRecovery = async () => {\r\n            // Check URL hash for recovery tokens (Supabase sends tokens in hash fragment)\r\n            const hash = window.location.hash;\r\n\r\n            if (hash) {\r\n                // Parse hash fragment\r\n                const params = new URLSearchParams(hash.substring(1));\r\n                const accessToken = params.get('access_token');\r\n                const refreshToken = params.get('refresh_token');\r\n                const type = params.get('type');\r\n\r\n                if (type === 'recovery' && accessToken && refreshToken) {\r\n                    // Store tokens for password update, but DON'T create a persistent session\r\n                    setRecoveryTokens({ access: accessToken, refresh: refreshToken });\r\n                    setIsValidSession(true);\r\n                    setCheckingSession(false);\r\n                    // Clear hash from URL\r\n                    window.history.replaceState(null, '', window.location.pathname);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // No valid recovery tokens found\r\n            setIsValidSession(false);\r\n            setCheckingSession(false);\r\n        };\r\n\r\n        handleRecovery();\r\n    }, []);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        if (!allRequirementsMet) {\r\n            setError('A senha n├úo atende a todos os requisitos.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            setError('As senhas n├úo coincidem.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        if (!recoveryTokens) {\r\n            setError('Sess├úo de recupera├º├úo expirada. Solicite um novo link.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Create a temporary session ONLY for updating the password\r\n            const { error: sessionError } = await supabase.auth.setSession({\r\n                access_token: recoveryTokens.access,\r\n                refresh_token: recoveryTokens.refresh\r\n            });\r\n\r\n            if (sessionError) throw sessionError;\r\n\r\n            // Update the password\r\n            const { error: updateError } = await supabase.auth.updateUser({\r\n                password: password\r\n            });\r\n\r\n            if (updateError) throw updateError;\r\n\r\n            // Immediately sign out - user must login again with new password\r\n            await supabase.auth.signOut();\r\n\r\n            setSuccess(true);\r\n            setTimeout(() => router.push('/login'), 2000);\r\n        } catch (err: any) {\r\n            setError(err.message || 'Erro ao atualizar senha.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (checkingSession) {\r\n        return (\r\n            <div className={styles.container}>\r\n                <div className={styles.card}>\r\n                    <div className={styles.header}>\r\n                        <Link href=\"/\" className={styles.brand}>\r\n                            <div className={styles.logoWrapper}>\r\n                                <div className={styles.logoGlow} />\r\n                                <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                            </div>\r\n                        </Link>\r\n                        <p className={styles.subtitle}>Verificando sess├úo...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isValidSession) {\r\n        return (\r\n            <div className={styles.container}>\r\n                <div className={styles.card}>\r\n                    <div className={styles.header}>\r\n                        <Link href=\"/\" className={styles.brand}>\r\n                            <div className={styles.logoWrapper}>\r\n                                <div className={styles.logoGlow} />\r\n                                <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                            </div>\r\n                        </Link>\r\n                        <h1 className={styles.title}>Link Inv├ílido</h1>\r\n                        <p className={styles.subtitle}>\r\n                            Este link de recupera├º├úo expirou ou ├® inv├ílido.\r\n                        </p>\r\n                    </div>\r\n                    <div className={styles.footer}>\r\n                        <Link href=\"/forgot-password\" className={styles.link}>\r\n                            Solicitar novo link\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.card}>\r\n                <div className={styles.header}>\r\n                    <Link href=\"/\" className={styles.brand}>\r\n                        <div className={styles.logoWrapper}>\r\n                            <div className={styles.logoGlow} />\r\n                            <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                        </div>\r\n                    </Link>\r\n                    <h1 className={styles.title}>Nova Senha</h1>\r\n                    <p className={styles.subtitle}>\r\n                        Digite sua nova senha abaixo.\r\n                    </p>\r\n                </div>\r\n\r\n                {success ? (\r\n                    <div className={styles.success}>\r\n                        Senha atualizada com sucesso! Redirecionando...\r\n                    </div>\r\n                ) : (\r\n                    <form className={styles.form} onSubmit={handleSubmit}>\r\n                        {error && <div className={styles.error}>{error}</div>}\r\n\r\n                        <div className={styles.field}>\r\n                            <label className={styles.label} htmlFor=\"password\">Nova Senha</label>\r\n                            <div className={styles.passwordWrapper}>\r\n                                <input\r\n                                    className={styles.input}\r\n                                    id=\"password\"\r\n                                    type={showPassword ? 'text' : 'password'}\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    required\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={styles.eyeButton}\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    tabIndex={-1}\r\n                                >\r\n                                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <ul style={{ listStyle: 'none', padding: 0, margin: '0 0 1rem 0' }}>\r\n                            {requirements.map((req, i) => {\r\n                                const isMet = req.test(password);\r\n                                return (\r\n                                    <li key={i} style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '8px',\r\n                                        fontSize: '0.875rem',\r\n                                        color: isMet ? '#30D158' : '#86868B',\r\n                                        marginBottom: '4px'\r\n                                    }}>\r\n                                        {isMet ? <Check size={14} /> : <X size={14} />}\r\n                                        {req.label}\r\n                                    </li>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n\r\n                        <div className={styles.field}>\r\n                            <label className={styles.label} htmlFor=\"confirmPassword\">Confirmar Senha</label>\r\n                            <input\r\n                                className={styles.input}\r\n                                id=\"confirmPassword\"\r\n                                type=\"password\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <Button\r\n                            variant=\"primary\"\r\n                            type=\"submit\"\r\n                            className={styles.submitButton}\r\n                            loading={loading}\r\n                            disabled={!allRequirementsMet || !confirmPassword}\r\n                        >\r\n                            {loading ? 'Atualizando...' : 'Atualizar Senha'}\r\n                        </Button>\r\n                    </form>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\showcase\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2418,2421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2418,2421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":78,"column":29,"nodeType":"JSXOpeningElement","endLine":78,"endColumn":91}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { supabase } from '../../lib/supabase';\r\nimport styles from './signup.module.css';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Eye, EyeOff, CheckCircle2, Circle } from 'lucide-react';\r\n\r\nexport default function SignupPage() {\r\n    const router = useRouter();\r\n    const [fullName, setFullName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const passwordRequirements = [\r\n        { label: 'Pelo menos 8 caracteres', test: (p: string) => p.length >= 8 },\r\n        { label: 'Pelo menos um n├║mero', test: (p: string) => /[0-9]/.test(p) },\r\n        { label: 'Pelo menos um caractere especial', test: (p: string) => /[^A-Za-z0-9]/.test(p) },\r\n    ];\r\n\r\n    const isPasswordStrong = passwordRequirements.every(req => req.test(password));\r\n\r\n    const handleSignup = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!isPasswordStrong) {\r\n            setError('Por favor, atenda a todos os requisitos de seguran├ºa da senha.');\r\n            return;\r\n        }\r\n        try {\r\n            const { data, error: signupError } = await supabase.auth.signUp({\r\n                email,\r\n                password,\r\n                options: {\r\n                    data: {\r\n                        full_name: fullName,\r\n                    },\r\n                    emailRedirectTo: `${window.location.origin}/auth/callback`,\r\n                },\r\n            });\r\n\r\n            if (signupError) throw signupError;\r\n\r\n            if (data.user) {\r\n                // Send custom welcome email via Resend\r\n                await fetch('/api/emails/welcome', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        email,\r\n                        name: fullName\r\n                    })\r\n                });\r\n\r\n                // Redirect to verify email page\r\n                router.push(`/auth/verify-email?email=${encodeURIComponent(email)}`);\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Ocorreu um erro ao criar sua conta.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={`${styles.card} animate-fade-blur`}>\r\n                <div className={styles.header}>\r\n                    <Link href=\"/\" className={styles.brand}>\r\n                        <div className={styles.logoWrapper}>\r\n                            <div className={styles.logoGlow} />\r\n                            <img src=\"/logo.png\" alt=\"Promptly\" className={styles.logo} />\r\n                        </div>\r\n                    </Link>\r\n                    <h1 className={styles.title}>Criar Conta</h1>\r\n                    <p className={styles.subtitle}>Comece a criar prompts profissionais hoje</p>\r\n                </div>\r\n\r\n                <form className={styles.form} onSubmit={handleSignup}>\r\n                    {error && <div className={styles.error}>{error}</div>}\r\n                    <div className={styles.field}>\r\n                        <label className={styles.label} htmlFor=\"name\">Nome Completo</label>\r\n                        <input\r\n                            className={styles.input}\r\n                            id=\"name\"\r\n                            type=\"text\"\r\n                            placeholder=\"Jo├úo Silva\"\r\n                            value={fullName}\r\n                            onChange={(e) => setFullName(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className={styles.field}>\r\n                        <label className={styles.label} htmlFor=\"email\">Email</label>\r\n                        <input\r\n                            className={styles.input}\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            placeholder=\"nome@exemplo.com\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className={styles.field}>\r\n                        <label className={styles.label} htmlFor=\"password\">Senha</label>\r\n                        <div className={styles.passwordWrapper}>\r\n                            <input\r\n                                className={styles.input}\r\n                                id=\"password\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                required\r\n                            />\r\n                            <button\r\n                                type=\"button\"\r\n                                className={styles.eyeButton}\r\n                                onClick={() => setShowPassword(!showPassword)}\r\n                                tabIndex={-1}\r\n                            >\r\n                                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                            </button>\r\n                        </div>\r\n                        <ul className={styles.checklist}>\r\n                            {passwordRequirements.map((req, i) => {\r\n                                const met = req.test(password);\r\n                                return (\r\n                                    <li key={i} className={`${styles.checkItem} ${met ? styles.met : ''}`}>\r\n                                        {met ? <CheckCircle2 size={14} /> : <Circle size={14} />}\r\n                                        {req.label}\r\n                                    </li>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                    <Button\r\n                        variant=\"primary\"\r\n                        type=\"submit\"\r\n                        className={styles.submitButton}\r\n                        loading={loading}\r\n                    >\r\n                        {loading ? 'Criando conta...' : 'Criar Conta'}\r\n                    </Button>\r\n                </form>\r\n                <div className={styles.footer}>\r\n                    J├í tem uma conta?\r\n                    <Link href=\"/login\" className={styles.link}>Entrar</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\app\\template.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\FadeIn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\LogoTicker\\LogoTicker.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":15,"column":25,"nodeType":"JSXOpeningElement","endLine":15,"endColumn":236},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":16,"column":25,"nodeType":"JSXOpeningElement","endLine":16,"endColumn":234},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":17,"column":25,"nodeType":"JSXOpeningElement","endLine":17,"endColumn":230},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":18,"column":25,"nodeType":"JSXOpeningElement","endLine":18,"endColumn":234},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":19,"column":25,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":246}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { InfiniteSlider } from '@/components/ui/infinite-slider';\n\nexport const LogoTicker = () => {\n    return (\n        <section className=\"w-full py-12 md:py-20 relative z-10 overflow-hidden\">\n            <div className=\"container mx-auto px-4 md:px-6\">\n                <div className=\"relative\">\n                    {/* Gradient Masks */}\n                    <div className=\"absolute left-0 top-0 bottom-0 w-20 md:w-32 bg-gradient-to-r from-background to-transparent z-20 pointer-events-none\" />\n                    <div className=\"absolute right-0 top-0 bottom-0 w-20 md:w-32 bg-gradient-to-l from-background to-transparent z-20 pointer-events-none\" />\n\n                    <InfiniteSlider gap={60} duration={30} durationOnHover={50} direction=\"horizontal\">\n                        <img src=\"/logos/lovable.png\" alt=\"Lovable\" className=\"h-12 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\n                        <img src=\"/logos/vercel.png\" alt=\"Vercel\" className=\"h-10 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\n                        <img src=\"/logos/bolt.png\" alt=\"Bolt\" className=\"h-10 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\n                        <img src=\"/logos/replit.png\" alt=\"Replit\" className=\"h-10 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\n                        <img src=\"/logos/google_ai.png\" alt=\"Google AI Studio\" className=\"h-9 w-auto opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300 transform hover:scale-105 cursor-pointer object-contain\" />\n                    </InfiniteSlider>\n                </div>\n            </div>\n        </section>\n    );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\macbook-scroll-demo.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":15,"column":21,"nodeType":"JSXOpeningElement","endLine":19,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { Typewriter } from \"@/components/ui/typewriter-text\";\r\nimport { MacbookScroll } from \"@/components/ui/macbook-scroll\";\r\n\r\nexport default function MacbookScrollDemo() {\r\n    return (\r\n        <div className=\"relative w-full overflow-hidden bg-black\">\r\n            {/* Mobile Alternative - Simple Text */}\r\n            <div className=\"block sm:hidden py-16 px-4 text-center\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-4\">\r\n                    O que voc├¬ constr├│i com apenas um prompt.\r\n                </h2>\r\n                <p className=\"text-gray-400 text-base mb-6\">Sem esfor├ºo.</p>\r\n                <div className=\"relative mx-auto max-w-[300px] rounded-xl overflow-hidden border border-white/10\">\r\n                    <img\r\n                        src=\"/macbook-screen-v2.png\"\r\n                        alt=\"Promptly Preview\"\r\n                        className=\"w-full h-auto\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Desktop MacBook Animation - Hidden on small mobile */}\r\n            <div className=\"hidden sm:block\">\r\n                <MacbookScroll\r\n                    title={\r\n                        <Typewriter\r\n                            text=\"O que voc├¬ constr├│i com apenas um prompt. Sem esfor├ºo.\"\r\n                            speed={35}\r\n                            cursor=\"_\"\r\n                            className=\"inline-block\"\r\n                        />\r\n                    }\r\n                    badge={\r\n                        <a href=\"https://peerlist.io/manuarora\">\r\n                            <Badge className=\"h-10 w-10 -rotate-12 transform\" />\r\n                        </a>\r\n                    }\r\n                    src={`/macbook-screen-v2.png`}\r\n                    showGradient={true}\r\n                />\r\n            </div>\r\n            {/* The Fog: Global Transition Overlay */}\r\n            <div className=\"pointer-events-none absolute bottom-0 left-0 right-0 z-50 h-40 bg-gradient-to-t from-black via-black to-transparent\" />\r\n        </div >\r\n    );\r\n}\r\n// Peerlist logo\r\nconst Badge = ({ className }: { className?: string }) => {\r\n    return (\r\n        <svg\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 56 56\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className={className}\r\n        >\r\n            <path\r\n                d=\"M56 28C56 43.464 43.464 56 28 56C12.536 56 0 43.464 0 28C0 12.536 12.536 0 28 0C43.464 0 56 12.536 56 28Z\"\r\n                fill=\"#00AA45\"\r\n            ></path>\r\n            <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M28 54C42.3594 54 54 42.3594 54 28C54 13.6406 42.3594 2 28 2C13.6406 2 2 13.6406 2 28C2 42.3594 13.6406 54 28 54ZM28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z\"\r\n                fill=\"#219653\"\r\n            ></path>\r\n            <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M27.0769 12H15V46H24.3846V38.8889H27.0769C34.7305 38.8889 41 32.9048 41 25.4444C41 17.984 34.7305 12 27.0769 12ZM24.3846 29.7778V21.1111H27.0769C29.6194 21.1111 31.6154 23.0864 31.6154 25.4444C31.6154 27.8024 29.6194 29.7778 27.0769 29.7778H24.3846Z\"\r\n                fill=\"#24292E\"\r\n            ></path>\r\n            <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M18 11H29.0769C36.2141 11 42 16.5716 42 23.4444C42 30.3173 36.2141 35.8889 29.0769 35.8889H25.3846V43H18V11ZM25.3846 28.7778H29.0769C32.1357 28.7778 34.6154 26.39 34.6154 23.4444C34.6154 20.4989 32.1357 18.1111 29.0769 18.1111H25.3846V28.7778Z\"\r\n                fill=\"white\"\r\n            ></path>\r\n            <path\r\n                fillRule=\"evenodd\"\r\n                clipRule=\"evenodd\"\r\n                d=\"M17 10H29.0769C36.7305 10 43 15.984 43 23.4444C43 30.9048 36.7305 36.8889 29.0769 36.8889H26.3846V44H17V10ZM19 12V42H24.3846V34.8889H29.0769C35.6978 34.8889 41 29.7298 41 23.4444C41 17.1591 35.6978 12 29.0769 12H19ZM24.3846 17.1111H29.0769C32.6521 17.1111 35.6154 19.9114 35.6154 23.4444C35.6154 26.9775 32.6521 29.7778 29.0769 29.7778H24.3846V17.1111ZM26.3846 19.1111V27.7778H29.0769C31.6194 27.7778 33.6154 25.8024 33.6154 23.4444C33.6154 21.0864 31.6194 19.1111 29.0769 19.1111H26.3846Z\"\r\n                fill=\"#24292E\"\r\n            ></path>\r\n        </svg>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\container-scroll-animation.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1973,1976],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1973,1976],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useRef } from \"react\";\r\nimport { useScroll, useTransform, motion, MotionValue } from \"framer-motion\";\r\n\r\nexport const ContainerScroll = ({\r\n    titleComponent,\r\n    children,\r\n}: {\r\n    titleComponent: string | React.ReactNode;\r\n    children: React.ReactNode;\r\n}) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const { scrollYProgress } = useScroll({\r\n        target: containerRef,\r\n    });\r\n    const [isMobile, setIsMobile] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        const checkMobile = () => {\r\n            setIsMobile(window.innerWidth <= 768);\r\n        };\r\n        checkMobile();\r\n        window.addEventListener(\"resize\", checkMobile);\r\n        return () => {\r\n            window.removeEventListener(\"resize\", checkMobile);\r\n        };\r\n    }, []);\r\n\r\n    const scaleDimensions = () => {\r\n        return isMobile ? [0.9, 1.05] : [1.05, 1];\r\n    };\r\n\r\n    // Smoother scroll physics\r\n    const rotate = useTransform(scrollYProgress, [0, 1], [15, 0]); // Reduced from 20deg for classier look\r\n    const scale = useTransform(scrollYProgress, [0, 1], scaleDimensions());\r\n    const translate = useTransform(scrollYProgress, [0, 0.5], [0, -50]); // Reduced movement range\r\n\r\n    return (\r\n        <div\r\n            className=\"h-auto md:h-[65rem] flex items-center justify-center relative p-0 md:p-20 pt-20 pb-0\"\r\n            ref={containerRef}\r\n        >\r\n            <div\r\n                className=\"w-full relative flex flex-col items-center justify-center pt-20 md:pt-40\"\r\n                style={{\r\n                    perspective: \"1000px\",\r\n                }}\r\n            >\r\n                <Header translate={translate} titleComponent={titleComponent} />\r\n                <Card rotate={rotate} translate={translate} scale={scale}>\r\n                    {children}\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Header = ({ translate, titleComponent }: any) => {\r\n    return (\r\n        <motion.div\r\n            style={{\r\n                translateY: translate,\r\n            }}\r\n            className=\"div max-w-5xl mx-auto text-center\"\r\n        >\r\n            {titleComponent}\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport const Card = ({\r\n    rotate,\r\n    scale,\r\n    children,\r\n}: {\r\n    rotate: MotionValue<number>;\r\n    scale: MotionValue<number>;\r\n    translate: MotionValue<number>;\r\n    children: React.ReactNode;\r\n}) => {\r\n    return (\r\n        <motion.div\r\n            style={{\r\n                rotateX: rotate,\r\n                scale,\r\n                boxShadow:\r\n                    \"0 0 #0000004d, 0 9px 20px #0000004a, 0 37px 37px #00000042, 0 84px 50px #00000026, 0 149px 60px #0000000a, 0 233px 65px #00000003\",\r\n            }}\r\n            className=\"max-w-5xl mt-2 md:mt-12 mx-auto h-auto aspect-[16/9] md:h-[40rem] md:aspect-auto w-full border-4 border-[#6C6C6C] p-2 md:p-6 bg-[#222222] rounded-[30px] shadow-2xl\"\r\n        >\r\n            <div className=\" h-full w-full  overflow-hidden rounded-2xl bg-gray-100 dark:bg-zinc-900 md:rounded-2xl md:p-4 \">\r\n                {children}\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\dark-veil.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\infinite-slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\macbook-scroll.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used.","line":2,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":35},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\macbook-scroll.tsx:49:13\n  47 |     useEffect(() => {\n  48 |         if (window && window.innerWidth < 768) {\n> 49 |             setIsMobile(true);\n     |             ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  50 |         }\n  51 |     }, []);\n  52 |","line":49,"column":13,"nodeType":null,"endLine":49,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showGradient' is defined but never used.","line":129,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":129,"endColumn":17},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":171,"column":17,"nodeType":"JSXOpeningElement","endLine":178,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AceternityLogo' is assigned a value but never used.","line":648,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":648,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { MotionValue, motion, useScroll, useTransform } from \"motion/react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n    IconBrightnessDown,\r\n    IconBrightnessUp,\r\n    IconCaretRightFilled,\r\n    IconCaretUpFilled,\r\n    IconChevronUp,\r\n    IconMicrophone,\r\n    IconMoon,\r\n    IconPlayerSkipForward,\r\n    IconPlayerTrackNext,\r\n    IconPlayerTrackPrev,\r\n    IconTable,\r\n    IconVolume,\r\n    IconVolume2,\r\n    IconVolume3,\r\n} from \"@tabler/icons-react\";\r\nimport { IconSearch } from \"@tabler/icons-react\";\r\nimport { IconWorld } from \"@tabler/icons-react\";\r\nimport { IconCommand } from \"@tabler/icons-react\";\r\nimport { IconCaretLeftFilled } from \"@tabler/icons-react\";\r\nimport { IconCaretDownFilled } from \"@tabler/icons-react\";\r\n\r\n\r\nexport const MacbookScroll = ({\r\n    src,\r\n    showGradient,\r\n    title,\r\n    badge,\r\n}: {\r\n    src?: string;\r\n    showGradient?: boolean;\r\n    title?: string | React.ReactNode;\r\n    badge?: React.ReactNode;\r\n}) => {\r\n    const ref = useRef<HTMLDivElement>(null);\r\n    const { scrollYProgress } = useScroll({\r\n        target: ref,\r\n        offset: [\"start start\", \"end start\"],\r\n    });\r\n\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (window && window.innerWidth < 768) {\r\n            setIsMobile(true);\r\n        }\r\n    }, []);\r\n\r\n    const scaleX = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.3],\r\n        [1.2, isMobile ? 1 : 1.5],\r\n    );\r\n    const scaleY = useTransform(\r\n        scrollYProgress,\r\n        [0, 0.3],\r\n        [0.6, isMobile ? 1 : 1.5],\r\n    );\r\n    const translate = useTransform(scrollYProgress, [0, 1], [0, 1500]);\r\n    const rotate = useTransform(scrollYProgress, [0.1, 0.12, 0.3], [-28, -28, 0]);\r\n    const textTransform = useTransform(scrollYProgress, [0, 0.3], [0, 100]);\r\n    const textOpacity = useTransform(scrollYProgress, [0, 0.2], [1, 0]);\r\n\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className=\"flex min-h-[200vh] shrink-0 transform flex-col items-center justify-start py-0 [perspective:800px] scale-[0.30] sm:scale-[0.40] md:scale-[0.60] lg:scale-75 xl:scale-100 md:pt-40 md:pb-80\"\r\n        >\r\n            <motion.h2\r\n                style={{\r\n                    translateY: textTransform,\r\n                    opacity: textOpacity,\r\n                }}\r\n                className=\"mb-10 text-center text-3xl font-bold text-neutral-800 dark:text-white\"\r\n            >\r\n                {title || (\r\n                    <span>\r\n                        This Macbook is built with Tailwindcss. <br /> No kidding.\r\n                    </span>\r\n                )}\r\n            </motion.h2>\r\n            {/* Lid */}\r\n            <Lid\r\n                src={src}\r\n                scaleX={scaleX}\r\n                scaleY={scaleY}\r\n                rotate={rotate}\r\n                translate={translate}\r\n                showGradient={showGradient}\r\n            />\r\n            {/* Base area */}\r\n            <div className=\"relative -z-10 h-[22rem] w-[32rem] overflow-hidden rounded-2xl bg-gray-200 dark:bg-[#272729]\">\r\n                {/* above keyboard bar */}\r\n                <div className=\"relative h-10 w-full\">\r\n                    <div className=\"absolute inset-x-0 mx-auto h-4 w-[80%] bg-[#050505]\" />\r\n                </div>\r\n                <div className=\"relative flex\">\r\n                    <div className=\"mx-auto h-full w-[10%] overflow-hidden\">\r\n                        <SpeakerGrid />\r\n                    </div>\r\n                    <div className=\"mx-auto h-full w-[80%]\">\r\n                        <Keypad />\r\n                    </div>\r\n                    <div className=\"mx-auto h-full w-[10%] overflow-hidden\">\r\n                        <SpeakerGrid />\r\n                    </div>\r\n                </div>\r\n                <Trackpad />\r\n                <div className=\"absolute inset-x-0 bottom-0 mx-auto h-2 w-20 rounded-tl-3xl rounded-tr-3xl bg-gradient-to-t from-[#272729] to-[#050505]\" />\r\n                {showGradient && (\r\n                    <div className=\"absolute inset-x-0 bottom-0 z-50 h-40 w-full bg-gradient-to-t from-white via-white to-transparent dark:from-black dark:via-black\"></div>\r\n                )}\r\n                {badge && <div className=\"absolute bottom-4 left-4\">{badge}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Lid = ({\r\n    scaleX,\r\n    scaleY,\r\n    rotate,\r\n    translate,\r\n    src,\r\n    showGradient,\r\n}: {\r\n    scaleX: MotionValue<number>;\r\n    scaleY: MotionValue<number>;\r\n    rotate: MotionValue<number>;\r\n    translate: MotionValue<number>;\r\n    src?: string;\r\n    showGradient?: boolean;\r\n}) => {\r\n    return (\r\n        <div className=\"relative [perspective:800px]\">\r\n            <div\r\n                style={{\r\n                    transform: \"perspective(800px) rotateX(-25deg) translateZ(0px)\",\r\n                    transformOrigin: \"bottom\",\r\n                    transformStyle: \"preserve-3d\",\r\n                }}\r\n                className=\"relative h-[12rem] w-[32rem] rounded-2xl bg-[#010101] p-2\"\r\n            >\r\n                <div\r\n                    style={{\r\n                        boxShadow: \"0px 2px 0px 2px #171717 inset\",\r\n                    }}\r\n                    className=\"absolute inset-0 flex items-center justify-center rounded-lg bg-[#010101]\"\r\n                >\r\n                    <span className=\"text-white text-lg font-bold\">\r\n                        Promptly\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <motion.div\r\n                style={{\r\n                    scaleX: scaleX,\r\n                    scaleY: scaleY,\r\n                    rotateX: rotate,\r\n                    translateY: translate,\r\n                    transformStyle: \"preserve-3d\",\r\n                    transformOrigin: \"top\",\r\n                }}\r\n                className=\"absolute inset-0 h-96 w-[32rem] rounded-2xl bg-[#010101] p-2\"\r\n            >\r\n                <div className=\"absolute inset-0 rounded-lg bg-[#272729]\" />\r\n                <img\r\n                    src={src as string}\r\n                    alt=\"aceternity logo\"\r\n                    className=\"absolute inset-0 h-full w-full rounded-lg object-cover\"\r\n                    style={{\r\n                        objectPosition: '35% 0',\r\n                    }}\r\n                />\r\n            </motion.div>\r\n\r\n\r\n        </div >\r\n    );\r\n};\r\n\r\nexport const Trackpad = React.memo(() => {\r\n    return (\r\n        <div\r\n            className=\"mx-auto my-1 h-32 w-[40%] rounded-xl\"\r\n            style={{\r\n                boxShadow: \"0px 0px 1px 1px #00000020 inset\",\r\n            }}\r\n        ></div>\r\n    );\r\n});\r\nTrackpad.displayName = \"Trackpad\";\r\n\r\nexport const Keypad = React.memo(() => {\r\n    return (\r\n        <div className=\"mx-1 h-full [transform:translateZ(0)] rounded-md bg-[#050505] p-1 [will-change:transform]\">\r\n            {/* First Row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn\r\n                    className=\"w-10 items-end justify-start pb-[2px] pl-[4px]\"\r\n                    childrenClassName=\"items-start\"\r\n                >\r\n                    esc\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconBrightnessDown className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F1</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconBrightnessUp className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F2</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconTable className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F3</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconSearch className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F4</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconMicrophone className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F5</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconMoon className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F6</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconPlayerTrackPrev className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F7</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconPlayerSkipForward className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F8</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconPlayerTrackNext className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F8</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconVolume3 className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F10</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconVolume2 className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F11</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <IconVolume className=\"h-[6px] w-[6px]\" />\r\n                    <span className=\"mt-1 inline-block\">F12</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <div className=\"h-4 w-4 rounded-full bg-gradient-to-b from-neutral-900 from-20% via-black via-50% to-neutral-900 to-95% p-px\">\r\n                        <div className=\"h-full w-full rounded-full bg-black\" />\r\n                    </div>\r\n                </KBtn>\r\n            </div>\r\n\r\n            {/* Second row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn>\r\n                    <span className=\"block\">~</span>\r\n                    <span className=\"mt-1 block\">`</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">!</span>\r\n                    <span className=\"block\">1</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">@</span>\r\n                    <span className=\"block\">2</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">#</span>\r\n                    <span className=\"block\">3</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">$</span>\r\n                    <span className=\"block\">4</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">%</span>\r\n                    <span className=\"block\">5</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">^</span>\r\n                    <span className=\"block\">6</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">&</span>\r\n                    <span className=\"block\">7</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">*</span>\r\n                    <span className=\"block\">8</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">(</span>\r\n                    <span className=\"block\">9</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">)</span>\r\n                    <span className=\"block\">0</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">&mdash;</span>\r\n                    <span className=\"block\">_</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">+</span>\r\n                    <span className=\"block\"> = </span>\r\n                </KBtn>\r\n                <KBtn\r\n                    className=\"w-10 items-end justify-end pr-[4px] pb-[2px]\"\r\n                    childrenClassName=\"items-end\"\r\n                >\r\n                    delete\r\n                </KBtn>\r\n            </div>\r\n\r\n            {/* Third row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn\r\n                    className=\"w-10 items-end justify-start pb-[2px] pl-[4px]\"\r\n                    childrenClassName=\"items-start\"\r\n                >\r\n                    tab\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">Q</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">W</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">E</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">R</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">T</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">Y</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">U</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">I</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">O</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">P</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`{`}</span>\r\n                    <span className=\"block\">{`[`}</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`}`}</span>\r\n                    <span className=\"block\">{`]`}</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`|`}</span>\r\n                    <span className=\"block\">{`\\\\`}</span>\r\n                </KBtn>\r\n            </div>\r\n\r\n            {/* Fourth Row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn\r\n                    className=\"w-[2.8rem] items-end justify-start pb-[2px] pl-[4px]\"\r\n                    childrenClassName=\"items-start\"\r\n                >\r\n                    caps lock\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">A</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">S</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">D</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">F</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">G</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">H</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">J</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">K</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">L</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`:`}</span>\r\n                    <span className=\"block\">{`;`}</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`\"`}</span>\r\n                    <span className=\"block\">{`'`}</span>\r\n                </KBtn>\r\n                <KBtn\r\n                    className=\"w-[2.85rem] items-end justify-end pr-[4px] pb-[2px]\"\r\n                    childrenClassName=\"items-end\"\r\n                >\r\n                    return\r\n                </KBtn>\r\n            </div>\r\n\r\n            {/* Fifth Row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn\r\n                    className=\"w-[3.65rem] items-end justify-start pb-[2px] pl-[4px]\"\r\n                    childrenClassName=\"items-start\"\r\n                >\r\n                    shift\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">Z</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">X</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">C</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">V</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">B</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">N</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">M</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`<`}</span>\r\n                    <span className=\"block\">{`,`}</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`>`}</span>\r\n                    <span className=\"block\">{`.`}</span>\r\n                </KBtn>\r\n                <KBtn>\r\n                    <span className=\"block\">{`?`}</span>\r\n                    <span className=\"block\">{`/`}</span>\r\n                </KBtn>\r\n                <KBtn\r\n                    className=\"w-[3.65rem] items-end justify-end pr-[4px] pb-[2px]\"\r\n                    childrenClassName=\"items-end\"\r\n                >\r\n                    shift\r\n                </KBtn>\r\n            </div>\r\n\r\n            {/* sixth Row */}\r\n            <div className=\"mb-[2px] flex w-full shrink-0 gap-[2px]\">\r\n                <KBtn className=\"\" childrenClassName=\"h-full justify-between py-[4px]\">\r\n                    <div className=\"flex w-full justify-end pr-1\">\r\n                        <span className=\"block\">fn</span>\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <IconWorld className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                </KBtn>\r\n                <KBtn className=\"\" childrenClassName=\"h-full justify-between py-[4px]\">\r\n                    <div className=\"flex w-full justify-end pr-1\">\r\n                        <IconChevronUp className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <span className=\"block\">control</span>\r\n                    </div>\r\n                </KBtn>\r\n                <KBtn className=\"\" childrenClassName=\"h-full justify-between py-[4px]\">\r\n                    <div className=\"flex w-full justify-end pr-1\">\r\n                        <OptionKey className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <span className=\"block\">option</span>\r\n                    </div>\r\n                </KBtn>\r\n                <KBtn\r\n                    className=\"w-8\"\r\n                    childrenClassName=\"h-full justify-between py-[4px]\"\r\n                >\r\n                    <div className=\"flex w-full justify-end pr-1\">\r\n                        <IconCommand className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <span className=\"block\">command</span>\r\n                    </div>\r\n                </KBtn>\r\n                <KBtn className=\"w-[8.2rem]\"></KBtn>\r\n                <KBtn\r\n                    className=\"w-8\"\r\n                    childrenClassName=\"h-full justify-between py-[4px]\"\r\n                >\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <IconCommand className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <span className=\"block\">command</span>\r\n                    </div>\r\n                </KBtn>\r\n                <KBtn className=\"\" childrenClassName=\"h-full justify-between py-[4px]\">\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <OptionKey className=\"h-[6px] w-[6px]\" />\r\n                    </div>\r\n                    <div className=\"flex w-full justify-start pl-1\">\r\n                        <span className=\"block\">option</span>\r\n                    </div>\r\n                </KBtn>\r\n                <div className=\"mt-[2px] flex h-6 w-[4.9rem] flex-col items-center justify-end rounded-[4px] p-[0.5px]\">\r\n                    <KBtn className=\"h-3 w-6\">\r\n                        <IconCaretUpFilled className=\"h-[6px] w-[6px]\" />\r\n                    </KBtn>\r\n                    <div className=\"flex\">\r\n                        <KBtn className=\"h-3 w-6\">\r\n                            <IconCaretLeftFilled className=\"h-[6px] w-[6px]\" />\r\n                        </KBtn>\r\n                        <KBtn className=\"h-3 w-6\">\r\n                            <IconCaretDownFilled className=\"h-[6px] w-[6px]\" />\r\n                        </KBtn>\r\n                        <KBtn className=\"h-3 w-6\">\r\n                            <IconCaretRightFilled className=\"h-[6px] w-[6px]\" />\r\n                        </KBtn>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\nKeypad.displayName = \"Keypad\";\r\n\r\nconst KBtn = React.memo(({\r\n    className,\r\n    children,\r\n    childrenClassName,\r\n    backlit = true,\r\n}: {\r\n    className?: string;\r\n    children?: React.ReactNode;\r\n    childrenClassName?: string;\r\n    backlit?: boolean;\r\n}) => {\r\n    return (\r\n        <div\r\n            className={cn(\r\n                \"[transform:translateZ(0)] rounded-[4px] p-[0.5px] [will-change:transform]\",\r\n                backlit && \"bg-white/[0.2] shadow-xl shadow-white\",\r\n            )}\r\n        >\r\n            <div\r\n                className={cn(\r\n                    \"flex h-6 w-6 items-center justify-center rounded-[3.5px] bg-[#0A090D]\",\r\n                    className,\r\n                )}\r\n                style={{\r\n                    boxShadow:\r\n                        \"0px -0.5px 2px 0 #0D0D0F inset, -0.5px 0px 2px 0 #0D0D0F inset\",\r\n                }}\r\n            >\r\n                <div\r\n                    className={cn(\r\n                        \"flex w-full flex-col items-center justify-center text-[5px] text-neutral-200\",\r\n                        childrenClassName,\r\n                        backlit && \"text-white\",\r\n                    )}\r\n                >\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\nKBtn.displayName = \"KBtn\";\r\n\r\nconst SpeakerGrid = React.memo(() => {\r\n    return (\r\n        <div\r\n            className=\"mt-2 flex h-40 gap-[2px] px-[0.5px]\"\r\n            style={{\r\n                backgroundImage:\r\n                    \"radial-gradient(circle, #08080A 0.5px, transparent 0.5px)\",\r\n                backgroundSize: \"3px 3px\",\r\n            }}\r\n        ></div>\r\n    );\r\n});\r\nSpeakerGrid.displayName = \"SpeakerGrid\";\r\n\r\nexport const OptionKey = ({ className }: { className: string }) => {\r\n    return (\r\n        <svg\r\n            fill=\"none\"\r\n            version=\"1.1\"\r\n            id=\"icon\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 32 32\"\r\n            className={className}\r\n        >\r\n            <rect\r\n                stroke=\"currentColor\"\r\n                strokeWidth={2}\r\n                x=\"18\"\r\n                y=\"5\"\r\n                width=\"10\"\r\n                height=\"2\"\r\n            />\r\n            <polygon\r\n                stroke=\"currentColor\"\r\n                strokeWidth={2}\r\n                points=\"10.6,5 4,5 4,7 9.4,7 18.4,27 28,27 28,25 19.6,25 \"\r\n            />\r\n            <rect\r\n                id=\"_Transparent_Rectangle_\"\r\n                className=\"st0\"\r\n                width=\"32\"\r\n                height=\"32\"\r\n                stroke=\"none\"\r\n            />\r\n        </svg>\r\n    );\r\n};\r\n\r\nconst AceternityLogo = () => {\r\n    return (\r\n        <svg\r\n            width=\"66\"\r\n            height=\"65\"\r\n            viewBox=\"0 0 66 65\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-3 w-3 text-white\"\r\n        >\r\n            <path\r\n                d=\"M8 8.05571C8 8.05571 54.9009 18.1782 57.8687 30.062C60.8365 41.9458 9.05432 57.4696 9.05432 57.4696\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"15\"\r\n                strokeMiterlimit=\"3.86874\"\r\n                strokeLinecap=\"round\"\r\n            />\r\n        </svg>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\text-shimmer.tsx","messages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\text-shimmer.tsx:28:10\n  26 |\n  27 |     return (\n> 28 |         <MotionComponent\n     |          ^^^^^^^^^^^^^^^ This component is created during render\n  29 |             className={cn(\n  30 |                 'relative inline-block bg-[length:250%_100%,auto] bg-clip-text',\n  31 |                 'text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]',\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\text-shimmer.tsx:21:29\n  19 |     spread = 2,\n  20 | }: TextShimmerProps) {\n> 21 |     const MotionComponent = motion(Component as keyof JSX.IntrinsicElements);\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  22 |\n  23 |     const dynamicSpread = useMemo(() => {\n  24 |         return children.length * spread;","line":28,"column":10,"nodeType":null,"endLine":28,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport React, { useMemo, type JSX } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface TextShimmerProps {\r\n    children: string;\r\n    as?: React.ElementType;\r\n    className?: string;\r\n    duration?: number;\r\n    spread?: number;\r\n}\r\n\r\nexport function TextShimmer({\r\n    children,\r\n    as: Component = 'p',\r\n    className,\r\n    duration = 2,\r\n    spread = 2,\r\n}: TextShimmerProps) {\r\n    const MotionComponent = motion(Component as keyof JSX.IntrinsicElements);\r\n\r\n    const dynamicSpread = useMemo(() => {\r\n        return children.length * spread;\r\n    }, [children, spread]);\r\n\r\n    return (\r\n        <MotionComponent\r\n            className={cn(\r\n                'relative inline-block bg-[length:250%_100%,auto] bg-clip-text',\r\n                'text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]',\r\n                '[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))] [background-repeat:no-repeat,padding-box]',\r\n                'dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff] dark:[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]',\r\n                className\r\n            )}\r\n            initial={{ backgroundPosition: '100% center' }}\r\n            animate={{ backgroundPosition: '0% center' }}\r\n            transition={{\r\n                repeat: Infinity,\r\n                duration,\r\n                ease: 'linear',\r\n            }}\r\n            style={\r\n                {\r\n                    '--spread': `${dynamicSpread}px`,\r\n                    backgroundImage: `var(--bg), linear-gradient(var(--base-color), var(--base-color))`,\r\n                } as React.CSSProperties\r\n            }\r\n        >\r\n            {children}\r\n        </MotionComponent>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\components\\ui\\typewriter-text.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'textArray.length'. Either include it or remove the dependency array.","line":64,"column":8,"nodeType":"ArrayExpression","endLine":75,"endColumn":6,"suggestions":[{"desc":"Update the dependencies array to be: [currentIndex, isDeleting, currentText, loop, speed, deleteSpeed, delay, displayText, text, isInView, textArray.length]","fix":{"range":[2053,2251],"text":"[currentIndex, isDeleting, currentText, loop, speed, deleteSpeed, delay, displayText, text, isInView, textArray.length]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport * as React from \"react\"\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useInView } from \"motion/react\";\r\n\r\nexport interface TypewriterProps {\r\n    text: string | string[];\r\n    speed?: number;\r\n    cursor?: string;\r\n    loop?: boolean;\r\n    deleteSpeed?: number;\r\n    delay?: number;\r\n    className?: string;\r\n}\r\n\r\nexport function Typewriter({\r\n    text,\r\n    speed = 100,\r\n    cursor = \"|\",\r\n    loop = false,\r\n    deleteSpeed = 50,\r\n    delay = 1500,\r\n    className,\r\n}: TypewriterProps) {\r\n    const [displayText, setDisplayText] = useState(\"\");\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [textArrayIndex, setTextArrayIndex] = useState(0);\r\n\r\n    const ref = useRef(null);\r\n    const isInView = useInView(ref, { once: true });\r\n\r\n    // Validate and process input text\r\n    const textArray = Array.isArray(text) ? text : [text];\r\n    const currentText = textArray[textArrayIndex] || \"\";\r\n\r\n    useEffect(() => {\r\n        if (!currentText || !isInView) return;\r\n\r\n        const timeout = setTimeout(\r\n            () => {\r\n                if (!isDeleting) {\r\n                    if (currentIndex < currentText.length) {\r\n                        setDisplayText((prev) => prev + currentText[currentIndex]);\r\n                        setCurrentIndex((prev) => prev + 1);\r\n                    } else if (loop) {\r\n                        setTimeout(() => setIsDeleting(true), delay);\r\n                    }\r\n                } else {\r\n                    if (displayText.length > 0) {\r\n                        setDisplayText((prev) => prev.slice(0, -1));\r\n                    } else {\r\n                        setIsDeleting(false);\r\n                        setCurrentIndex(0);\r\n                        setTextArrayIndex((prev) => (prev + 1) % textArray.length);\r\n                    }\r\n                }\r\n            },\r\n            isDeleting ? deleteSpeed : speed,\r\n        );\r\n\r\n        return () => clearTimeout(timeout);\r\n    }, [\r\n        currentIndex,\r\n        isDeleting,\r\n        currentText,\r\n        loop,\r\n        speed,\r\n        deleteSpeed,\r\n        delay,\r\n        displayText,\r\n        text,\r\n        isInView\r\n    ]);\r\n\r\n    return (\r\n        <span ref={ref} className={className}>\r\n            {displayText}\r\n            <span className=\"animate-pulse\">{cursor}</span>\r\n        </span>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\hooks\\useShowcaseData.ts","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\hooks\\useShowcaseData.ts:77:9\n  75 |\n  76 |     useEffect(() => {\n> 77 |         fetchData();\n     |         ^^^^^^^^^ Avoid calling setState() directly within an effect\n  78 |     }, [fetchData]);\n  79 |\n  80 |     const filteredData = useMemo(() => {","line":77,"column":9,"nodeType":null,"endLine":77,"endColumn":18},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\hooks\\useShowcaseData.ts:98:9\n   96 |\n   97 |     useEffect(() => {\n>  98 |         setCurrentPage(1);\n      |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n   99 |     }, [searchTerm]);\n  100 |\n  101 |     const allTags = useMemo(() => {","line":98,"column":9,"nodeType":null,"endLine":98,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Hook for fetching and managing showcase data\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { ExampleData, ShowcaseState } from '@/types/showcase';\r\n\r\n// ========================================\r\n// ­ƒÄ¼ CONFIGURE SEUS EXEMPLOS AQUI\r\n// ========================================\r\n// Para adicionar v├¡deos:\r\n// 1. Coloque seus arquivos MP4 na pasta: public/videos/\r\n// 2. Use a URL: '/videos/seu-arquivo.mp4'\r\n// ========================================\r\n\r\nconst MOCK_EXAMPLES: ExampleData[] = [\r\n    {\r\n        id: '1',\r\n        title: 'Landing Page para Barbearia',\r\n        description: 'P├ígina completa com: Header, Hero, Sess├úo de Servi├ºos, Sess├úo de Testemunhas, Sess├úo de Contato e Footer.',\r\n        videoUrl: '/videos/barbershop.mp4', // <-- URL simplificada e segura\r\n        appLink: 'https://barber-shopp.lovable.app',\r\n        tags: ['Landing Page', 'Barbearia', 'Servi├ºos'],\r\n        author: { id: 'u1', name: 'Promptly' },\r\n        createdAt: new Date('2026-01-28'),\r\n    },\r\n    {\r\n        id: '2',\r\n        title: 'SaaS completo + Landing Page',\r\n        description: 'Plataforma para gerenciamento de empresas pequenas com: Dashboard, Cadastro de Usu├írio, Controle de estoque e de vendas + Landing Page',\r\n        videoUrl: '/videos/controlestore.mp4', // <-- Coloque seu MP4 em public/videos/exemplo-2.mp4\r\n        appLink: 'https://controle-store-test.lovable.app',\r\n        tags: ['SaaS', 'Landing Page', 'Gest├úo'],\r\n        author: { id: 'u2', name: 'Promptly' },\r\n        createdAt: new Date('2026-01-25'),\r\n    },\r\n    {\r\n        id: '3',\r\n        title: 'Landing Page para Advogado',\r\n        description: 'Landing Page profissional para advogados com: Header, Hero, Sess├úo de Servi├ºos, Sess├úo de Depoimentos, Sess├úo de Contato e Footer.',\r\n        videoUrl: '/videos/landingadvogado2.mp4', // <-- Coloque seu MP4 em public/videos/exemplo-3.mp4\r\n        appLink: 'https://v0-drpaulomartins.vercel.app',\r\n        tags: ['Landing Page', 'Advocacia', 'Profissionalismo'],\r\n        author: { id: 'u3', name: 'Promptly' },\r\n        createdAt: new Date('2026-01-22'),\r\n    },\r\n];\r\n\r\nconst ITEMS_PER_PAGE = 12;\r\n\r\nexport const useShowcaseData = () => {\r\n    const [data, setData] = useState<ExampleData[]>([]);\r\n    const [state, setState] = useState<ShowcaseState>('LOADING');\r\n    const [searchTerm, setSearchTerm] = useState<string>('');\r\n    const [currentPage, setCurrentPage] = useState<number>(1);\r\n\r\n    const fetchData = useCallback(async () => {\r\n        setState('LOADING');\r\n        try {\r\n            await new Promise(resolve => setTimeout(resolve, 300));\r\n            const response: ExampleData[] = MOCK_EXAMPLES;\r\n\r\n            if (response.length === 0) {\r\n                setState('EMPTY');\r\n            } else {\r\n                const sortedData = response.sort(\r\n                    (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n                );\r\n                setData(sortedData);\r\n                setState('SUCCESS');\r\n            }\r\n        } catch (error) {\r\n            console.error('Fetch Error:', error);\r\n            setState('ERROR');\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [fetchData]);\r\n\r\n    const filteredData = useMemo(() => {\r\n        if (!searchTerm.trim()) return data;\r\n        const searchLower = searchTerm.toLowerCase();\r\n        return data.filter(item => {\r\n            const matchesTitle = item.title.toLowerCase().includes(searchLower);\r\n            const matchesDesc = item.description.toLowerCase().includes(searchLower);\r\n            const matchesTags = item.tags.some(tag => tag.toLowerCase().includes(searchLower));\r\n            return matchesTitle || matchesDesc || matchesTags;\r\n        });\r\n    }, [data, searchTerm]);\r\n\r\n    const totalPages = Math.ceil(filteredData.length / ITEMS_PER_PAGE);\r\n    const paginatedData = useMemo(() => {\r\n        const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n        return filteredData.slice(startIndex, startIndex + ITEMS_PER_PAGE);\r\n    }, [filteredData, currentPage]);\r\n\r\n    useEffect(() => {\r\n        setCurrentPage(1);\r\n    }, [searchTerm]);\r\n\r\n    const allTags = useMemo(() => {\r\n        const tagsSet = new Set<string>();\r\n        data.forEach(item => item.tags.forEach(tag => tagsSet.add(tag)));\r\n        return Array.from(tagsSet).sort();\r\n    }, [data]);\r\n\r\n    return {\r\n        data: paginatedData,\r\n        allData: filteredData,\r\n        state: filteredData.length === 0 && state === 'SUCCESS' ? 'EMPTY' : state,\r\n        searchTerm,\r\n        setSearchTerm,\r\n        currentPage,\r\n        setCurrentPage,\r\n        totalPages,\r\n        allTags,\r\n        refetch: fetchData,\r\n    };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\formatters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\hooks\\useScrollReveal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\permissions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\resend.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\saas_constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\proxy.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'options' is defined but never used.","line":20,"column":58,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\r\nimport { NextResponse, type NextRequest } from \"next/server\";\r\n\r\nexport async function proxy(request: NextRequest) {\r\n    let response = NextResponse.next({\r\n        request: {\r\n            headers: request.headers,\r\n        },\r\n    });\r\n\r\n    const supabase = createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return request.cookies.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        request.cookies.set(name, value)\r\n                    );\r\n                    response = NextResponse.next({\r\n                        request: {\r\n                            headers: request.headers,\r\n                        },\r\n                    });\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        response.cookies.set(name, value, options)\r\n                    );\r\n                },\r\n            },\r\n        }\r\n    );\r\n\r\n    const {\r\n        data: { user },\r\n    } = await supabase.auth.getUser();\r\n\r\n    const url = request.nextUrl.clone();\r\n\r\n    // 1. Logic for Authenticated Users\r\n    if (user) {\r\n        try {\r\n            // Use the Database Logic (RPC) to check subscription\r\n            // This calls the 'is_paid_user' function we created in Supabase\r\n            const { data: isPaid, error } = await supabase.rpc('is_paid_user', { user_uuid: user.id });\r\n\r\n            // Handle RPC error or null gracefully\r\n            if (!error && isPaid) {\r\n                // STRICT REQUIREMENT: Paid users cannot see Home (/)\r\n                if (url.pathname === \"/\") {\r\n                    url.pathname = \"/dashboard\";\r\n                    return NextResponse.redirect(url);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            // Fallback: If RPC fails, do nothing (allow access) to prevent 404/Crash\r\n            console.error(\"Middleware RPC Error:\", e);\r\n        }\r\n    }\r\n\r\n    // 2. Logic for Unauthenticated Users\r\n    if (!user) {\r\n        // Protect Dashboard Routes\r\n        if (url.pathname.startsWith(\"/dashboard\") || url.pathname.startsWith(\"/projects\")) {\r\n            const loginUrl = request.nextUrl.clone();\r\n            loginUrl.pathname = \"/login\";\r\n            return NextResponse.redirect(loginUrl);\r\n        }\r\n    }\r\n\r\n    return response;\r\n}\r\n\r\nexport const config = {\r\n    matcher: [\r\n        /*\r\n         * Match all request paths except for the ones starting with:\r\n         * - _next/static (static files)\r\n         * - _next/image (image optimization files)\r\n         * - favicon.ico (favicon file)\r\n         * - public files (svg, png, etc.)\r\n         */\r\n        \"/((?!_next/static|_next/image|favicon.ico|api/|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)\",\r\n    ],\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\types\\showcase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\1taless\\Desktop\\promptly\\promptly\\src\\utils\\prompt-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
